(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[610],{7328:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/articles/react-sound-test",function(){return s(6838)}])},7645:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let s=r.default,n=(null==t?void 0:t.suspense)?{}:{loading(e){let{error:t,isLoading:s,pastDelay:l}=e;return null}};if(e instanceof Promise?n.loader=()=>e:"function"==typeof e?n.loader=e:"object"==typeof e&&(n=l({},n,e)),(n=l({},n,t)).suspense&&(delete n.ssr,delete n.loading),n.loadableGenerated&&delete(n=l({},n,n.loadableGenerated)).loadableGenerated,"boolean"==typeof n.ssr&&!n.suspense){if(!n.ssr)return delete n.ssr,a(s,n);delete n.ssr}return s(n)},t.noSSR=a;var l=s(6495).Z,n=s(2648).Z,r=(n(s(7294)),n(s(4588)));function a(e,t){return delete t.webpack,delete t.modules,e(t)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3644:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadableContext=void 0;var l=(0,s(2648).Z)(s(7294));let n=l.default.createContext(null);t.LoadableContext=n},4588:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=s(6495).Z,n=(0,s(1598).Z)(s(7294)),r=s(3644);let a=[],i=[],o=!1;function d(e){let t=e(),s={loading:!0,loaded:null,error:null};return s.promise=t.then(e=>(s.loading=!1,s.loaded=e,e)).catch(e=>{throw s.loading=!1,s.error=e,e}),s}class u{promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:e,_opts:t}=this;e.loading&&("number"==typeof t.delay&&(0===t.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},t.delay)),"number"==typeof t.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},t.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(e=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(e){this._state=l({},this._state,{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},e),this._callbacks.forEach(e=>e())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(e){return this._callbacks.add(e),()=>{this._callbacks.delete(e)}}constructor(e,t){this._loadFn=e,this._opts=t,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}}function c(e){return function(e,t){let s=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null,suspense:!1},t);s.suspense&&(s.lazy=n.default.lazy(s.loader));let a=null;function d(){if(!a){let t=new u(e,s);a={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return a.promise()}if(!o){let c=s.webpack?s.webpack():s.modules;c&&i.push(e=>{for(let t of c)if(-1!==e.indexOf(t))return d()})}function p(){d();let e=n.default.useContext(r.LoadableContext);e&&Array.isArray(s.modules)&&s.modules.forEach(t=>{e(t)})}let f=s.suspense?function(e,t){return p(),n.default.createElement(s.lazy,l({},e,{ref:t}))}:function(e,t){p();let l=n.useSyncExternalStore(a.subscribe,a.getCurrentValue,a.getCurrentValue);return n.default.useImperativeHandle(t,()=>({retry:a.retry}),[]),n.default.useMemo(()=>{var t;return l.loading||l.error?n.default.createElement(s.loading,{isLoading:l.loading,pastDelay:l.pastDelay,timedOut:l.timedOut,error:l.error,retry:a.retry}):l.loaded?n.default.createElement((t=l.loaded)&&t.__esModule?t.default:t,e):null},[e,l])};return f.preload=()=>d(),f.displayName="LoadableComponent",n.default.forwardRef(f)}(d,e)}function p(e,t){let s=[];for(;e.length;){let l=e.pop();s.push(l(t))}return Promise.all(s).then(()=>{if(e.length)return p(e,t)})}c.preloadAll=()=>new Promise((e,t)=>{p(a).then(e,t)}),c.preloadReady=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise(t=>{let s=()=>(o=!0,t());p(i,e).then(s,s)})},window.__NEXT_PRELOADREADY=c.preloadReady,t.default=c},4765:function(e,t,s){"use strict";s.d(t,{r:function(){return c}});var l=s(5893),n=s(7294),r=s(1103),a=s(6460),i=s(754),o=s(4560),d=s(9623),u=s(2472);let c=()=>{let[e,t]=n.useState(25),[s,c]=n.useState(!1),[p,f]=n.useState(void 0),[h,x]=n.useState(void 0),[b,m]=n.useState(void 0);n.useEffect(()=>{let t=new(window.AudioContext||window.webkitAudioContext);f(t);let s=t.createGain();return s.gain.value=e/100,m(s),()=>{h&&(h.buffer=null),t&&t.close()}},[]),n.useEffect(()=>{b&&(b.gain.value=e/100)},[e]);let _=n.useCallback(()=>{if(p&&b){if(s)h&&(h.stop(),h.buffer=null);else{let e=2*p.sampleRate,t=p.createBuffer(1,e,p.sampleRate);for(let l=0;l<1;l+=1){let n=t.getChannelData(l);for(let r=0;r<e;r+=1)n[r]=2*Math.random()-1}let a=p.createBufferSource();x(a),a.buffer=t,a.loop=!0,a.connect(b).connect(p.destination),a.start()}c(!s)}},[s,p,b]);return p&&b?(0,l.jsxs)("div",{className:"text-center h-fit w-full",children:[(0,l.jsxs)(o.ZP,{container:!0,children:[(0,l.jsx)(o.ZP,{item:!0}),(0,l.jsx)(o.ZP,{item:!0,children:(0,l.jsx)(r.Z,{})}),(0,l.jsx)(o.ZP,{item:!0,xs:10,children:(0,l.jsx)(d.ZP,{min:0,max:100,defaultValue:50,value:e,onChange(e,s){"number"==typeof s&&t(s)},valueLabelDisplay:"auto","aria-labelledby":"continuous-slider"})}),(0,l.jsx)(o.ZP,{item:!0,children:(0,l.jsx)(a.Z,{})}),(0,l.jsx)(o.ZP,{item:!0})]}),(0,l.jsxs)(u.Z,{variant:"outlined",color:s?"info":"primary",onClick:_,children:["ホワイトノイズ",s?"停止":"再生"]})]}):(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)(i.Z,{}),"loading..."]})}},7726:function(e,t,s){"use strict";s.d(t,{V:function(){return a}});var l=s(5893),n=s(1857),r=s.n(n);s(7294);let a=e=>(0,l.jsxs)("div",{className:"jsx-8eb453705a1d8714 content p-4 m-2 rounded-lg overflow-hidden shadow-md border-0 bg-white",children:[e.children,(0,l.jsx)(r(),{id:"8eb453705a1d8714",children:".content.jsx-8eb453705a1d8714 *{@apply break-words;}.content.jsx-8eb453705a1d8714 p{@apply my-6;}.content.jsx-8eb453705a1d8714 ul{@apply my-6;}.content.jsx-8eb453705a1d8714 h1{@apply text-3xl font-semibold text-gray-700 my-4;}.content.jsx-8eb453705a1d8714 h2{font-size:1.6em;border-bottom:1px solid#ddd;padding-bottom:.1em;@apply text-2xl font-semibold text-gray-700 my-4;}.content.jsx-8eb453705a1d8714 h3{@apply text-xl font-semibold text-gray-700 my-4;}.content.jsx-8eb453705a1d8714 li{list-style:circle}.content.jsx-8eb453705a1d8714 ul{-webkit-padding-start:40px;-moz-padding-start:40px;padding-inline-start:40px}.content.jsx-8eb453705a1d8714 blockquote{font-style:italic;padding:0;text-align:center;font-size:smaller}.content.jsx-8eb453705a1d8714 p code{background-color:#fdf6e3;color:#657b83}"})]})},6838:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSG:function(){return h}});var l=s(5893);s(7294);var n=s(2167),r=s(5152),a=s.n(r),i=s(4765),o=s(7726),d=s(6185),u=s(3171),c=s(2891);let p=a()(()=>s.e(421).then(s.bind(s,3421)),{loadableGenerated:{webpack:()=>[3421]},loading:()=>(0,l.jsx)("p",{children:"loading..."}),ssr:!1}),f=e=>(0,l.jsxs)(c.o,{recents:e.recents,tags:e.tags,meta:(0,l.jsx)(d.h,{title:"Reactでホワイトノイズを鳴らす",description:"React + TypeScript でホワイトノイズを鳴らしてみました"}),children:[(0,l.jsx)("h1",{className:"text-center font-bold text-3xl text-gray-900",children:"Reactでホワイトノイズを鳴らす"}),(0,l.jsx)("div",{className:"text-center text-sm mb-4",children:(0,n.Z)(new Date("2021-03-14T01:04:03+0900"),"LLLL d, yyyy")}),(0,l.jsx)(o.V,{children:(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{children:["Reactでホワイトノイズを鳴らしたいこと、ありますよね。",(0,l.jsx)("br",{}),"僕はあるので自分用にメモです。"]}),(0,l.jsxs)("p",{children:["↓ React + TypeScript でホワイトノイズを鳴らしてみました。",(0,l.jsxs)("sup",{children:["[",(0,l.jsx)("a",{target:"_blank",href:"https://www.amazon.co.jp/%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0TypeScript-%E2%80%95%E3%82%B9%E3%82%B1%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8BJavaScript%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E9%96%8B%E7%99%BA-Boris-Cherny/dp/4873119049?__mk_ja_JP=%E3%82%AB%E3%82%BF%E3%82%AB%E3%83%8A&crid=3Q7MI7KXY06BB&keywords=typescript&qid=1670505807&sprefix=typescript+%2Caps%2C224&sr=8-9&linkCode=ll1&tag=nishidemasami-22&linkId=48539012d76c58e8bc3549b5a9dc7a1f&language=ja_JP&ref_=as_li_ss_tl",rel:"noreferrer",children:"参考文献"}),"]"]}),(0,l.jsx)("br",{}),"※音が鳴ります"]}),(0,l.jsx)(i.r,{}),(0,l.jsx)("p",{children:"パソコンで音を鳴らすのはかんたんなんですけどスマホはガードが固いらしくて、ユーザのなんらかの動作をトリガーとして再生しないと再生されないみたいです。"}),(0,l.jsx)("p",{children:"なので今回は useCallback で宣言して onClick から呼びました。"}),(0,l.jsx)("p",{children:"↓ これが今回のコードです"}),(0,l.jsx)(p,{gist:"nishidemasami/133b02b3a02869dea1a2d7d3e15ce3b6"})]})}),(0,l.jsx)(u.w,{nextPost:e.nextPost,prevPost:e.prevPost})]});var h=!0;t.default=f},3171:function(e,t,s){"use strict";s.d(t,{w:function(){return a}});var l=s(5893);s(7294);var n=s(1664),r=s.n(n);let a=e=>(0,l.jsxs)("div",{className:"text-sm flex justify-between",children:[e.prevPost&&(0,l.jsxs)("div",{className:"w-1/2",children:["← 新しい記事",(0,l.jsx)("br",{}),(0,l.jsx)(r(),{href:e.prevPost.slug.startsWith("posts/")?"/posts/[slug]":"/".concat(e.prevPost.slug),as:e.prevPost.slug.startsWith("posts/")?"/".concat(e.prevPost.slug):void 0,children:e.prevPost.title})]}),e.nextPost&&(0,l.jsxs)("div",{className:"text-right ml-auto w-1/2",children:["過去の記事 →",(0,l.jsx)("br",{}),(0,l.jsx)(r(),{href:e.nextPost.slug.startsWith("posts/")?"/posts/[slug]":"/".concat(e.nextPost.slug),as:e.nextPost.slug.startsWith("posts/")?"/".concat(e.nextPost.slug):void 0,children:e.nextPost.title})]})]})},5152:function(e,t,s){e.exports=s(7645)}},function(e){e.O(0,[322,167,373,185,774,888,179],function(){return e(e.s=7328)}),_N_E=e.O()}]);