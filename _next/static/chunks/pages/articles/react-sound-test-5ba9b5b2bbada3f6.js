(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[610],{97328:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/articles/react-sound-test",function(){return s(71758)}])},90056:function(e,t,s){"use strict";s.d(t,{V:function(){return Content}});var n=s(85893);s(67294);let Content=e=>(0,n.jsx)("div",{className:"markdown-content",children:e.children})},71758:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSG:function(){return E},default:function(){return react_sound_test}});var n=s(85893),r=s(8260),a=s(41664),i=s.n(a),l=s(67294),c=s(49066),o=s(26340),d=s(98456),u=s(86886),x=s(45929),h=s(69417);let ReactAudioTest=()=>{let[e,t]=l.useState(25),[s,r]=l.useState(!1),[a,i]=l.useState(void 0),[p,f]=l.useState(void 0),[j,m]=l.useState(void 0);l.useEffect(()=>{let t=new(window.AudioContext||window.webkitAudioContext);i(t);let s=t.createGain();return s.gain.value=e/100,m(s),()=>{p&&(p.buffer=null),t&&t.close()}},[]),l.useEffect(()=>{j&&(j.gain.value=e/100)},[e]);let E=l.useCallback(()=>{if(a&&j){if(s)p&&(p.stop(),p.buffer=null);else{let e=2*a.sampleRate,t=a.createBuffer(1,e,a.sampleRate);for(let s=0;s<1;s+=1){let n=t.getChannelData(s);for(let t=0;t<e;t+=1)n[t]=2*Math.random()-1}let s=a.createBufferSource();f(s),s.buffer=t,s.loop=!0,s.connect(j).connect(a.destination),s.start()}r(!s)}},[s,a,j]);return a&&j?(0,n.jsxs)("div",{className:"text-center h-fit w-full",children:[(0,n.jsxs)(u.ZP,{container:!0,children:[(0,n.jsx)(u.ZP,{item:!0}),(0,n.jsx)(u.ZP,{item:!0,children:(0,n.jsx)(c.Z,{})}),(0,n.jsx)(u.ZP,{item:!0,xs:10,children:(0,n.jsx)(x.ZP,{min:0,max:100,defaultValue:50,value:e,onChange:(e,s)=>{"number"==typeof s&&t(s)},valueLabelDisplay:"auto","aria-labelledby":"continuous-slider"})}),(0,n.jsx)(u.ZP,{item:!0,children:(0,n.jsx)(o.Z,{})}),(0,n.jsx)(u.ZP,{item:!0})]}),(0,n.jsxs)(h.Z,{variant:"outlined",color:s?"info":"primary",onClick:E,children:["ホワイトノイズ",s?"停止":"再生"]})]}):(0,n.jsxs)(l.Fragment,{children:[(0,n.jsx)(d.Z,{}),"loading..."]})};var p=s(90056),f=s(86603),j=s(8129),m=s(88350),E=!0,react_sound_test=e=>(0,n.jsxs)(m.o,{recents:e.recents,tags:e.tags,meta:(0,n.jsx)(f.h,{title:"Reactでホワイトノイズを鳴らす",description:"React + TypeScript でホワイトノイズを鳴らしてみました"}),children:[(0,n.jsx)("h1",{className:"content-title",children:"Reactでホワイトノイズを鳴らす"}),(0,n.jsxs)("div",{className:"content-date",children:["Posted ",(0,r.Z)(new Date("2021-03-14T01:04:03+0900"),"LLLL d, yyyy")]}),(0,n.jsx)("ul",{className:"flex flex-row flex-wrap list-none p-0 m-2 justify-start",children:["TypeScript","React"].map(e=>(0,n.jsx)("li",{className:"px-2 py-1 m-1 rounded-full overflow-hidden shadow-md border-0 bg-white w-fit break-all",children:(0,n.jsxs)(i(),{href:"/tag/[tag]",as:"/tag/".concat(e),children:["#",e]})},e))}),(0,n.jsx)(p.V,{children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{children:["Reactでホワイトノイズを鳴らしたいこと、ありますよね。",(0,n.jsx)("br",{}),"僕はあるので自分用にメモです。"]}),(0,n.jsxs)("p",{children:["↓ React + TypeScript でホワイトノイズを鳴らしてみました。",(0,n.jsxs)("sup",{children:["[",(0,n.jsx)("a",{target:"_blank",href:"https://www.amazon.co.jp/%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0TypeScript-%E2%80%95%E3%82%B9%E3%82%B1%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8BJavaScript%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E9%96%8B%E7%99%BA-Boris-Cherny/dp/4873119049?__mk_ja_JP=%E3%82%AB%E3%82%BF%E3%82%AB%E3%83%8A&crid=3Q7MI7KXY06BB&keywords=typescript&qid=1670505807&sprefix=typescript+%2Caps%2C224&sr=8-9&linkCode=ll1&tag=nishidemasami-22&linkId=48539012d76c58e8bc3549b5a9dc7a1f&language=ja_JP&ref_=as_li_ss_tl",rel:"noreferrer",children:"参考文献"}),"]"]}),(0,n.jsx)("br",{}),"※音が鳴ります"]}),(0,n.jsx)(ReactAudioTest,{}),(0,n.jsx)("p",{children:"パソコンで音を鳴らすのはかんたんなんですけどスマホはガードが固いらしくて、ユーザのなんらかの動作をトリガーとして再生しないと再生されないみたいです。"}),(0,n.jsx)("p",{children:"なので今回は useCallback で宣言して onClick から呼びました。"}),(0,n.jsx)("p",{children:"↓ これが今回のコードです"}),(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:e.sorceCodeHTML}})]})}),(0,n.jsx)(j.w,{nextPost:e.nextPost,prevPost:e.prevPost})]})},8129:function(e,t,s){"use strict";s.d(t,{w:function(){return PostPagination}});var n=s(85893);s(67294);var r=s(41664),a=s.n(r);let PostPagination=e=>(0,n.jsxs)("div",{className:"text-sm flex justify-between",children:[e.prevPost&&(0,n.jsxs)("div",{className:"w-1/2",children:["← 新しいレポート",(0,n.jsx)("br",{}),(0,n.jsx)(a(),{href:e.prevPost.slug.startsWith("posts/")?"/posts/[slug]":"/".concat(e.prevPost.slug),as:e.prevPost.slug.startsWith("posts/")?"/".concat(e.prevPost.slug):void 0,children:e.prevPost.title})]}),e.nextPost&&(0,n.jsxs)("div",{className:"text-right ml-auto w-1/2",children:["過去のレポート →",(0,n.jsx)("br",{}),(0,n.jsx)(a(),{href:e.nextPost.slug.startsWith("posts/")?"/posts/[slug]":"/".concat(e.nextPost.slug),as:e.nextPost.slug.startsWith("posts/")?"/".concat(e.nextPost.slug):void 0,children:e.nextPost.title})]})]})}},function(e){e.O(0,[814,260,155,997,500,288,129,774,888,179],function(){return e(e.s=97328)}),_N_E=e.O()}]);