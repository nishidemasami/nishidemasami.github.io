(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[424],{18085:(e,t,s)=>{"use strict";s.r(t),s.d(t,{__N_SSG:()=>v,default:()=>g});var a=s(37876),l=s(45205),r=s(48230),n=s.n(r),i=s(14232),c=s(65970),o=s(44347),d=s(7957),u=s(64410),x=s(18978),h=s(2487);let p=()=>{let[e,t]=i.useState(25),[s,l]=i.useState(!1),[r,n]=i.useState(void 0),[p,j]=i.useState(void 0),[f,m]=i.useState(void 0);i.useEffect(()=>{let t=new(window.AudioContext||window.webkitAudioContext);n(t);let s=t.createGain();return s.gain.value=e/100,m(s),()=>{p&&(p.buffer=null),t&&t.close()}},[]),i.useEffect(()=>{f&&(f.gain.value=e/100)},[e]);let E=i.useCallback(()=>{if(r&&f){if(s)p&&(p.stop(),p.buffer=null);else{let e=2*r.sampleRate,t=r.createBuffer(1,e,r.sampleRate);for(let s=0;s<1;s+=1){let a=t.getChannelData(s);for(let t=0;t<e;t+=1)a[t]=2*Math.random()-1}let s=r.createBufferSource();j(s),s.buffer=t,s.loop=!0,s.connect(f).connect(r.destination),s.start()}l(!s)}},[s,r,f]);return r&&f?(0,a.jsxs)("div",{className:"text-center h-fit w-full",children:[(0,a.jsxs)(u.Ay,{container:!0,children:[(0,a.jsx)(u.Ay,{item:!0}),(0,a.jsx)(u.Ay,{item:!0,children:(0,a.jsx)(c.A,{})}),(0,a.jsx)(u.Ay,{item:!0,xs:10,children:(0,a.jsx)(x.Ay,{min:0,max:100,defaultValue:50,value:e,onChange:(e,s)=>{"number"==typeof s&&t(s)},valueLabelDisplay:"auto","aria-labelledby":"continuous-slider"})}),(0,a.jsx)(u.Ay,{item:!0,children:(0,a.jsx)(o.A,{})}),(0,a.jsx)(u.Ay,{item:!0})]}),(0,a.jsxs)(h.A,{variant:"outlined",color:s?"info":"primary",onClick:E,children:["ホワイトノイズ",s?"停止":"再生"]})]}):(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)(d.A,{}),"loading..."]})};var j=s(25230),f=s(90070),m=s(44898),E=s(10028),v=!0;let g=e=>(0,a.jsxs)(E.g,{recents:e.recents,tags:e.tags,meta:(0,a.jsx)(f.W,{title:"Reactでホワイトノイズを鳴らす",description:"React + TypeScript でホワイトノイズを鳴らしてみました"}),children:[(0,a.jsx)("h1",{className:"content-title",children:"Reactでホワイトノイズを鳴らす"}),(0,a.jsxs)("div",{className:"content-date",children:["Posted ",(0,l.GP)(new Date("2021-03-14T01:04:03+0900"),"LLLL d, yyyy")]}),(0,a.jsx)("ul",{className:"flex flex-row flex-wrap list-none p-0 m-2 justify-start",children:["TypeScript","React"].map(e=>(0,a.jsx)("li",{className:"px-2 py-1 m-1 rounded-full overflow-hidden shadow-md border-0 bg-white w-fit break-all",children:(0,a.jsxs)(n(),{href:{pathname:"/tag/[tag]",query:{tag:e}},as:"/tag/".concat(e,"/index.html"),children:["#",e]})},e))}),(0,a.jsx)(j.U,{children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{children:["Reactでホワイトノイズを鳴らしたいこと、ありますよね。",(0,a.jsx)("br",{}),"僕はあるので自分用にメモです。"]}),(0,a.jsxs)("p",{children:["↓ React + TypeScript でホワイトノイズを鳴らしてみました。",(0,a.jsxs)("sup",{children:["[",(0,a.jsx)("a",{target:"_blank",href:"https://www.amazon.co.jp/%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0TypeScript-%E2%80%95%E3%82%B9%E3%82%B1%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8BJavaScript%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E9%96%8B%E7%99%BA-Boris-Cherny/dp/4873119049?__mk_ja_JP=%E3%82%AB%E3%82%BF%E3%82%AB%E3%83%8A&crid=3Q7MI7KXY06BB&keywords=typescript&qid=1670505807&sprefix=typescript+%2Caps%2C224&sr=8-9&linkCode=ll1&tag=nishidemasami-22&linkId=48539012d76c58e8bc3549b5a9dc7a1f&language=ja_JP&ref_=as_li_ss_tl",rel:"noreferrer",children:"参考文献"}),"]"]}),(0,a.jsx)("br",{}),"※音が鳴ります"]}),(0,a.jsx)(p,{}),(0,a.jsx)("p",{children:"パソコンで音を鳴らすのはかんたんなんですけどスマホはガードが固いらしくて、ユーザのなんらかの動作をトリガーとして再生しないと再生されないみたいです。"}),(0,a.jsx)("p",{children:"なので今回は useCallback で宣言して onClick から呼びました。"}),(0,a.jsx)("p",{children:"↓ これが今回のコードです"}),(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:e.sorceCodeHTML}})]})}),(0,a.jsx)(m.V,{nextPost:e.nextPost,prevPost:e.prevPost})]})},25230:(e,t,s)=>{"use strict";s.d(t,{U:()=>l});var a=s(37876);s(14232);let l=e=>(0,a.jsx)("div",{className:"markdown-content",children:e.children})},44898:(e,t,s)=>{"use strict";s.d(t,{V:()=>n});var a=s(37876);s(14232);var l=s(48230),r=s.n(l);let n=e=>(0,a.jsxs)("div",{className:"text-sm flex justify-between",children:[e.prevPost&&(0,a.jsxs)("div",{className:"w-1/2",children:["← 新しいレポート",(0,a.jsx)("br",{}),(0,a.jsx)(r(),{href:e.prevPost.slug.startsWith("posts/")?{pathname:"/posts/[slug]",query:{slug:e.prevPost.slug.replace(/^.*\/([^/]*)$/,"$1")}}:"/".concat(e.prevPost.slug),as:"/".concat(e.prevPost.slug,"/index.html"),children:e.prevPost.title})]}),e.nextPost&&(0,a.jsxs)("div",{className:"text-right ml-auto w-1/2",children:["過去のレポート →",(0,a.jsx)("br",{}),(0,a.jsx)(r(),{href:e.nextPost.slug.startsWith("posts/")?{pathname:"/posts/[slug]",query:{slug:e.nextPost.slug.replace(/^.*\/([^/]*)$/,"$1")}}:"/".concat(e.nextPost.slug),as:"/".concat(e.nextPost.slug,"/index.html"),children:e.nextPost.title})]})]})},51028:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/articles/react-sound-test",function(){return s(18085)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[305,205,860,161,487,978,231,197,636,593,792],()=>t(51028)),_N_E=e.O()}]);