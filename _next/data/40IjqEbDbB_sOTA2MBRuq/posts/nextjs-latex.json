{"pageProps":{"title":"Next.jsで数式を書く","description":"Next.jsで数式を書いてみたいと思うこと、ありますよね。僕はあるので自分用にメモです。","date":"2022-12-04T04:58:43+0900","modified_date":null,"image":null,"content":"<p>Next.jsで数式を書いてみたいと思うこと、ありますよね。<br>\n僕はあるので自分用にメモです。</p>\n<p>2次方程式の解の公式、懐かしいですね。</p>\n<div class=\"math math-display\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>x</mi><mo>=</mo><mfrac><mrow><mo>−</mo><mi>b</mi><mo>±</mo><msqrt><mrow><msup><mi>b</mi><mn>2</mn></msup><mo>−</mo><mn>4</mn><mi>a</mi><mi>c</mi></mrow></msqrt></mrow><mrow><mn>2</mn><mi>a</mi></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">x = \\frac{-b\\pm\\sqrt{b^2-4ac}}{2a}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.2764em;vertical-align:-0.686em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.5904em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">2</span><span class=\"mord mathnormal\">a</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">−</span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">±</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9134em;\"><span class=\"svg-align\" style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\" style=\"padding-left:0.833em;\"><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7401em;\"><span style=\"top:-2.989em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\">4</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">c</span></span></span><span style=\"top:-2.8734em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"hide-tail\" style=\"min-width:0.853em;height:1.08em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"400em\" height=\"1.08em\" viewBox=\"0 0 400000 1080\" preserveAspectRatio=\"xMinYMin slice\"><path d=\"M95,702\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl0 -0\nc5.3,-9.3,12,-14,20,-14\nH400000v40H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM834 80h400000v40h-400000z\"></path></svg></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1266em;\"><span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span></div>\n<p>これを見ると学生時代を思い出しますね。<br>\nこういう数式を、Next.jsでもMarkdownに<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>LaTeX</mtext></mrow><annotation encoding=\"application/x-tex\">\\LaTeX</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8988em;vertical-align:-0.2155em;\"></span><span class=\"mord text\"><span class=\"mord textrm\">L</span><span class=\"mspace\" style=\"margin-right:-0.36em;\"></span><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6833em;\"><span style=\"top:-2.905em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"mord\"><span class=\"mord textrm mtight sizing reset-size6 size3\">A</span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:-0.15em;\"></span><span class=\"mord text\"><span class=\"mord textrm\">T</span><span class=\"mspace\" style=\"margin-right:-0.1667em;\"></span><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4678em;\"><span style=\"top:-2.7845em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord textrm\">E</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2155em;\"><span></span></span></span></span><span class=\"mspace\" style=\"margin-right:-0.125em;\"></span><span class=\"mord textrm\">X</span></span></span></span></span></span></span>で</p>\n<pre class=\"language-latex\"><code class=\"language-latex\">x = <span class=\"token function selector\">\\frac</span><span class=\"token punctuation\">{</span>-b<span class=\"token function selector\">\\pm</span><span class=\"token function selector\">\\sqrt</span><span class=\"token punctuation\">{</span>b^2-4ac<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">{</span>2a<span class=\"token punctuation\">}</span>\n</code></pre>\n<p>こんな感じで書けたら便利です。</p>\n<p>今回は<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>LaTeX</mtext></mrow><annotation encoding=\"application/x-tex\">\\LaTeX</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8988em;vertical-align:-0.2155em;\"></span><span class=\"mord text\"><span class=\"mord textrm\">L</span><span class=\"mspace\" style=\"margin-right:-0.36em;\"></span><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6833em;\"><span style=\"top:-2.905em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"mord\"><span class=\"mord textrm mtight sizing reset-size6 size3\">A</span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:-0.15em;\"></span><span class=\"mord text\"><span class=\"mord textrm\">T</span><span class=\"mspace\" style=\"margin-right:-0.1667em;\"></span><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4678em;\"><span style=\"top:-2.7845em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord textrm\">E</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2155em;\"><span></span></span></span></span><span class=\"mspace\" style=\"margin-right:-0.125em;\"></span><span class=\"mord textrm\">X</span></span></span></span></span></span></span>をウェブブラウザで表示するためのライブラリである<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>KaTeX</mtext></mrow><annotation encoding=\"application/x-tex\">\\KaTeX</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8988em;vertical-align:-0.2155em;\"></span><span class=\"mord text\"><span class=\"mord textrm\">K</span><span class=\"mspace\" style=\"margin-right:-0.17em;\"></span><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6833em;\"><span style=\"top:-2.905em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"mord\"><span class=\"mord textrm mtight sizing reset-size6 size3\">A</span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:-0.15em;\"></span><span class=\"mord text\"><span class=\"mord textrm\">T</span><span class=\"mspace\" style=\"margin-right:-0.1667em;\"></span><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4678em;\"><span style=\"top:-2.7845em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord textrm\">E</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2155em;\"><span></span></span></span></span><span class=\"mspace\" style=\"margin-right:-0.125em;\"></span><span class=\"mord textrm\">X</span></span></span></span></span></span></span>をNext.jsで使ってみました。<sup>[<a target=\"_blank\" href=\"https://www.amazon.co.jp/React-js%EF%BC%86Next-js%E8%B6%85%E5%85%A5%E9%96%80-%E7%AC%AC2%E7%89%88-%E6%8E%8C%E7%94%B0%E6%B4%A5%E8%80%B6%E4%B9%83-ebook/dp/B08XBNGYVH?__mk_ja_JP=%E3%82%AB%E3%82%BF%E3%82%AB%E3%83%8A&crid=1304MCUGBPN1M&keywords=next.js&qid=1670505884&sprefix=next.j%2Caps%2C195&sr=8-6&linkCode=ll1&tag=nishidemasami-22&linkId=1faf1c568d048e662fff7bffcc7794e3&language=ja_JP&ref_=as_li_ss_tl\">参考文献</a>]</sup></p>\n<p>JavaScriptで動的にブラウザ上で数式を描画するのがよく見る<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>KaTeX</mtext></mrow><annotation encoding=\"application/x-tex\">\\KaTeX</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8988em;vertical-align:-0.2155em;\"></span><span class=\"mord text\"><span class=\"mord textrm\">K</span><span class=\"mspace\" style=\"margin-right:-0.17em;\"></span><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6833em;\"><span style=\"top:-2.905em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"mord\"><span class=\"mord textrm mtight sizing reset-size6 size3\">A</span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:-0.15em;\"></span><span class=\"mord text\"><span class=\"mord textrm\">T</span><span class=\"mspace\" style=\"margin-right:-0.1667em;\"></span><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4678em;\"><span style=\"top:-2.7845em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord textrm\">E</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2155em;\"><span></span></span></span></span><span class=\"mspace\" style=\"margin-right:-0.125em;\"></span><span class=\"mord textrm\">X</span></span></span></span></span></span></span>の使い方ですが、Next.jsでSSGしている時にはビルド時に既に数式がHTMLにレンダリング済みだという挙動になるので少し仕組みが違います。<br>\nブラウザとしては<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>LaTeX</mtext></mrow><annotation encoding=\"application/x-tex\">\\LaTeX</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8988em;vertical-align:-0.2155em;\"></span><span class=\"mord text\"><span class=\"mord textrm\">L</span><span class=\"mspace\" style=\"margin-right:-0.36em;\"></span><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6833em;\"><span style=\"top:-2.905em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"mord\"><span class=\"mord textrm mtight sizing reset-size6 size3\">A</span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:-0.15em;\"></span><span class=\"mord text\"><span class=\"mord textrm\">T</span><span class=\"mspace\" style=\"margin-right:-0.1667em;\"></span><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4678em;\"><span style=\"top:-2.7845em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord textrm\">E</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2155em;\"><span></span></span></span></span><span class=\"mspace\" style=\"margin-right:-0.125em;\"></span><span class=\"mord textrm\">X</span></span></span></span></span></span></span>形式の数式をHTMLへ変換する必要がなくなり描画が高速だという点がメリットです。ブラウザがJavaScriptを無効化していても見れるのもいいですね。</p>\n<p>まず、必要なパッケージをインストールします。</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> remark-math rehype-katex\n</code></pre>\n<p>このウェブサイトではMarkdownを読み込むのに <em>unified</em> を使用しているので、 <em>remark-math</em> と <em>rehype-katex</em> を追加で <em>use</em> します。</p>\n<pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword module\">import</span> <span class=\"token imports\">rehypePrism</span> <span class=\"token keyword module\">from</span> <span class=\"token string\">'@mapbox/rehype-prism'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword module\">import</span> <span class=\"token imports\">rehypeKatex</span> <span class=\"token keyword module\">from</span> <span class=\"token string\">'rehype-katex'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword module\">import</span> <span class=\"token imports\">rehypeStringify</span> <span class=\"token keyword module\">from</span> <span class=\"token string\">'rehype-stringify'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword module\">import</span> <span class=\"token imports\">remarkGfm</span> <span class=\"token keyword module\">from</span> <span class=\"token string\">'remark-gfm'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword module\">import</span> <span class=\"token imports\">remarkMath</span> <span class=\"token keyword module\">from</span> <span class=\"token string\">'remark-math'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword module\">import</span> <span class=\"token imports\">remarkParse</span> <span class=\"token keyword module\">from</span> <span class=\"token string\">'remark-parse'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword module\">import</span> <span class=\"token imports\">remarkRehype</span> <span class=\"token keyword module\">from</span> <span class=\"token string\">'remark-rehype'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword module\">import</span> <span class=\"token imports\"><span class=\"token punctuation\">{</span> unified <span class=\"token punctuation\">}</span></span> <span class=\"token keyword module\">from</span> <span class=\"token string\">'unified'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword module\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">markdownToHtml</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span>markdown<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=></span>\r\n  <span class=\"token punctuation\">(</span>\r\n    <span class=\"token keyword control-flow\">await</span> <span class=\"token function\">unified</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">.</span><span class=\"token method function property-access\">use</span><span class=\"token punctuation\">(</span>remarkParse<span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">.</span><span class=\"token method function property-access\">use</span><span class=\"token punctuation\">(</span>remarkMath<span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">.</span><span class=\"token method function property-access\">use</span><span class=\"token punctuation\">(</span>remarkGfm<span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">.</span><span class=\"token method function property-access\">use</span><span class=\"token punctuation\">(</span>remarkRehype<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> allowDangerousHtml<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">.</span><span class=\"token method function property-access\">use</span><span class=\"token punctuation\">(</span>rehypePrism<span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">.</span><span class=\"token method function property-access\">use</span><span class=\"token punctuation\">(</span>rehypeKatex<span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">.</span><span class=\"token method function property-access\">use</span><span class=\"token punctuation\">(</span>rehypeStringify<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> allowDangerousHtml<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n      <span class=\"token punctuation\">.</span><span class=\"token method function property-access\">process</span><span class=\"token punctuation\">(</span>markdown<span class=\"token punctuation\">)</span>\r\n  <span class=\"token punctuation\">)</span>\r\n    <span class=\"token punctuation\">.</span><span class=\"token method function property-access\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<p>あとは<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>KaTeX</mtext></mrow><annotation encoding=\"application/x-tex\">\\KaTeX</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8988em;vertical-align:-0.2155em;\"></span><span class=\"mord text\"><span class=\"mord textrm\">K</span><span class=\"mspace\" style=\"margin-right:-0.17em;\"></span><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6833em;\"><span style=\"top:-2.905em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"mord\"><span class=\"mord textrm mtight sizing reset-size6 size3\">A</span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:-0.15em;\"></span><span class=\"mord text\"><span class=\"mord textrm\">T</span><span class=\"mspace\" style=\"margin-right:-0.1667em;\"></span><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4678em;\"><span style=\"top:-2.7845em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord textrm\">E</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2155em;\"><span></span></span></span></span><span class=\"mspace\" style=\"margin-right:-0.125em;\"></span><span class=\"mord textrm\">X</span></span></span></span></span></span></span>のCSSをCDNなどから読み込めば完成です。</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">crossOrigin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>anonymous<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n</code></pre>\n<p>では、実際に書いてみることにします。<br>\n以下は任意の<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span></span>と<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span></span>の最大公約数を求める<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi><mi>c</mi><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">gcd</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathnormal\">c</span><span class=\"mord mathnormal\">d</span></span></span></span></span>関数の定義です。</p>\n<pre class=\"language-latex\"><code class=\"language-latex\"><span class=\"token function selector\">\\gcd</span>(x, y) =\r\n<span class=\"token function selector\">\\begin</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">cases</span><span class=\"token punctuation\">}</span>\r\n  y <span class=\"token punctuation\">&#x26;</span> (x = 0)<span class=\"token function selector\">\\\\</span>\r\n  x <span class=\"token punctuation\">&#x26;</span> (y = 0)<span class=\"token function selector\">\\\\</span>\r\n  <span class=\"token function selector\">\\gcd</span>(y, x <span class=\"token function selector\">\\bmod</span> y) <span class=\"token punctuation\">&#x26;</span> (<span class=\"token function selector\">\\text</span><span class=\"token punctuation\">{</span>otherwize<span class=\"token punctuation\">}</span>)\r\n<span class=\"token function selector\">\\end</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">cases</span><span class=\"token punctuation\">}</span>\n</code></pre>\n<div class=\"math math-display\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>gcd</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mi>x</mi><mo separator=\"true\">,</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mrow><mo fence=\"true\">{</mo><mtable rowspacing=\"0.36em\" columnalign=\"left left\" columnspacing=\"1em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mi>y</mi></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo>=</mo><mn>0</mn><mo stretchy=\"false\">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mi>x</mi></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mo stretchy=\"false\">(</mo><mi>y</mi><mo>=</mo><mn>0</mn><mo stretchy=\"false\">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mi>gcd</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mi>y</mi><mo separator=\"true\">,</mo><mi>x</mi><mtext> </mtext><mo lspace=\"0.22em\" rspace=\"0.22em\"><mrow><mi mathvariant=\"normal\">m</mi><mi mathvariant=\"normal\">o</mi><mi mathvariant=\"normal\">d</mi></mrow></mo><mtext> </mtext><mi>y</mi><mo stretchy=\"false\">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mo stretchy=\"false\">(</mo><mtext>otherwize</mtext><mo stretchy=\"false\">)</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding=\"application/x-tex\">\\gcd(x, y) =\n\\begin{cases}\n  y &#x26; (x = 0)\\\\\n  x &#x26; (y = 0)\\\\\n  \\gcd(y, x \\bmod y) &#x26; (\\text{otherwize})\n\\end{cases}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop\"><span style=\"margin-right:0.01389em;\">g</span>cd</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:4.32em;vertical-align:-1.91em;\"></span><span class=\"minner\"><span class=\"mopen\"><span class=\"delimsizing mult\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.35em;\"><span style=\"top:-2.2em;\"><span class=\"pstrut\" style=\"height:3.15em;\"></span><span class=\"delimsizinginner delim-size4\"><span>⎩</span></span></span><span style=\"top:-2.192em;\"><span class=\"pstrut\" style=\"height:3.15em;\"></span><span style=\"height:0.316em;width:0.8889em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"0.8889em\" height=\"0.316em\" style=\"width:0.8889em\" viewBox=\"0 0 888.89 316\" preserveAspectRatio=\"xMinYMin\"><path d=\"M384 0 H504 V316 H384z M384 0 H504 V316 H384z\"></path></svg></span></span><span style=\"top:-3.15em;\"><span class=\"pstrut\" style=\"height:3.15em;\"></span><span class=\"delimsizinginner delim-size4\"><span>⎨</span></span></span><span style=\"top:-4.292em;\"><span class=\"pstrut\" style=\"height:3.15em;\"></span><span style=\"height:0.316em;width:0.8889em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"0.8889em\" height=\"0.316em\" style=\"width:0.8889em\" viewBox=\"0 0 888.89 316\" preserveAspectRatio=\"xMinYMin\"><path d=\"M384 0 H504 V316 H384z M384 0 H504 V316 H384z\"></path></svg></span></span><span style=\"top:-4.6em;\"><span class=\"pstrut\" style=\"height:3.15em;\"></span><span class=\"delimsizinginner delim-size4\"><span>⎧</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.85em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.41em;\"><span style=\"top:-4.41em;\"><span class=\"pstrut\" style=\"height:3.008em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span><span style=\"top:-2.97em;\"><span class=\"pstrut\" style=\"height:3.008em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span></span></span><span style=\"top:-1.53em;\"><span class=\"pstrut\" style=\"height:3.008em;\"></span><span class=\"mord\"><span class=\"mop\"><span style=\"margin-right:0.01389em;\">g</span>cd</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.0556em;\"></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\"><span class=\"mord\"><span class=\"mord mathrm\">mod</span></span></span><span class=\"mspace\" style=\"margin-right:0.0556em;\"></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mclose\">)</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.91em;\"><span></span></span></span></span></span><span class=\"arraycolsep\" style=\"width:1em;\"></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.41em;\"><span style=\"top:-4.41em;\"><span class=\"pstrut\" style=\"height:3.008em;\"></span><span class=\"mord\"><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord\">0</span><span class=\"mclose\">)</span></span></span><span style=\"top:-2.97em;\"><span class=\"pstrut\" style=\"height:3.008em;\"></span><span class=\"mord\"><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord\">0</span><span class=\"mclose\">)</span></span></span><span style=\"top:-1.53em;\"><span class=\"pstrut\" style=\"height:3.008em;\"></span><span class=\"mord\"><span class=\"mopen\">(</span><span class=\"mord text\"><span class=\"mord\">otherwize</span></span><span class=\"mclose\">)</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.91em;\"><span></span></span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span></div>\n<p>上手に書けました！✨</p>\n<p>以上です。<br>\n<a href=\"https://github.com/nishidemasami/nishidemasami.github.io\">https://github.com/nishidemasami/nishidemasami.github.io</a><br>\n実際にNext.jsで動いているコードは👆ここから確認してください。</p>","recents":[{"slug":"posts/svg-prayer-wheel","date":"2022-12-07T01:04:03+0900","draft":false,"title":"SVGだけで作ったSVGマニ車をCSSでクルクル回して自動で徳を積む","description":"徳、積みたいですよね。JavaScriptを使わずにSVGとCSSだけでマニ車をクルクル回して自動で徳を積みたいこと、ありますよね。僕はあるので自分用にメモです。","content":"\r\n<style>\r\n  #Text1{animation: spin 11s linear infinite; transform-origin: center;}\r\n  #Text2{animation: spin 10s linear infinite; transform-origin: center;}\r\n  #Text3{animation: spin 9s linear infinite; transform-origin: center;}\r\n  #Text4{animation: spin 8s linear infinite; transform-origin: center;}\r\n  #Text5{animation: spin 7s linear infinite; transform-origin: center;}\r\n  #Text6{animation: spin 6s linear infinite; transform-origin: center;}\r\n  #Text7{animation: spin 5s linear infinite; transform-origin: center;}\r\n  #Text8{animation: spin 4s linear infinite; transform-origin: center;}\r\n  #Text9{animation: spin 3s linear infinite; transform-origin: center;}\r\n</style>\r\n<svg style=\"max-width:400px\" viewBox=\"0 0 400 400\" >\r\n  <defs>\r\n    <path id=\"Circle1\" d=\"M 25, 200 a 175,175 0 1,1 350,0 a 175,175 0 1,1 -350,0\" />\r\n    <path id=\"Circle2\" d=\"M 50, 200 a 150,150 0 1,1 300,0 a 150,150 0 1,1 -300,0\" />\r\n    <path id=\"Circle3\" d=\"M 75, 200 a 125,125 0 1,1 250,0 a 125,125 0 1,1 -250,0\" />\r\n    <path id=\"Circle4\" d=\"M 100, 200 a 100,100 0 1,1 200,0 a 100,100 0 1,1 -200,0\" />\r\n    <path id=\"Circle5\" d=\"M 125, 200 a 75,75 0 1,1 150,0 a 75,75 0 1,1 -150,0\" />\r\n    <path id=\"Circle6\" d=\"M 150, 200 a 50,50 0 1,1 100,0 a 50,50 0 1,1 -100,0\" />\r\n    <path id=\"Circle7\" d=\"M 175, 200 a 25,25 0 1,1 50,0 a 25,25 0 1,1 -50,0\" />\r\n  </defs>\r\n  <text id=\"Text1\">\r\n    <textPath href=\"#Circle1\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n  </text>\r\n  <text id=\"Text2\">\r\n    <textPath href=\"#Circle2\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n  </text>\r\n  <text id=\"Text3\">\r\n    <textPath href=\"#Circle3\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n  </text>\r\n  <text id=\"Text4\">\r\n    <textPath href=\"#Circle4\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n  </text>\r\n  <text id=\"Text5\">\r\n    <textPath href=\"#Circle5\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n  </text>\r\n  <text id=\"Text6\">\r\n    <textPath href=\"#Circle6\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n  </text>\r\n  <text id=\"Text7\">\r\n    <textPath href=\"#Circle7\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n  </text>\r\n  <text id=\"Text8\">\r\n    <textPath href=\"#Circle8\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n  </text>\r\n  <text id=\"Text9\">\r\n    <textPath href=\"#Circle9\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n  </text>\r\n</svg>\r\n\r\n徳、積みたいですよね。\r\n\r\nご存知マニ車。お寺とかにたまにある、周囲にマントラが書いてあって手で回すと1回転毎に1回お経を読んだのと同じ徳を積めるスピリチュアルグッズです。<sup>[<a target=\"_blank\" href=\"https://www.amazon.co.jp/gp/search?ie=UTF8&tag=nishidemasami-22&linkCode=ur2&linkId=d1ba0bb31ef3d317b4a5c8ad6af3095d&camp=247&creative=1211&index=aps&keywords=マニ車\">参考</a>]</sup>  \r\nチベット仏教が国教であるブータンでは、水力マニ車や風力マニ車、ソーラーマニ車<sup>[<a target=\"_blank\" href=\"https://www.amazon.co.jp/gp/search?ie=UTF8&tag=nishidemasami-22&linkCode=ur2&linkId=d1ba0bb31ef3d317b4a5c8ad6af3095d&camp=247&creative=1211&index=aps&keywords=ソーラーマニ車\">参考</a>]</sup>などもあり、マニ車も進化しているということがわかります。[^1]\r\n\r\n[^1]: 日本風力エネルギー学会誌 Vol.44, No.4\r\n\r\nならば、SVGとCSSでマントラを回しても徳が積めるのでは…？  \r\nそう思ったので自分用にメモです。\r\n\r\n```html\r\n<style>\r\n  #Text1{animation: spin 11s linear infinite; transform-origin: center;}\r\n  #Text2{animation: spin 10s linear infinite; transform-origin: center;}\r\n  #Text3{animation: spin 9s linear infinite; transform-origin: center;}\r\n  #Text4{animation: spin 8s linear infinite; transform-origin: center;}\r\n  #Text5{animation: spin 7s linear infinite; transform-origin: center;}\r\n  #Text6{animation: spin 6s linear infinite; transform-origin: center;}\r\n  #Text7{animation: spin 5s linear infinite; transform-origin: center;}\r\n  #Text8{animation: spin 4s linear infinite; transform-origin: center;}\r\n  #Text9{animation: spin 3s linear infinite; transform-origin: center;}\r\n</style>\r\n<svg style=\"max-width:400px\" viewBox=\"0 0 400 400\" >\r\n  <defs>\r\n    <path id=\"Circle1\" d=\"M 25, 200 a 175,175 0 1,1 350,0 a 175,175 0 1,1 -350,0\" />\r\n    <path id=\"Circle2\" d=\"M 50, 200 a 150,150 0 1,1 300,0 a 150,150 0 1,1 -300,0\" />\r\n    <path id=\"Circle3\" d=\"M 75, 200 a 125,125 0 1,1 250,0 a 125,125 0 1,1 -250,0\" />\r\n    <path id=\"Circle4\" d=\"M 100, 200 a 100,100 0 1,1 200,0 a 100,100 0 1,1 -200,0\" />\r\n    <path id=\"Circle5\" d=\"M 125, 200 a 75,75 0 1,1 150,0 a 75,75 0 1,1 -150,0\" />\r\n    <path id=\"Circle6\" d=\"M 150, 200 a 50,50 0 1,1 100,0 a 50,50 0 1,1 -100,0\" />\r\n    <path id=\"Circle7\" d=\"M 175, 200 a 25,25 0 1,1 50,0 a 25,25 0 1,1 -50,0\" />\r\n  </defs>\r\n  <text id=\"Text1\">\r\n    <textPath href=\"#Circle1\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n  </text>\r\n  <text id=\"Text2\">\r\n    <textPath href=\"#Circle2\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n  </text>\r\n  <text id=\"Text3\">\r\n    <textPath href=\"#Circle3\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n  </text>\r\n  <text id=\"Text4\">\r\n    <textPath href=\"#Circle4\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n  </text>\r\n  <text id=\"Text5\">\r\n    <textPath href=\"#Circle5\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n  </text>\r\n  <text id=\"Text6\">\r\n    <textPath href=\"#Circle6\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n  </text>\r\n  <text id=\"Text7\">\r\n    <textPath href=\"#Circle7\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n  </text>\r\n  <text id=\"Text8\">\r\n    <textPath href=\"#Circle8\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n  </text>\r\n  <text id=\"Text9\">\r\n    <textPath href=\"#Circle9\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n  </text>\r\n</svg>\r\n```\r\n\r\nこのような感じで円のパスを複数個作って、それぞれを違う速さで回しています。\r\n\r\nなお、以下のようにSVGのanimateTransformで回転させることもできます。  \r\nしかし、CPUレンダリングになってしまうのでちょっとカクカクするので今回はこの方法は使いませんでした。\r\n\r\n```xml\r\n<svg style=\"max-width:400px\" viewBox=\"0 0 400 400\" >\r\n  <defs>\r\n    <path id=\"Circle1\" d=\"M 25, 200 a 175,175 0 1,1 350,0 a 175,175 0 1,1 -350,0\" />\r\n    <path id=\"Circle2\" d=\"M 50, 200 a 150,150 0 1,1 300,0 a 150,150 0 1,1 -300,0\" />\r\n    <path id=\"Circle3\" d=\"M 75, 200 a 125,125 0 1,1 250,0 a 125,125 0 1,1 -250,0\" />\r\n    <path id=\"Circle4\" d=\"M 100, 200 a 100,100 0 1,1 200,0 a 100,100 0 1,1 -200,0\" />\r\n    <path id=\"Circle5\" d=\"M 125, 200 a 75,75 0 1,1 150,0 a 75,75 0 1,1 -150,0\" />\r\n    <path id=\"Circle6\" d=\"M 150, 200 a 50,50 0 1,1 100,0 a 50,50 0 1,1 -100,0\" />\r\n    <path id=\"Circle7\" d=\"M 175, 200 a 25,25 0 1,1 50,0 a 25,25 0 1,1 -50,0\" />\r\n  </defs>\r\n  <text>\r\n    <textPath href=\"#Circle1\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n    <animateTransform attributeName=\"transform\" attributeType=\"XML\" type=\"rotate\" from=\"0 200,200\" to=\"360 200,200\" dur=\"11s\" repeatCount=\"indefinite\" />\r\n  </text>\r\n  <text>\r\n    <textPath href=\"#Circle2\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n    <animateTransform attributeName=\"transform\" attributeType=\"XML\" type=\"rotate\" from=\"0 200,200\" to=\"360 200,200\" dur=\"10s\" repeatCount=\"indefinite\" />\r\n  </text>\r\n  <text>\r\n    <textPath href=\"#Circle3\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n    <animateTransform attributeName=\"transform\" attributeType=\"XML\" type=\"rotate\" from=\"0 200,200\" to=\"360 200,200\" dur=\"9s\" repeatCount=\"indefinite\" />\r\n  </text>\r\n  <text>\r\n    <textPath href=\"#Circle4\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n    <animateTransform attributeName=\"transform\" attributeType=\"XML\" type=\"rotate\" from=\"0 200,200\" to=\"360 200,200\" dur=\"8s\" repeatCount=\"indefinite\" />\r\n  </text>\r\n  <text>\r\n    <textPath href=\"#Circle5\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n    <animateTransform attributeName=\"transform\" attributeType=\"XML\" type=\"rotate\" from=\"0 200,200\" to=\"360 200,200\" dur=\"7s\" repeatCount=\"indefinite\" />\r\n  </text>\r\n  <text>\r\n    <textPath href=\"#Circle6\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n    <animateTransform attributeName=\"transform\" attributeType=\"XML\" type=\"rotate\" from=\"0 200,200\" to=\"360 200,200\" dur=\"6s\" repeatCount=\"indefinite\" />\r\n  </text>\r\n  <text>\r\n    <textPath href=\"#Circle7\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n    <animateTransform attributeName=\"transform\" attributeType=\"XML\" type=\"rotate\" from=\"0 200,200\" to=\"360 200,200\" dur=\"5s\" repeatCount=\"indefinite\" />\r\n  </text>\r\n  <text>\r\n    <textPath href=\"#Circle8\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n    <animateTransform attributeName=\"transform\" attributeType=\"XML\" type=\"rotate\" from=\"0 200,200\" to=\"360 200,200\" dur=\"4s\" repeatCount=\"indefinite\" />\r\n  </text>\r\n  <text>\r\n    <textPath href=\"#Circle9\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n    <animateTransform attributeName=\"transform\" attributeType=\"XML\" type=\"rotate\" from=\"0 200,200\" to=\"360 200,200\" dur=\"3s\" repeatCount=\"indefinite\" />\r\n  </text>\r\n</svg>\r\n```\r\n\r\nSVG単体でanimateTransformを利用してマニ車を回すより、CSSのanimationで回した方がスムーズな動作で回せました。\r\n\r\nこれでパソコンでもスマホでも、いつでもどこでも誰でも自動でスマートに徳を積めますね。  \r\n以上、SVGで徳を積んだという話でした。\r\n","tags":["SVG","CSS"],"category":"blog"},{"slug":"posts/google-colab-github","date":"2022-12-04T05:58:43+0900","draft":false,"title":"Google ColaboratoryでGitHubのipynbファイルを開く","description":"Google ColaboratoryでGitHubのipynbファイルを開いてみたいと思うこと、ありますよね。僕はあるので自分用にメモです。","content":"\r\nGoogle ColaboratoryでGitHubのファイルを開いてみたいと思うこと、ありますよね。  \r\n僕はあるので自分用にメモです。\r\n\r\nと言っても簡単で、GitHubでパブリックのリポジトリにファイルをコミットするだけです。\r\n\r\n<https://github.com/nishidemasami/google-colab-tutorial/blob/main/ubuntu-command/useful_tools.ipynb>\r\n\r\nこのようなパスにコミットしたとしたら、\r\n\r\n<https://colab.research.google.com/github/nishidemasami/google-colab-tutorial/blob/main/ubuntu-command/useful_tools.ipynb>\r\n\r\nこうやってGoogle Colaboratoryで開くことができます。\r\n\r\n簡単！\r\n","tags":["Google Colaboratory","GitHub"],"category":"blog"},{"slug":"posts/nextjs-latex","date":"2022-12-04T04:58:43+0900","draft":false,"title":"Next.jsで数式を書く","description":"Next.jsで数式を書いてみたいと思うこと、ありますよね。僕はあるので自分用にメモです。","content":"\r\nNext.jsで数式を書いてみたいと思うこと、ありますよね。  \r\n僕はあるので自分用にメモです。\r\n\r\n2次方程式の解の公式、懐かしいですね。\r\n\r\n$$\r\nx = \\frac{-b\\pm\\sqrt{b^2-4ac}}{2a}\r\n$$\r\n\r\nこれを見ると学生時代を思い出しますね。  \r\nこういう数式を、Next.jsでもMarkdownに$\\LaTeX$で\r\n\r\n```latex\r\nx = \\frac{-b\\pm\\sqrt{b^2-4ac}}{2a}\r\n```\r\n\r\nこんな感じで書けたら便利です。\r\n\r\n今回は$\\LaTeX$をウェブブラウザで表示するためのライブラリである$\\KaTeX$をNext.jsで使ってみました。<sup>[<a target=\"_blank\" href=\"https://www.amazon.co.jp/React-js%EF%BC%86Next-js%E8%B6%85%E5%85%A5%E9%96%80-%E7%AC%AC2%E7%89%88-%E6%8E%8C%E7%94%B0%E6%B4%A5%E8%80%B6%E4%B9%83-ebook/dp/B08XBNGYVH?__mk_ja_JP=%E3%82%AB%E3%82%BF%E3%82%AB%E3%83%8A&crid=1304MCUGBPN1M&keywords=next.js&qid=1670505884&sprefix=next.j%2Caps%2C195&sr=8-6&linkCode=ll1&tag=nishidemasami-22&linkId=1faf1c568d048e662fff7bffcc7794e3&language=ja_JP&ref_=as_li_ss_tl\">参考文献</a>]</sup>\r\n\r\nJavaScriptで動的にブラウザ上で数式を描画するのがよく見る$\\KaTeX$の使い方ですが、Next.jsでSSGしている時にはビルド時に既に数式がHTMLにレンダリング済みだという挙動になるので少し仕組みが違います。  \r\nブラウザとしては$\\LaTeX$形式の数式をHTMLへ変換する必要がなくなり描画が高速だという点がメリットです。ブラウザがJavaScriptを無効化していても見れるのもいいですね。\r\n\r\nまず、必要なパッケージをインストールします。\r\n\r\n```bash\r\nnpm install remark-math rehype-katex\r\n```\r\n\r\nこのウェブサイトではMarkdownを読み込むのに _unified_ を使用しているので、 _remark-math_ と _rehype-katex_ を追加で _use_ します。\r\n\r\n```typescript\r\nimport rehypePrism from '@mapbox/rehype-prism';\r\nimport rehypeKatex from 'rehype-katex';\r\nimport rehypeStringify from 'rehype-stringify';\r\nimport remarkGfm from 'remark-gfm';\r\nimport remarkMath from 'remark-math';\r\nimport remarkParse from 'remark-parse';\r\nimport remarkRehype from 'remark-rehype';\r\nimport { unified } from 'unified';\r\n\r\nexport const markdownToHtml = async (markdown: string) =>\r\n  (\r\n    await unified()\r\n      .use(remarkParse)\r\n      .use(remarkMath)\r\n      .use(remarkGfm)\r\n      .use(remarkRehype, { allowDangerousHtml: true })\r\n      .use(rehypePrism)\r\n      .use(rehypeKatex)\r\n      .use(rehypeStringify, { allowDangerousHtml: true })\r\n      .process(markdown)\r\n  )\r\n    .toString();\r\n```\r\n\r\nあとは$\\KaTeX$のCSSをCDNなどから読み込めば完成です。\r\n\r\n```html\r\n<link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css\" crossOrigin=\"anonymous\" />\r\n```\r\n\r\nでは、実際に書いてみることにします。  \r\n以下は任意の$x$と$y$の最大公約数を求める$gcd$関数の定義です。\r\n\r\n```latex\r\n\\gcd(x, y) =\r\n\\begin{cases}\r\n  y & (x = 0)\\\\\r\n  x & (y = 0)\\\\\r\n  \\gcd(y, x \\bmod y) & (\\text{otherwize})\r\n\\end{cases}\r\n```\r\n\r\n$$\r\n\\gcd(x, y) =\r\n\\begin{cases}\r\n  y & (x = 0)\\\\\r\n  x & (y = 0)\\\\\r\n  \\gcd(y, x \\bmod y) & (\\text{otherwize})\r\n\\end{cases}\r\n$$\r\n\r\n上手に書けました！✨\r\n\r\n以上です。  \r\n<https://github.com/nishidemasami/nishidemasami.github.io>  \r\n実際にNext.jsで動いているコードは👆ここから確認してください。\r\n","tags":["Next.js","LaTeX","KaTeX","Markdown"],"category":"blog"},{"slug":"posts/gen_ed25519_key","date":"2022-12-02T23:02:43+0900","draft":false,"title":"ED25519の鍵を生成する","description":"ED25519の鍵を生成したいこと、ありますよね。僕はあるので自分用にメモです。","content":"\r\nもう1年以上前にAWSでED25519の鍵が使えるようになっていた。  \r\n当然のようにGitHubでも使える。  \r\nどんどんED25519を使えない環境もかなり減ってきていて、ED25519の鍵を作る機会も増えてきた。\r\n\r\nなのに、ED25519の鍵の作り方をいつもググって調べるので自分用にメモ。\r\n\r\n`ssh-keygen -t ed25519`  \r\nで作成できる。  \r\n\r\n```bash\r\n$ ssh -V\r\nOpenSSH_8.9p1 Ubuntu-3, OpenSSL 3.0.2 15 Mar 2022\r\n$ ssh-keygen -t ed25519\r\nGenerating public/private ed25519 key pair.\r\nEnter file in which to save the key (/home/nishidemasami/.ssh/id_ed25519):\r\nEnter passphrase (empty for no passphrase):\r\nEnter same passphrase again:\r\nYour identification has been saved in /home/nishidemasami/.ssh/id_ed25519\r\nYour public key has been saved in /home/nishidemasami/.ssh/id_ed25519.pub\r\nThe key fingerprint is:\r\nSHA256:mObF7QvcCUg1/JQb9aF6hc2R6GCuu7UpYipZ03J6Xtw nishidemasami@desktop-nishidemasami\r\nThe key's randomart image is:\r\n+--[ED25519 256]--+\r\n|       .o  o..o. |\r\n|       ...* .*.o |\r\n|      .  = =o =  |\r\n|     . = .+...   |\r\n|     .= S.o .    |\r\n|    +oo+.= o     |\r\n|   o =. =.E      |\r\n|  o . +.oo +     |\r\n|   ..=...o+      |\r\n+----[SHA256]-----+\r\n```\r\n\r\n参考\r\n<https://aws.amazon.com/jp/about-aws/whats-new/2021/08/amazon-ec2-customers-ed25519-keys-authentication/>\r\n","tags":["SSH","AWS","ED25519"],"category":"blog"},{"slug":"posts/check_github_repository_size","date":"2022-12-01T23:02:43+0900","draft":false,"title":"GitHubのレポジトリサイズを確認する","description":"GitHubのレポジトリサイズを確認する","content":"\r\nリポジトリのサイズがいつも気になるので自分用にメモ。\r\n\r\n`https://api.github.com/repos/アカウント名/リポジトリ名`  \r\nにアクセスするとjsonで詳細が取得できる。  \r\nその`size`にKB単位でサイズが入っている。\r\n\r\nたとえば`github.com:nishidemasami/nishidemasami.github.io.git`の場合、  \r\n<https://api.github.com/repos/nishidemasami/nishidemasami.github.io>  \r\nこのURLで取得できる。\r\n","tags":["GitHub"],"category":"blog"},{"slug":"posts/nextjs-website-renewal","date":"2022-11-30T01:04:03+0900","draft":false,"title":"Next.jsでこのウェブサイトをリニューアルしました！✨","description":"Next.jsでこのウェブサイトをリニューアルしました！✨","content":"\r\nNext.jsでこのウェブサイトをリニューアルしました！✨\r\n\r\nT3 Stackの6つの技術のうち、フロントエンド側の以下の3つの技術をフル活用しています。\r\n\r\n* TypeScript<sup>[<a target=\"_blank\" href=\"https://www.amazon.co.jp/%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0TypeScript-%E2%80%95%E3%82%B9%E3%82%B1%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8BJavaScript%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E9%96%8B%E7%99%BA-Boris-Cherny/dp/4873119049?__mk_ja_JP=%E3%82%AB%E3%82%BF%E3%82%AB%E3%83%8A&crid=3Q7MI7KXY06BB&keywords=typescript&qid=1670505807&sprefix=typescript+%2Caps%2C224&sr=8-9&linkCode=ll1&tag=nishidemasami-22&linkId=48539012d76c58e8bc3549b5a9dc7a1f&language=ja_JP&ref_=as_li_ss_tl\" rel=\"noreferrer\" >参考文献</a>]</sup>  \r\nほぼ全てTypeScriptで書いています。\r\n* Next.js  \r\nSSGフレームワークに使用しています。\r\n* Tailwind CSS  \r\nスタイルを書くのに使用しています。CSSもSCSSもstyled-componentsもどうしても必要な箇所を除けば使っていません。\r\n\r\nまた、リニューアル後も引き続きGitHub ActionsでCI/CDを継続しています。\r\n\r\n今のところこのウェブサイトはNext.jsになる前には、\r\n\r\nHexo  \r\n🔽  \r\nGatsby.js  \r\n🔽  \r\nNext.js\r\n\r\nという偏移を経ています。\r\n\r\nHexoは純粋な時代の古き良きSSGでした。しかしパフォーマンスを追い求めると限界がありました。  \r\nGatsby.jsは _Blazing fast🔥_ ではあったもののちょっとカスタマイズしようとするとすぐgatsby-pluginが必要になりました。  \r\nその点Next.jsは、何もかも自分でコントロールできるような確かな手触りを感じています。  \r\nそれにNext.jsも十分速い。とにかくウェブサイトのなにをクリックしても速いです。普通の使い方をするならGatsby.jsと違いがわからないほど速いです。  \r\n\r\nNext.jsをもっと良く知るためにも、引き続きこのウェブサイトでいろいろなことをやってみようと思っています。\r\n","tags":["Next.js"],"category":"blog"},{"slug":"posts/css-svg-rotate-text","date":"2021-03-17T01:04:03+0900","draft":false,"title":"SVGとCSSだけで文字をクルクル回す","description":"JavaScriptを使わずにSVGとCSSだけで文字をクルクル回したいこと、ありますよね。僕はあるので自分用にメモです。","content":"\r\nJavaScriptを使わずにSVGとCSSだけで文字をクルクル回したいこと、ありますよね。  \r\n僕はあるので自分用にメモです。\r\n\r\n<svg style=\"animation: spin 5s linear infinite; max-width:300px\" viewBox=\"0 0 100 100\" >\r\n  <defs>\r\n    <path id=\"Circle\" d=\"M 25, 50 a 25,25 0 1,1 50,0 a 25,25 0 1,1 -50,0\" />\r\n  </defs>\r\n  <text>\r\n    <textPath href=\"#Circle\">文字がクルクル回ります。</textPath>\r\n  </text>\r\n</svg>\r\n\r\n```html\r\n<svg\r\n  style=\"animation: spin 5s linear infinite; max-width:300px\"\r\n  viewBox=\"0 0 100 100\"\r\n>\r\n  <defs>\r\n    <path\r\n      id=\"Circle\"\r\n      d=\"M 25, 50 a 25,25 0 1,1 50,0 a 25,25 0 1,1 -50,0\"\r\n    />\r\n  </defs>\r\n  <text>\r\n    <textPath href=\"#Circle\">\r\n      文字がクルクル回ります。\r\n    </textPath>\r\n  </text>\r\n</svg>\r\n```\r\n\r\nSVGは大きさ50*50の円とその周囲を沿うようにテキストを記述しています。SVGのスタイルにはクルクル回るCSSを書いてます。  \r\nこれだけでクルクル回ったので楽しかったです。\r\n","tags":["CSS","SVG"],"category":"blog"},{"slug":"articles/react-sound-test","date":"2021-03-14T01:04:03+0900","draft":false,"title":"Reactでホワイトノイズを鳴らす","description":"Reactでホワイトノイズを鳴らしたいこと、ありますよね。僕はあるので自分用にメモです。","content":"*/\n\nimport React from 'react';\n\nimport { format } from 'date-fns';\nimport { GetStaticProps } from 'next';\nimport dynamic from 'next/dynamic';\n\nimport { ReactAudioTest } from '../../components/ReactAudioTest';\nimport { Content } from '../../content/Content';\nimport { Meta } from '../../layout/Meta';\nimport { PostPagination } from '../../pagination/PostPagination';\nimport { Main } from '../../templates/Main';\nimport {\n\tgetPrevNextPost,\n\tgetRecentPosts,\n\tgetTags,\n\tPostItems,\n} from '../../utils/Content';\n\ntype ReactSoundTestProps = {\n\trecents: PostItems[];\n\ttags: string[];\n\tprevPost?: PostItems;\n\tnextPost?: PostItems;\n};\n\nconst ReactEmbedGist = dynamic(() => import('../../utils/CodeBlock'), {\n\tloading: () => <p>loading...</p>,\n\tssr: false,\n});\n\nconst ReactSoundTest = (props: ReactSoundTestProps) => (\n\t<Main\n\t\trecents={props.recents}\n\t\ttags={props.tags}\n\t\tmeta={\n\t\t\t<Meta\n\t\t\t\ttitle=\"Reactでホワイトノイズを鳴らす\"\n\t\t\t\tdescription=\"React + TypeScript でホワイトノイズを鳴らしてみました\"\n\t\t\t/>\n\t\t}\n\t>\n\t\t<h1 className=\"text-center font-bold text-3xl text-gray-900\">\n\t\t\tReactでホワイトノイズを鳴らす\n\t\t</h1>\n\t\t<div className=\"text-center text-sm mb-4\">\n\t\t\t{format(new Date('2021-03-14T01:04:03+0900'), 'LLLL d, yyyy')}\n\t\t</div>\n\n\t\t<Content>\n\t\t\t<div>\n\t\t\t\t<p>\n\t\t\t\t\tReactでホワイトノイズを鳴らしたいこと、ありますよね。\n\t\t\t\t\t<br />\n\t\t\t\t\t僕はあるので自分用にメモです。\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\t↓ React + TypeScript でホワイトノイズを鳴らしてみました。\n\t\t\t\t\t<sup>\n\t\t\t\t\t\t[\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\thref=\"https://www.amazon.co.jp/%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0TypeScript-%E2%80%95%E3%82%B9%E3%82%B1%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8BJavaScript%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E9%96%8B%E7%99%BA-Boris-Cherny/dp/4873119049?__mk_ja_JP=%E3%82%AB%E3%82%BF%E3%82%AB%E3%83%8A&crid=3Q7MI7KXY06BB&keywords=typescript&qid=1670505807&sprefix=typescript+%2Caps%2C224&sr=8-9&linkCode=ll1&tag=nishidemasami-22&linkId=48539012d76c58e8bc3549b5a9dc7a1f&language=ja_JP&ref_=as_li_ss_tl\"\n\t\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t参考文献\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t]\n\t\t\t\t\t</sup>\n\t\t\t\t\t<br />\n\t\t\t\t\t※音が鳴ります\n\t\t\t\t</p>\n\t\t\t\t<ReactAudioTest />\n\t\t\t\t<p>\n\t\t\t\t\tパソコンで音を鳴らすのはかんたんなんですけどスマホはガードが固いらしくて、ユーザのなんらかの動作をトリガーとして再生しないと再生されないみたいです。\n\t\t\t\t</p>\n\t\t\t\t<p>なので今回は useCallback で宣言して onClick から呼びました。</p>\n\t\t\t\t<p>↓ これが今回のコードです</p>\n\t\t\t\t<ReactEmbedGist gist=\"nishidemasami/133b02b3a02869dea1a2d7d3e15ce3b6\" />\n\t\t\t</div>\n\t\t</Content>\n\n\t\t<PostPagination nextPost={props.nextPost} prevPost={props.prevPost} />\n\t</Main>\n);\n\nexport const getStaticProps: GetStaticProps<ReactSoundTestProps> = async () => {\n\tconst recents = getRecentPosts(['title', 'date', 'slug']);\n\n\treturn {\n\t\tprops: {\n\t\t\trecents,\n\t\t\ttags: getTags(),\n\t\t\t...getPrevNextPost(__filename),\n\t\t},\n\t};\n};\n\nexport default ReactSoundTest;\n","tags":["TypeScript","React"],"category":"blog"},{"slug":"articles/blog-remake-with-gatsby","date":"2021-03-06T18:04:03+0900","draft":false,"title":"Gatsbyでブログをリニューアルしてみました","description":"このブログをリニューアルしてみました。このブログのソースはここ ↓ で公開しています。https://github.com/nishidemasami/nishidemasami.github.io/tree/gatsby見てみた感じどうですか？すごくないですか！？…","content":"*/\n\nimport React from 'react';\n\nimport { format } from 'date-fns';\nimport { GetStaticProps } from 'next';\n\nimport ReactHelloWorld from '../../components/ReactHelloWorld/ReactHelloWorld';\nimport { Content } from '../../content/Content';\nimport { Meta } from '../../layout/Meta';\nimport { PostPagination } from '../../pagination/PostPagination';\nimport { Main } from '../../templates/Main';\nimport {\n\tgetPrevNextPost,\n\tgetRecentPosts,\n\tgetTags,\n\tPostItems,\n} from '../../utils/Content';\n\ntype AboutProps = {\n\trecents: PostItems[];\n\ttags: string[];\n\tprevPost?: PostItems;\n\tnextPost?: PostItems;\n};\n\nconst About = (props: AboutProps) => (\n\t<Main\n\t\trecents={props.recents}\n\t\ttags={props.tags}\n\t\tmeta={\n\t\t\t<Meta\n\t\t\t\ttitle=\"Gatsbyでブログをリニューアルしてみました\"\n\t\t\t\tdescription=\"Gatsbyでブログをリニューアルしてみました\"\n\t\t\t/>\n\t\t}\n\t>\n\t\t<h1 className=\"text-center font-bold text-3xl text-gray-900\">\n\t\t\tGatsbyでブログをリニューアルしてみました\n\t\t</h1>\n\t\t<div className=\"text-center text-sm mb-4\">\n\t\t\t{format(new Date('2021-03-06T18:04:03+0900'), 'LLLL d, yyyy')}\n\t\t</div>\n\n\t\t<Content>\n\t\t\t<div>\n\t\t\t\t<p>\n\t\t\t\t\tこのブログをリニューアルしてみました。\n\t\t\t\t\tちなみにこのブログのソースはここ ↓ で公開しています。\n\t\t\t\t\t<a href=\"https://github.com/nishidemasami/nishidemasami.github.io/tree/gatsby\">\n\t\t\t\t\t\thttps://github.com/nishidemasami/nishidemasami.github.io/tree/gatsby\n\t\t\t\t\t</a>\n\t\t\t\t</p>\n\t\t\t\t<p>作ってみた感じ、すごくいいと思います！</p>\n\t\t\t\t<ul>\n\t\t\t\t\t<li>React が動いている・生で React が書ける</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\tページ間の遷移の速度が速い(React の仮想 DOM 操作に由来している)\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\tちょっとがんばれば Typescript でも書ける(使用する Gatsby\n\t\t\t\t\t\tのテンプレートによっては最初から Typescript を使っているらしい)\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\tGatsby が静的にページを作ってくれているので Javascript\n\t\t\t\t\t\tをオフにしてても見れる\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\n\t\t\t\t<ReactHelloWorld>\n\t\t\t\t\tこんな感じで普通にReact が<br />\n\t\t\t\t\tTypescript で書けて動きます！✨\n\t\t\t\t</ReactHelloWorld>\n\t\t\t\t<p>\n\t\t\t\t\tGatsby は、HEXO や Hugo、Jekyll\n\t\t\t\t\tみたいに静的ジェネレータなので、こうやって Github Pages\n\t\t\t\t\tにも乗せられるので便利！ AWS S3 とかに乗せればスケールしますし！✨\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\tあと、ページを高速化するための細かなテクニックを最初から使ってくれています。\n\t\t\t\t</p>\n\t\t\t\t<ul>\n\t\t\t\t\t<li>静的プレレンダリング・静的プリフェッチ(速い)</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\tいわゆる PRPL パターンに準拠する PWA サポート\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t<em>Push </em>\n\t\t\t\t\t\t</strong>\n\t\t\t\t\t\tcritical resources for the initial URL route using\n\t\t\t\t\t\t<code>&lt;link preload&gt;</code> and HTTP/2.\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t<em>Render </em>\n\t\t\t\t\t\t</strong>\n\t\t\t\t\t\tinitial route.\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t<em>Pre-cache </em>\n\t\t\t\t\t\t</strong>\n\t\t\t\t\t\tremaining routes.\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t<em>Lazy-load </em>\n\t\t\t\t\t\t</strong>\n\t\t\t\t\t\tand create remaining routes on demand.\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<a href=\"https://www.gatsbyjs.com/docs/prpl-pattern/\">\n\t\t\t\t\t\t\thttps://www.gatsbyjs.com/docs/prpl-pattern/\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\tGraphQL(ビルド時には json\n\t\t\t\t\t\tになっている)によるデータアクセスや画面遷移(これまた速い)\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t<p>\n\t\t\t\t\tGatsby で Markdown ファイルとかいい感じにしてくれますし、普通に React\n\t\t\t\t\tの仮想 DOM による高速化の恩恵も受けることできてます！\n\t\t\t\t\tかなりいい感じになってると思います！✨\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</Content>\n\n\t\t<PostPagination nextPost={props.nextPost} prevPost={props.prevPost} />\n\t</Main>\n);\n\nexport const getStaticProps: GetStaticProps<AboutProps> = async () => ({\n\tprops: {\n\t\trecents: getRecentPosts(['title', 'date', 'slug']),\n\t\ttags: getTags(),\n\t\t...getPrevNextPost(__filename),\n\t},\n});\n\nexport default About;\n","tags":["JavaScript","TypeScript","React","Gatsby"],"category":"blog"},{"slug":"posts/network-specialist-examination","date":"2016-12-18T18:04:03+0900","draft":false,"title":"ネットワークスペシャリスト合格体験記","description":"念願のネットワークスペシャリストに合格しました！本当に念願で、というのも情報セキュリティスペシャリスト合格から今回で丸 2 年経っていて、今回合格できなければ午前 I 免除が終わってしまうところだったんです。…","content":"\r\n念願のネットワークスペシャリストに合格しました！\r\n本当に念願で、というのも情報セキュリティスペシャリスト合格から今回で丸 2 年経っていて、今回合格できなければ午前 I 免除が終わってしまうところだったんです。\r\n\r\nこちらが成績です。\r\n\r\n![ネットワークスペシャリスト成績](https://lh3.googleusercontent.com/pw/ACtC-3cJJG24p8M5wNBDBcGb4Bmc0njr2p2GzTuXB3z_7vwnC0FyW8ChvDTKkOH5SFB1fqS6jiFCkysXD53sSs5OOZ_67KRgHwIJ-vH_Pg6XSFM2JSZmDplgXH-WgtqPZRQ9qG9D7g59rYN7efbAoiJILXnnmA=w563-h351-no?authuser=0)\r\n60 点が合格ラインなので、ゆとりを持った合格となりました！\r\n\r\n2 年前の情報セキュリティスペシャリストの時は午前 I 免除、午前 II が 84 点、午後 I が 71 点、午後 II が 62 点と午後 II がギリギリでした。\r\nしかし今回は、午前 I が同じく免除で、午前 II が 72 点、午後 I が 70 点、午後 II が 72 点でした。いずれも 7 割超です！\r\nでは今回のネットワークスペシャリストが余裕だったかと言うとそうではなく、今回も非常に厳しい戦いとなりました。\r\n\r\n今後ネットワークスペシャリストに挑戦するみなさんの助けになるよう、自分の今回の勉強法を書いていきたいと思います。\r\n\r\n### 良い教本に出会う\r\n\r\n僕はネットワークスペシャリストに合格するのに 2 年かかりました。\r\n長い間お付き合いする本ですから、教本選びは大切です。\r\n僕は、定番のポケットスタディで勉強しました。「ポケットスタディ ネットワークスペシャリスト」で検索すれば出てくると思います。\r\nコンパクトなのでいつでも持ち歩けますし、外出先でも気軽に読めて便利です。\r\nポケットスタディだけで基礎を完璧にはできないかもしれませんが、必要知識のリストアップとして効果的です。\r\n不足知識や理解しきれない部分はネットで調べました。\r\nネットとポケットスタディで、常に勉強ができる状態を維持するところがポイントです。\r\n\r\nまた、過去問の解答の解説にはネスペの剣なども読みました。\r\n問題・解答は無料で公式サイトからダウンロードできますが、解説は別に必要です。\r\nただ、解説本に手を出すのもおそらく基礎を身に付けてからの話だと思います。\r\nそれに、基礎を身につける間にネットでわからないところを検索していると、いつの間にか解説なしでも問題を読めるようになっているものです。\r\nちなみに僕は BGP や OSPF などがピンと来ないのでそこらへんは本に頼りました。\r\n\r\nそれから、これまた定番の「3 Minutes Networking([http://www5e.biglobe.ne.jp/aji/3min/](http://www5e.biglobe.ne.jp/aji/3min/))」もオススメです。\r\nネットワーク技術をある程度体系的にまとめて教えてくれる貴重なサイトです。しかも 1 講座 3 分で読めるのだそうです(※読めません！)。\r\nぜひ読破に挑戦してみましょう！\r\n\r\n### 新しい技術を学ぶ\r\n\r\nデータベーススペシャリストは、新しい技術はあまり出てきません。出てきて NoSQL くらいです。データベーススペシャリストは話のわかるヤツです。\r\nけどネットワークスペシャリストはそんなの気にしません。\r\n今回、午後 II では STUN や WebRTC が問題に登場しました。\r\nWebSocket や、過去には OpenFlow も出ています。\r\n2013 年なんて午後 II の問 2 が丸々 OpenFlow だったので、OpenFlow をノーチェックだった人は問 1 しか選択肢が無く非常に不利な戦いとなったはずです。\r\n今こうしている間にも新しい技術はどんどん出現していますので、後学のためにも話題の新技術は怯まずぜひチェックしてゆきましょう。\r\n\r\n### 確実に基礎を固める\r\n\r\n上に書いたことと関連するのですが、新技術を学ぶことは、当然基礎を固めることから始まります。\r\n新技術もおおむね基礎の上に成り立っています。既存の技術をパッケージした AJAX のような例もありますし、また問題によっては、わからない技術がちょこっとあったとしても基礎ができていれば解ける問題もあります。\r\nネットワークスペシャリスト試験はネットワーク技術に絞った試験…と言われる範囲は狭いと思われがちですが、実際の所、ネットワーク技術がクライアントからサーバ、バックボーン、セキュリティまでも出るので範囲は広いです。ホントに途方もない範囲です。\r\nしかし、だいたいのネットワークは TCP/IP の上で動いているので TCP/IP さえ理解すれば問題文から解ける時もあります。\r\n試験問題は意外にも親切丁寧に書かれていたりします。基礎を固めておくだけで、チャンスはぐっと広がります。\r\n例えば今回受験した平成 28 年度から以下の問題です。\r\n\r\n> 迷惑メールの送信を防止する対策として、OP25B(Outbound Port 25\r\n> Blocking)のポリシでメールシステムを運用している。具体的には、自社が動的に割り当てた\r\n> IP\r\n> アドレスのホストから、自社のサービスネットワーク外のホストへの宛先ポート番号\r\n> 25 の SMTP 通信を許可しないという運用上のルールを適用している。 (中略)B\r\n> 社の PC から A 社のメールサーバへ SMTP\r\n> によるメール送信ができたとしても、そのメールサーバは A\r\n> 社のドメイン以外への宛先へはメールを転送しない設定となっている。\r\n> この設定がないことによって生じる情報セキュリティ上のリスクを、25\r\n> 字以内で答えよ (※平成 28 年度 ネットワークスペシャリスト試験午後 I\r\n> 試験問題より引用・要約)\r\n\r\nこれは「第三者中継」に関する問題です。今時当たり前すぎて見逃しがちな「第三者中継」、だからなのか随分親切な問題文です。\r\n「第三者中継」という概念を知らなくとも、これだけ丁寧に説明されていれば、基礎をわかっていれば答えられるはずです。\r\n※もちろんこれは問題文から必要な箇所だけ抜きだしたものなので簡単そうに見えますが実際は何ページもある問題文からヒントを見つけなければいけません！\r\n\r\nちなみに解答は以下の通りです。\r\n\r\n> 不正メールの踏み台にされてしまうリスク (※平成 28 年度\r\n> ネットワークスペシャリスト試験午後 I 試験解答例より引用)\r\n\r\nこのように、基礎さえわかっていれば自力で解ける問題もあります。\r\nそれに基礎は実務では必須です。ぜひ幅広く身につけましょう。\r\niptables でルータを作ってみたり、Wireshark などで通信を覗いてみたりすると楽しいくて勉強にもなるのでおすすめです！\r\n\r\n### 過去問の解答例を学ぶ\r\n\r\n記述式の問題にはしばしば、なんて答えればいいか悩む問題があります。例えば同じく平成 28 年度から以下の問題です。\r\n\r\n> ロードバランサは、通信の行きと戻りを同じ ISP\r\n> 経由にするが、通信の行きと戻りが同じ ISP でない場合の問題を、社外から Web\r\n> サーバへのアクセスを例に、IP アドレスという用語を用いて 40\r\n> 文字以内で述べよ。 (※平成 28 年度 ネットワークスペシャリスト試験午後 II\r\n> 試験問題より引用・要約)\r\n\r\nさて、困りました。こんなこと聞かれては。\r\n通信の行きと戻りで違う ISP でを使うと言われても、そんなことすればブラウザからホームページへアクセスしても、問い合わせしたところと全然違うところからレスポンスが横殴りで返ってくるわけです。\r\nESTABLISHED してないんですから、今時 NAPT やファイアーウォールでガチガチに守られている我々のブラウザには、戻りの通信は届きすらしなさそうです。\r\nなんと答えればいいでしょうか？\r\n「戻りの IP アドレスの通信がファイアーウォールで弾かれてしまう」でしょうか？\r\nそもそも「戻りの通信の IP アドレスが ESTABLISHED していない」でしょうか？\r\n\r\n解答を見てみましょう。\r\n\r\n> 応答が行きの宛先 IP アドレスとは異なる送信元 IP アドレスから戻る。 (※平成\r\n> 28 年度 ネットワークスペシャリスト試験午後 II 試験解答例より引用)\r\n\r\n根本的！\r\nそうなんです。解答に困ったら「で、実際のところなにが言いたいの？」というところを突き詰めてゆくと、自ずとシンプルな答えが出てくるはずです。\r\nこの問題は TCP/IP の知識があれば答えられますが、後半の問題は STUN も絡んできます。STUN ですよ！ワクワクしますよね？\r\nですがワクワクするからといって、例えば変に Skype 黎明期の苦労話などを知っていると「そもそも NAT 超えというのは〜〜」などと長々と講釈を書いてしまいそうになりますが、\r\nそれは心の中にそっと閉まっておくのが試験合格のため（そして普段の円滑な業務遂行のため）の秘訣です。\r\n◯◯ 文字以内という解答に求められているレベル感を掴むためにも、過去問はぜひ 1 度解いてみましょう。なんていったって過去問は公式サイトからダウンロード無料です。\r\n\r\n### 心を強く持つ\r\n\r\n最後になりましたが！\r\n諦めてはそこで試験終了です！\r\n僕は過去に何度も試験中諦めそうになった問題を気合で解いてきました！そしてそのうち半分くらいは合格してました！\r\n心を強く持って、挫けずにトライすることが大切です！\r\nがんばりましょう！僕もがんばります！次は春はデータベーススペシャリスト、秋はシステムアーキテクトかもしくは IT ストラテジストを受ける予定です！\r\n\r\nネットワークスペシャリストに合格したという話でした！\r\n","tags":["情報処理技術者試験","ネットワークスペシャリスト"],"category":"blog"}],"tags":["Next.js","LaTeX","KaTeX","Markdown"],"prevPost":{"slug":"posts/google-colab-github","date":"2022-12-04T05:58:43+0900","draft":false,"title":"Google ColaboratoryでGitHubのipynbファイルを開く","description":"Google ColaboratoryでGitHubのipynbファイルを開いてみたいと思うこと、ありますよね。僕はあるので自分用にメモです。","content":"\r\nGoogle ColaboratoryでGitHubのファイルを開いてみたいと思うこと、ありますよね。  \r\n僕はあるので自分用にメモです。\r\n\r\nと言っても簡単で、GitHubでパブリックのリポジトリにファイルをコミットするだけです。\r\n\r\n<https://github.com/nishidemasami/google-colab-tutorial/blob/main/ubuntu-command/useful_tools.ipynb>\r\n\r\nこのようなパスにコミットしたとしたら、\r\n\r\n<https://colab.research.google.com/github/nishidemasami/google-colab-tutorial/blob/main/ubuntu-command/useful_tools.ipynb>\r\n\r\nこうやってGoogle Colaboratoryで開くことができます。\r\n\r\n簡単！\r\n","tags":["Google Colaboratory","GitHub"],"category":"blog"},"nextPost":{"slug":"posts/gen_ed25519_key","date":"2022-12-02T23:02:43+0900","draft":false,"title":"ED25519の鍵を生成する","description":"ED25519の鍵を生成したいこと、ありますよね。僕はあるので自分用にメモです。","content":"\r\nもう1年以上前にAWSでED25519の鍵が使えるようになっていた。  \r\n当然のようにGitHubでも使える。  \r\nどんどんED25519を使えない環境もかなり減ってきていて、ED25519の鍵を作る機会も増えてきた。\r\n\r\nなのに、ED25519の鍵の作り方をいつもググって調べるので自分用にメモ。\r\n\r\n`ssh-keygen -t ed25519`  \r\nで作成できる。  \r\n\r\n```bash\r\n$ ssh -V\r\nOpenSSH_8.9p1 Ubuntu-3, OpenSSL 3.0.2 15 Mar 2022\r\n$ ssh-keygen -t ed25519\r\nGenerating public/private ed25519 key pair.\r\nEnter file in which to save the key (/home/nishidemasami/.ssh/id_ed25519):\r\nEnter passphrase (empty for no passphrase):\r\nEnter same passphrase again:\r\nYour identification has been saved in /home/nishidemasami/.ssh/id_ed25519\r\nYour public key has been saved in /home/nishidemasami/.ssh/id_ed25519.pub\r\nThe key fingerprint is:\r\nSHA256:mObF7QvcCUg1/JQb9aF6hc2R6GCuu7UpYipZ03J6Xtw nishidemasami@desktop-nishidemasami\r\nThe key's randomart image is:\r\n+--[ED25519 256]--+\r\n|       .o  o..o. |\r\n|       ...* .*.o |\r\n|      .  = =o =  |\r\n|     . = .+...   |\r\n|     .= S.o .    |\r\n|    +oo+.= o     |\r\n|   o =. =.E      |\r\n|  o . +.oo +     |\r\n|   ..=...o+      |\r\n+----[SHA256]-----+\r\n```\r\n\r\n参考\r\n<https://aws.amazon.com/jp/about-aws/whats-new/2021/08/amazon-ec2-customers-ed25519-keys-authentication/>\r\n","tags":["SSH","AWS","ED25519"],"category":"blog"},"mainTags":["GitHub","CSS","SVG","SSH","AWS","ED25519","Google Colaboratory","GitHub","hexo","Java","Ruby","情報処理技術者試験","ネットワークスペシャリスト","Next.js","LaTeX","KaTeX","Markdown","Next.js","SVG","CSS","Vim","OpenSSL","JavaScript","TypeScript","React","Gatsby","TypeScript","React"]},"__N_SSG":true}