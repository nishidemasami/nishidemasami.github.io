{"pageProps":{"title":"SVGだけで作ったSVGマニ車をCSSでクルクル回して自動で徳を積む","description":"徳、積みたいですよね。JavaScriptを使わずにSVGとCSSだけでマニ車をクルクル回して自動で徳を積みたいこと、ありますよね。僕はあるので自分用にメモです。","date":"2022-12-07T01:04:03+0900","modified_date":null,"image":null,"content":"<style>\r\n\t#Text1{animation: spin 11s linear infinite; transform-origin: center;}\r\n\t#Text2{animation: spin 10s linear infinite; transform-origin: center;}\r\n\t#Text3{animation: spin 9s linear infinite; transform-origin: center;}\r\n\t#Text4{animation: spin 8s linear infinite; transform-origin: center;}\r\n\t#Text5{animation: spin 7s linear infinite; transform-origin: center;}\r\n\t#Text6{animation: spin 6s linear infinite; transform-origin: center;}\r\n\t#Text7{animation: spin 5s linear infinite; transform-origin: center;}\r\n\t#Text8{animation: spin 4s linear infinite; transform-origin: center;}\r\n\t#Text9{animation: spin 3s linear infinite; transform-origin: center;}\r\n</style>\n<svg style=\"max-width:400px\" viewBox=\"0 0 400 400\" >\r\n\t<defs>\r\n\t\t<path id=\"Circle1\" d=\"M 25, 200 a 175,175 0 1,1 350,0 a 175,175 0 1,1 -350,0\" />\r\n\t\t<path id=\"Circle2\" d=\"M 50, 200 a 150,150 0 1,1 300,0 a 150,150 0 1,1 -300,0\" />\r\n\t\t<path id=\"Circle3\" d=\"M 75, 200 a 125,125 0 1,1 250,0 a 125,125 0 1,1 -250,0\" />\r\n\t\t<path id=\"Circle4\" d=\"M 100, 200 a 100,100 0 1,1 200,0 a 100,100 0 1,1 -200,0\" />\r\n\t\t<path id=\"Circle5\" d=\"M 125, 200 a 75,75 0 1,1 150,0 a 75,75 0 1,1 -150,0\" />\r\n\t\t<path id=\"Circle6\" d=\"M 150, 200 a 50,50 0 1,1 100,0 a 50,50 0 1,1 -100,0\" />\r\n\t\t<path id=\"Circle7\" d=\"M 175, 200 a 25,25 0 1,1 50,0 a 25,25 0 1,1 -50,0\" />\r\n\t</defs>\r\n\t<text id=\"Text1\">\r\n\t\t<textPath href=\"#Circle1\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n\t</text>\r\n\t<text id=\"Text2\">\r\n\t\t<textPath href=\"#Circle2\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n\t</text>\r\n\t<text id=\"Text3\">\r\n\t\t<textPath href=\"#Circle3\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n\t</text>\r\n\t<text id=\"Text4\">\r\n\t\t<textPath href=\"#Circle4\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n\t</text>\r\n\t<text id=\"Text5\">\r\n\t\t<textPath href=\"#Circle5\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n\t</text>\r\n\t<text id=\"Text6\">\r\n\t\t<textPath href=\"#Circle6\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n\t</text>\r\n\t<text id=\"Text7\">\r\n\t\t<textPath href=\"#Circle7\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n\t</text>\r\n\t<text id=\"Text8\">\r\n\t\t<textPath href=\"#Circle8\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n\t</text>\r\n\t<text id=\"Text9\">\r\n\t\t<textPath href=\"#Circle9\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n\t</text>\r\n</svg>\n<p>徳、積みたいですよね。</p>\n<p>ご存知マニ車。お寺とかにたまにある、周囲にマントラが書いてあって手で回すと1回転毎に1回お経を読んだのと同じ徳を積めるスピリチュアルグッズです。<sup>[<a target=\"_blank\" href=\"https://www.amazon.co.jp/gp/search?ie=UTF8&tag=nishidemasami-22&linkCode=ur2&linkId=d1ba0bb31ef3d317b4a5c8ad6af3095d&camp=247&creative=1211&index=aps&keywords=マニ車\">参考</a>]</sup><br>\nチベット仏教が国教であるブータンでは、水力マニ車や風力マニ車、ソーラーマニ車<sup>[<a target=\"_blank\" href=\"https://www.amazon.co.jp/gp/search?ie=UTF8&tag=nishidemasami-22&linkCode=ur2&linkId=d1ba0bb31ef3d317b4a5c8ad6af3095d&camp=247&creative=1211&index=aps&keywords=ソーラーマニ車\">参考</a>]</sup>などもあり、マニ車も進化しているということがわかります。<sup><a href=\"#user-content-fn-1\" id=\"user-content-fnref-1\" data-footnote-ref aria-describedby=\"footnote-label\">1</a></sup></p>\n<p>ならば、SVGとCSSでマントラを回しても徳が積めるのでは…？<br>\nそう思ったので自分用にメモです。</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>style</span><span class=\"token punctuation\">></span></span><span class=\"token style\"><span class=\"token language-css\">\r\n\t<span class=\"token selector\"><span class=\"token id\">#Text1</span></span><span class=\"token punctuation\">{</span><span class=\"token property\">animation</span><span class=\"token punctuation\">:</span> spin <span class=\"token number\">11</span><span class=\"token unit\">s</span> linear infinite<span class=\"token punctuation\">;</span> <span class=\"token property\">transform-origin</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span>\r\n\t<span class=\"token selector\"><span class=\"token id\">#Text2</span></span><span class=\"token punctuation\">{</span><span class=\"token property\">animation</span><span class=\"token punctuation\">:</span> spin <span class=\"token number\">10</span><span class=\"token unit\">s</span> linear infinite<span class=\"token punctuation\">;</span> <span class=\"token property\">transform-origin</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span>\r\n\t<span class=\"token selector\"><span class=\"token id\">#Text3</span></span><span class=\"token punctuation\">{</span><span class=\"token property\">animation</span><span class=\"token punctuation\">:</span> spin <span class=\"token number\">9</span><span class=\"token unit\">s</span> linear infinite<span class=\"token punctuation\">;</span> <span class=\"token property\">transform-origin</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span>\r\n\t<span class=\"token selector\"><span class=\"token id\">#Text4</span></span><span class=\"token punctuation\">{</span><span class=\"token property\">animation</span><span class=\"token punctuation\">:</span> spin <span class=\"token number\">8</span><span class=\"token unit\">s</span> linear infinite<span class=\"token punctuation\">;</span> <span class=\"token property\">transform-origin</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span>\r\n\t<span class=\"token selector\"><span class=\"token id\">#Text5</span></span><span class=\"token punctuation\">{</span><span class=\"token property\">animation</span><span class=\"token punctuation\">:</span> spin <span class=\"token number\">7</span><span class=\"token unit\">s</span> linear infinite<span class=\"token punctuation\">;</span> <span class=\"token property\">transform-origin</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span>\r\n\t<span class=\"token selector\"><span class=\"token id\">#Text6</span></span><span class=\"token punctuation\">{</span><span class=\"token property\">animation</span><span class=\"token punctuation\">:</span> spin <span class=\"token number\">6</span><span class=\"token unit\">s</span> linear infinite<span class=\"token punctuation\">;</span> <span class=\"token property\">transform-origin</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span>\r\n\t<span class=\"token selector\"><span class=\"token id\">#Text7</span></span><span class=\"token punctuation\">{</span><span class=\"token property\">animation</span><span class=\"token punctuation\">:</span> spin <span class=\"token number\">5</span><span class=\"token unit\">s</span> linear infinite<span class=\"token punctuation\">;</span> <span class=\"token property\">transform-origin</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span>\r\n\t<span class=\"token selector\"><span class=\"token id\">#Text8</span></span><span class=\"token punctuation\">{</span><span class=\"token property\">animation</span><span class=\"token punctuation\">:</span> spin <span class=\"token number\">4</span><span class=\"token unit\">s</span> linear infinite<span class=\"token punctuation\">;</span> <span class=\"token property\">transform-origin</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span>\r\n\t<span class=\"token selector\"><span class=\"token id\">#Text9</span></span><span class=\"token punctuation\">{</span><span class=\"token property\">animation</span><span class=\"token punctuation\">:</span> spin <span class=\"token number\">3</span><span class=\"token unit\">s</span> linear infinite<span class=\"token punctuation\">;</span> <span class=\"token property\">transform-origin</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span>\r\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>style</span><span class=\"token punctuation\">></span></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>svg</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span><span class=\"token number\">400</span><span class=\"token unit\">px</span></span><span class=\"token punctuation\">\"</span></span></span> <span class=\"token attr-name\">viewBox</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0 0 400 400<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>defs</span><span class=\"token punctuation\">></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>path</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Circle1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">d</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>M 25, 200 a 175,175 0 1,1 350,0 a 175,175 0 1,1 -350,0<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>path</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Circle2<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">d</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>M 50, 200 a 150,150 0 1,1 300,0 a 150,150 0 1,1 -300,0<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>path</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Circle3<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">d</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>M 75, 200 a 125,125 0 1,1 250,0 a 125,125 0 1,1 -250,0<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>path</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Circle4<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">d</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>M 100, 200 a 100,100 0 1,1 200,0 a 100,100 0 1,1 -200,0<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>path</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Circle5<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">d</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>M 125, 200 a 75,75 0 1,1 150,0 a 75,75 0 1,1 -150,0<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>path</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Circle6<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">d</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>M 150, 200 a 50,50 0 1,1 100,0 a 50,50 0 1,1 -100,0<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>path</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Circle7<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">d</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>M 175, 200 a 25,25 0 1,1 50,0 a 25,25 0 1,1 -50,0<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>defs</span><span class=\"token punctuation\">></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>text</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Text1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>textPath</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#Circle1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>textPath</span><span class=\"token punctuation\">></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>text</span><span class=\"token punctuation\">></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>text</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Text2<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>textPath</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#Circle2<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>textPath</span><span class=\"token punctuation\">></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>text</span><span class=\"token punctuation\">></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>text</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Text3<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>textPath</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#Circle3<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>textPath</span><span class=\"token punctuation\">></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>text</span><span class=\"token punctuation\">></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>text</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Text4<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>textPath</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#Circle4<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>textPath</span><span class=\"token punctuation\">></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>text</span><span class=\"token punctuation\">></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>text</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Text5<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>textPath</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#Circle5<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>textPath</span><span class=\"token punctuation\">></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>text</span><span class=\"token punctuation\">></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>text</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Text6<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>textPath</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#Circle6<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>textPath</span><span class=\"token punctuation\">></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>text</span><span class=\"token punctuation\">></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>text</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Text7<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>textPath</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#Circle7<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>textPath</span><span class=\"token punctuation\">></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>text</span><span class=\"token punctuation\">></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>text</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Text8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>textPath</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#Circle8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>textPath</span><span class=\"token punctuation\">></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>text</span><span class=\"token punctuation\">></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>text</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Text9<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>textPath</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#Circle9<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>textPath</span><span class=\"token punctuation\">></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>text</span><span class=\"token punctuation\">></span></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>svg</span><span class=\"token punctuation\">></span></span>\n</code></pre>\n<p>このような感じで円のパスを複数個作って、それぞれを違う速さで回しています。</p>\n<p>なお、以下のようにSVGのanimateTransformで回転させることもできます。<br>\nしかし、CPUレンダリングになってしまうのでちょっとカクカクするので今回はこの方法は使いませんでした。</p>\n<pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>svg</span> <span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>max-width:400px<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">viewBox</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0 0 400 400<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>defs</span><span class=\"token punctuation\">></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>path</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Circle1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">d</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>M 25, 200 a 175,175 0 1,1 350,0 a 175,175 0 1,1 -350,0<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>path</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Circle2<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">d</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>M 50, 200 a 150,150 0 1,1 300,0 a 150,150 0 1,1 -300,0<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>path</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Circle3<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">d</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>M 75, 200 a 125,125 0 1,1 250,0 a 125,125 0 1,1 -250,0<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>path</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Circle4<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">d</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>M 100, 200 a 100,100 0 1,1 200,0 a 100,100 0 1,1 -200,0<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>path</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Circle5<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">d</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>M 125, 200 a 75,75 0 1,1 150,0 a 75,75 0 1,1 -150,0<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>path</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Circle6<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">d</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>M 150, 200 a 50,50 0 1,1 100,0 a 50,50 0 1,1 -100,0<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>path</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Circle7<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">d</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>M 175, 200 a 25,25 0 1,1 50,0 a 25,25 0 1,1 -50,0<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>defs</span><span class=\"token punctuation\">></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>text</span><span class=\"token punctuation\">></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>textPath</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#Circle1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>textPath</span><span class=\"token punctuation\">></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>animateTransform</span> <span class=\"token attr-name\">attributeName</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>transform<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">attributeType</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>XML<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>rotate<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">from</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0 200,200<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">to</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>360 200,200<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">dur</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>11s<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">repeatCount</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>indefinite<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>text</span><span class=\"token punctuation\">></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>text</span><span class=\"token punctuation\">></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>textPath</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#Circle2<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>textPath</span><span class=\"token punctuation\">></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>animateTransform</span> <span class=\"token attr-name\">attributeName</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>transform<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">attributeType</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>XML<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>rotate<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">from</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0 200,200<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">to</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>360 200,200<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">dur</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10s<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">repeatCount</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>indefinite<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>text</span><span class=\"token punctuation\">></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>text</span><span class=\"token punctuation\">></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>textPath</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#Circle3<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>textPath</span><span class=\"token punctuation\">></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>animateTransform</span> <span class=\"token attr-name\">attributeName</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>transform<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">attributeType</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>XML<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>rotate<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">from</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0 200,200<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">to</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>360 200,200<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">dur</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>9s<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">repeatCount</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>indefinite<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>text</span><span class=\"token punctuation\">></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>text</span><span class=\"token punctuation\">></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>textPath</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#Circle4<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>textPath</span><span class=\"token punctuation\">></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>animateTransform</span> <span class=\"token attr-name\">attributeName</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>transform<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">attributeType</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>XML<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>rotate<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">from</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0 200,200<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">to</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>360 200,200<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">dur</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>8s<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">repeatCount</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>indefinite<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>text</span><span class=\"token punctuation\">></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>text</span><span class=\"token punctuation\">></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>textPath</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#Circle5<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>textPath</span><span class=\"token punctuation\">></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>animateTransform</span> <span class=\"token attr-name\">attributeName</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>transform<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">attributeType</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>XML<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>rotate<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">from</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0 200,200<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">to</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>360 200,200<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">dur</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>7s<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">repeatCount</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>indefinite<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>text</span><span class=\"token punctuation\">></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>text</span><span class=\"token punctuation\">></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>textPath</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#Circle6<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>textPath</span><span class=\"token punctuation\">></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>animateTransform</span> <span class=\"token attr-name\">attributeName</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>transform<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">attributeType</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>XML<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>rotate<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">from</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0 200,200<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">to</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>360 200,200<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">dur</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>6s<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">repeatCount</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>indefinite<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>text</span><span class=\"token punctuation\">></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>text</span><span class=\"token punctuation\">></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>textPath</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#Circle7<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>textPath</span><span class=\"token punctuation\">></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>animateTransform</span> <span class=\"token attr-name\">attributeName</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>transform<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">attributeType</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>XML<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>rotate<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">from</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0 200,200<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">to</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>360 200,200<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">dur</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>5s<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">repeatCount</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>indefinite<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>text</span><span class=\"token punctuation\">></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>text</span><span class=\"token punctuation\">></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>textPath</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#Circle8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>textPath</span><span class=\"token punctuation\">></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>animateTransform</span> <span class=\"token attr-name\">attributeName</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>transform<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">attributeType</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>XML<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>rotate<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">from</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0 200,200<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">to</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>360 200,200<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">dur</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>4s<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">repeatCount</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>indefinite<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>text</span><span class=\"token punctuation\">></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>text</span><span class=\"token punctuation\">></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>textPath</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#Circle9<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>textPath</span><span class=\"token punctuation\">></span></span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>animateTransform</span> <span class=\"token attr-name\">attributeName</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>transform<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">attributeType</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>XML<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>rotate<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">from</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0 200,200<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">to</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>360 200,200<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">dur</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>3s<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">repeatCount</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>indefinite<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\r\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>text</span><span class=\"token punctuation\">></span></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>svg</span><span class=\"token punctuation\">></span></span>\n</code></pre>\n<p>SVG単体でanimateTransformを利用してマニ車を回すより、CSSのanimationで回した方がスムーズな動作で回せました。</p>\n<p>これでパソコンでもスマホでも、いつでもどこでも誰でも自動でスマートに徳を積めますね。<br>\n以上、SVGで徳を積んだという話でした。</p>\n<section data-footnotes class=\"footnotes\"><h2 class=\"sr-only\" id=\"footnote-label\">脚注</h2>\n<ol>\n<li id=\"user-content-fn-1\">\n<p>日本風力エネルギー学会誌 Vol.44, No.4 <a href=\"#user-content-fnref-1\" data-footnote-backref class=\"data-footnote-backref\" aria-label=\"Back to content\">↩</a></p>\n</li>\n</ol>\n</section>","recents":[{"slug":"posts/nextjs-mermaid","date":"2022-12-08T23:04:03+0900","draft":false,"title":"Next.jsでSSG時にRemarkでMermaidをSVGとして出力する","description":"Next.jsでSSG時にRemarkでMermaidをSVGにして出力してみたいと思うこと、ありますよね。僕はあるのですがネット上にあまり情報が無かったので自分用にメモです。","content":"\r\nNext.jsでSSG時にRemarkでMermaidをSVGにして出力してみたいと思うこと、ありますよね。  \r\n僕はあるのですがネット上にあまり情報が無かったので自分用にメモです。\r\n\r\n今回は`remark-mermaidjs`を使って実装しました。\r\n\r\nこのサイトではMarkdownを`unified`で扱っているので`remark-mermaidjs`を`use`します。  \r\n`remark-mermaidjs`はGoogle Chromeを使ってMermaidをSVGにしているらしく`executablePath`でGoogle Chromeのパスを指定しなければならないようです。  \r\nこのサイトはGitHub Actionsでビルドしているので、ubuntuのために`/opt/google/chrome/google-chrome`を指定しました。なお、ローカル環境でも自由に動かせるように`.env`にもGoogle Chromeへのパスを書くことにしました。\r\n\r\n```typescript\r\n// @ts-ignore\r\nimport rehypePrism from '@mapbox/rehype-prism';\r\nimport rehypeKatex from 'rehype-katex';\r\nimport rehypeStringify from 'rehype-stringify';\r\nimport remarkGfm from 'remark-gfm';\r\nimport remarkMath from 'remark-math';\r\nimport remarkMermaid from 'remark-mermaidjs';\r\nimport remarkParse from 'remark-parse';\r\nimport remarkRehype from 'remark-rehype';\r\nimport { unified } from 'unified';\r\n\r\nexport const markdownToHtml = async (markdown: string) =>\r\n\t(\r\n\t\tawait unified()\r\n\t\t\t.use(remarkParse)\r\n\t\t\t.use(remarkMath)\r\n\t\t\t.use(remarkGfm)\r\n\t\t\t.use(remarkMermaid, {\r\n\t\t\t\tlaunchOptions: {\r\n\t\t\t\t\texecutablePath:\r\n\t\t\t\t\t\tprocess.env.GoogleChromeExecutablePath ?? // .env\r\n\t\t\t\t\t\t'/opt/google/chrome/google-chrome', // for GitHub Actions Ubuntu\r\n\t\t\t\t},\r\n\t\t\t\tsvgo: false,\r\n\t\t\t})\r\n\t\t\t.use(remarkRehype, { allowDangerousHtml: true, footnoteLabel: '脚注' })\r\n\t\t\t.use(rehypePrism)\r\n\t\t\t.use(rehypeKatex)\r\n\t\t\t.use(rehypeStringify, { allowDangerousHtml: true })\r\n\t\t\t.process(markdown)\r\n\t)\r\n\t\t.toString()\r\n\t\t.replace(/@@baseUrl@@/g, process.env.baseUrl || '');\r\n```\r\n\r\n以下にサンプルを置いておきます。図がSVGになっていることがわかると思います。\r\n\r\n## Flowchart\r\n\r\n````markdown\r\n```mermaid\r\nflowchart LR\r\n\r\nA[Hard] -->|Text| B(Round)\r\nB --> C{Decision}\r\nC -->|One| D[Result 1]\r\nC -->|Two| E[Result 2]\r\n```\r\n````\r\n\r\n```mermaid\r\nflowchart LR\r\n\r\nA[Hard] -->|Text| B(Round)\r\nB --> C{Decision}\r\nC -->|One| D[Result 1]\r\nC -->|Two| E[Result 2]\r\n```\r\n\r\n## Sequence diagram\r\n\r\n````markdown\r\n```mermaid\r\nsequenceDiagram\r\nAlice->>John: Hello John, how are you?\r\nloop Healthcheck\r\n    John->>John: Fight against hypochondria\r\nend\r\nNote right of John: Rational thoughts!\r\nJohn-->>Alice: Great!\r\nJohn->>Bob: How about you?\r\nBob-->>John: Jolly good!\r\n```\r\n````\r\n\r\n```mermaid\r\nsequenceDiagram\r\nAlice->>John: Hello John, how are you?\r\nloop Healthcheck\r\n    John->>John: Fight against hypochondria\r\nend\r\nNote right of John: Rational thoughts!\r\nJohn-->>Alice: Great!\r\nJohn->>Bob: How about you?\r\nBob-->>John: Jolly good!\r\n```\r\n\r\n## Gantt chart\r\n\r\n````markdown\r\n```mermaid\r\ngantt\r\n    section Section\r\n    Completed :done,    des1, 2014-01-06,2014-01-08\r\n    Active        :active,  des2, 2014-01-07, 3d\r\n    Parallel 1   :         des3, after des1, 1d\r\n    Parallel 2   :         des4, after des1, 1d\r\n    Parallel 3   :         des5, after des3, 1d\r\n    Parallel 4   :         des6, after des4, 1d\r\n```\r\n````\r\n\r\n```mermaid\r\ngantt\r\n    section Section\r\n    Completed :done,    des1, 2014-01-06,2014-01-08\r\n    Active        :active,  des2, 2014-01-07, 3d\r\n    Parallel 1   :         des3, after des1, 1d\r\n    Parallel 2   :         des4, after des1, 1d\r\n    Parallel 3   :         des5, after des3, 1d\r\n    Parallel 4   :         des6, after des4, 1d\r\n```\r\n\r\n## Class diagram\r\n\r\n````markdown\r\n```mermaid\r\nclassDiagram\r\nClass01 <|-- AveryLongClass : Cool\r\n<<Interface>> Class01\r\nClass09 --> C2 : Where am I?\r\nClass09 --* C3\r\nClass09 --|> Class07\r\nClass07 : equals()\r\nClass07 : Object[] elementData\r\nClass01 : size()\r\nClass01 : int chimp\r\nClass01 : int gorilla\r\nclass Class10 {\r\n  <<service>>\r\n  int id\r\n  size()\r\n}\r\n```\r\n````\r\n\r\n```mermaid\r\nclassDiagram\r\nClass01 <|-- AveryLongClass : Cool\r\n<<Interface>> Class01\r\nClass09 --> C2 : Where am I?\r\nClass09 --* C3\r\nClass09 --|> Class07\r\nClass07 : equals()\r\nClass07 : Object[] elementData\r\nClass01 : size()\r\nClass01 : int chimp\r\nClass01 : int gorilla\r\nclass Class10 {\r\n  <<service>>\r\n  int id\r\n  size()\r\n}\r\n```\r\n\r\n## Git graph\r\n\r\n````markdown\r\n```mermaid\r\ngitGraph\r\n\t\tcommit\r\n\t\tcommit\r\n\t\tbranch develop\r\n\t\tcommit\r\n\t\tcommit\r\n\t\tcommit\r\n\t\tcheckout main\r\n\t\tcommit\r\n\t\tcommit\r\n```\r\n````\r\n\r\n```mermaid\r\ngitGraph\r\n\t\tcommit\r\n\t\tcommit\r\n\t\tbranch develop\r\n\t\tcommit\r\n\t\tcommit\r\n\t\tcommit\r\n\t\tcheckout main\r\n\t\tcommit\r\n\t\tcommit\r\n```\r\n\r\n## State diagram\r\n\r\n````markdown\r\n```mermaid\r\nstateDiagram-v2\r\n[*] --> Still\r\nStill --> [*]\r\nStill --> Moving\r\nMoving --> Still\r\nMoving --> Crash\r\nCrash --> [*]\r\n```\r\n````\r\n\r\n```mermaid\r\nstateDiagram-v2\r\n[*] --> Still\r\nStill --> [*]\r\nStill --> Moving\r\nMoving --> Still\r\nMoving --> Crash\r\nCrash --> [*]\r\n```\r\n\r\n## Pie chart\r\n\r\n````markdown\r\n```mermaid\r\npie\r\n\"Dogs\" : 386\r\n\"Cats\" : 85.9\r\n\"Rats\" : 15\r\n```\r\n````\r\n\r\n```mermaid\r\npie\r\n\"Dogs\" : 386\r\n\"Cats\" : 85.9\r\n\"Rats\" : 15\r\n```\r\n\r\n## Entity Relationship Diagram\r\n\r\n````markdown\r\n```mermaid\r\nerDiagram\r\n    CUSTOMER ||--o{ ORDER : places\r\n    ORDER ||--|{ LINE-ITEM : contains\r\n    CUSTOMER }|..|{ DELIVERY-ADDRESS : uses\r\n```\r\n````\r\n\r\n```mermaid\r\nerDiagram\r\n    CUSTOMER ||--o{ ORDER : places\r\n    ORDER ||--|{ LINE-ITEM : contains\r\n    CUSTOMER }|..|{ DELIVERY-ADDRESS : uses\r\n```\r\n\r\n## User Journey diagram\r\n\r\n````markdown\r\n```mermaid\r\njourney\r\n\ttitle My working day\r\n\tsection Go to work\r\n\t\tMake tea: 5: Me\r\n\t\tGo upstairs: 3: Me\r\n\t\tDo work: 1: Me, Cat\r\n\tsection Go home\r\n\t\tGo downstairs: 5: Me\r\n\t\tSit down: 3: Me\r\n```\r\n````\r\n\r\n```mermaid\r\njourney\r\n\ttitle My working day\r\n\tsection Go to work\r\n\t\tMake tea: 5: Me\r\n\t\tGo upstairs: 3: Me\r\n\t\tDo work: 1: Me, Cat\r\n\tsection Go home\r\n\t\tGo downstairs: 5: Me\r\n\t\tSit down: 3: Me\r\n```\r\n\r\n## C4 diagram\r\n\r\n````markdown\r\n```mermaid\r\nC4Context\r\ntitle System Context diagram for Internet Banking System\r\n\r\nPerson(customerA, \"Banking Customer A\", \"A customer of the bank, with personal bank accounts.\")\r\nPerson(customerB, \"Banking Customer B\")\r\nPerson_Ext(customerC, \"Banking Customer C\")\r\nSystem(SystemAA, \"Internet Banking System\", \"Allows customers to view information about their bank accounts, and make payments.\")\r\n\r\nPerson(customerD, \"Banking Customer D\", \"A customer of the bank, <br/> with personal bank accounts.\")\r\n\r\nEnterprise_Boundary(b1, \"BankBoundary\") {\r\n\r\n  SystemDb_Ext(SystemE, \"Mainframe Banking System\", \"Stores all of the core banking information about customers, accounts, transactions, etc.\")\r\n\r\n  System_Boundary(b2, \"BankBoundary2\") {\r\n    System(SystemA, \"Banking System A\")\r\n    System(SystemB, \"Banking System B\", \"A system of the bank, with personal bank accounts.\")\r\n  }\r\n\r\n  System_Ext(SystemC, \"E-mail system\", \"The internal Microsoft Exchange e-mail system.\")\r\n  SystemDb(SystemD, \"Banking System D Database\", \"A system of the bank, with personal bank accounts.\")\r\n\r\n  Boundary(b3, \"BankBoundary3\", \"boundary\") {\r\n    SystemQueue(SystemF, \"Banking System F Queue\", \"A system of the bank, with personal bank accounts.\")\r\n    SystemQueue_Ext(SystemG, \"Banking System G Queue\", \"A system of the bank, with personal bank accounts.\")\r\n  }\r\n}\r\n\r\nBiRel(customerA, SystemAA, \"Uses\")\r\nBiRel(SystemAA, SystemE, \"Uses\")\r\nRel(SystemAA, SystemC, \"Sends e-mails\", \"SMTP\")\r\nRel(SystemC, customerA, \"Sends e-mails to\")\r\n```\r\n````\r\n\r\n````mermaid\r\nC4Context\r\ntitle System Context diagram for Internet Banking System\r\n\r\nPerson(customerA, \"Banking Customer A\", \"A customer of the bank, with personal bank accounts.\")\r\nPerson(customerB, \"Banking Customer B\")\r\nPerson_Ext(customerC, \"Banking Customer C\")\r\nSystem(SystemAA, \"Internet Banking System\", \"Allows customers to view information about their bank accounts, and make payments.\")\r\n\r\nPerson(customerD, \"Banking Customer D\", \"A customer of the bank, <br/> with personal bank accounts.\")\r\n\r\nEnterprise_Boundary(b1, \"BankBoundary\") {\r\n\r\n  SystemDb_Ext(SystemE, \"Mainframe Banking System\", \"Stores all of the core banking information about customers, accounts, transactions, etc.\")\r\n\r\n  System_Boundary(b2, \"BankBoundary2\") {\r\n    System(SystemA, \"Banking System A\")\r\n    System(SystemB, \"Banking System B\", \"A system of the bank, with personal bank accounts.\")\r\n  }\r\n\r\n  System_Ext(SystemC, \"E-mail system\", \"The internal Microsoft Exchange e-mail system.\")\r\n  SystemDb(SystemD, \"Banking System D Database\", \"A system of the bank, with personal bank accounts.\")\r\n\r\n  Boundary(b3, \"BankBoundary3\", \"boundary\") {\r\n    SystemQueue(SystemF, \"Banking System F Queue\", \"A system of the bank, with personal bank accounts.\")\r\n    SystemQueue_Ext(SystemG, \"Banking System G Queue\", \"A system of the bank, with personal bank accounts.\")\r\n  }\r\n}\r\n\r\nBiRel(customerA, SystemAA, \"Uses\")\r\nBiRel(SystemAA, SystemE, \"Uses\")\r\nRel(SystemAA, SystemC, \"Sends e-mails\", \"SMTP\")\r\nRel(SystemC, customerA, \"Sends e-mails to\")\r\n````\r\n\r\nMermaid記法なら簡単にグラフを書けて便利なので、どんどん使っていきたいと思います。\r\n","tags":["Mermaid","Markdown","Next.js","SSG","SVG","Remark","remark-mermaidjs","GitHub Actions"],"category":"blog"},{"slug":"posts/svg-prayer-wheel","date":"2022-12-07T01:04:03+0900","draft":false,"title":"SVGだけで作ったSVGマニ車をCSSでクルクル回して自動で徳を積む","description":"徳、積みたいですよね。JavaScriptを使わずにSVGとCSSだけでマニ車をクルクル回して自動で徳を積みたいこと、ありますよね。僕はあるので自分用にメモです。","content":"\r\n<style>\r\n\t#Text1{animation: spin 11s linear infinite; transform-origin: center;}\r\n\t#Text2{animation: spin 10s linear infinite; transform-origin: center;}\r\n\t#Text3{animation: spin 9s linear infinite; transform-origin: center;}\r\n\t#Text4{animation: spin 8s linear infinite; transform-origin: center;}\r\n\t#Text5{animation: spin 7s linear infinite; transform-origin: center;}\r\n\t#Text6{animation: spin 6s linear infinite; transform-origin: center;}\r\n\t#Text7{animation: spin 5s linear infinite; transform-origin: center;}\r\n\t#Text8{animation: spin 4s linear infinite; transform-origin: center;}\r\n\t#Text9{animation: spin 3s linear infinite; transform-origin: center;}\r\n</style>\r\n<svg style=\"max-width:400px\" viewBox=\"0 0 400 400\" >\r\n\t<defs>\r\n\t\t<path id=\"Circle1\" d=\"M 25, 200 a 175,175 0 1,1 350,0 a 175,175 0 1,1 -350,0\" />\r\n\t\t<path id=\"Circle2\" d=\"M 50, 200 a 150,150 0 1,1 300,0 a 150,150 0 1,1 -300,0\" />\r\n\t\t<path id=\"Circle3\" d=\"M 75, 200 a 125,125 0 1,1 250,0 a 125,125 0 1,1 -250,0\" />\r\n\t\t<path id=\"Circle4\" d=\"M 100, 200 a 100,100 0 1,1 200,0 a 100,100 0 1,1 -200,0\" />\r\n\t\t<path id=\"Circle5\" d=\"M 125, 200 a 75,75 0 1,1 150,0 a 75,75 0 1,1 -150,0\" />\r\n\t\t<path id=\"Circle6\" d=\"M 150, 200 a 50,50 0 1,1 100,0 a 50,50 0 1,1 -100,0\" />\r\n\t\t<path id=\"Circle7\" d=\"M 175, 200 a 25,25 0 1,1 50,0 a 25,25 0 1,1 -50,0\" />\r\n\t</defs>\r\n\t<text id=\"Text1\">\r\n\t\t<textPath href=\"#Circle1\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n\t</text>\r\n\t<text id=\"Text2\">\r\n\t\t<textPath href=\"#Circle2\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n\t</text>\r\n\t<text id=\"Text3\">\r\n\t\t<textPath href=\"#Circle3\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n\t</text>\r\n\t<text id=\"Text4\">\r\n\t\t<textPath href=\"#Circle4\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n\t</text>\r\n\t<text id=\"Text5\">\r\n\t\t<textPath href=\"#Circle5\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n\t</text>\r\n\t<text id=\"Text6\">\r\n\t\t<textPath href=\"#Circle6\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n\t</text>\r\n\t<text id=\"Text7\">\r\n\t\t<textPath href=\"#Circle7\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n\t</text>\r\n\t<text id=\"Text8\">\r\n\t\t<textPath href=\"#Circle8\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n\t</text>\r\n\t<text id=\"Text9\">\r\n\t\t<textPath href=\"#Circle9\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n\t</text>\r\n</svg>\r\n\r\n徳、積みたいですよね。\r\n\r\nご存知マニ車。お寺とかにたまにある、周囲にマントラが書いてあって手で回すと1回転毎に1回お経を読んだのと同じ徳を積めるスピリチュアルグッズです。<sup>[<a target=\"_blank\" href=\"https://www.amazon.co.jp/gp/search?ie=UTF8&tag=nishidemasami-22&linkCode=ur2&linkId=d1ba0bb31ef3d317b4a5c8ad6af3095d&camp=247&creative=1211&index=aps&keywords=マニ車\">参考</a>]</sup>  \r\nチベット仏教が国教であるブータンでは、水力マニ車や風力マニ車、ソーラーマニ車<sup>[<a target=\"_blank\" href=\"https://www.amazon.co.jp/gp/search?ie=UTF8&tag=nishidemasami-22&linkCode=ur2&linkId=d1ba0bb31ef3d317b4a5c8ad6af3095d&camp=247&creative=1211&index=aps&keywords=ソーラーマニ車\">参考</a>]</sup>などもあり、マニ車も進化しているということがわかります。[^1]\r\n\r\n[^1]: 日本風力エネルギー学会誌 Vol.44, No.4\r\n\r\nならば、SVGとCSSでマントラを回しても徳が積めるのでは…？  \r\nそう思ったので自分用にメモです。\r\n\r\n```html\r\n<style>\r\n\t#Text1{animation: spin 11s linear infinite; transform-origin: center;}\r\n\t#Text2{animation: spin 10s linear infinite; transform-origin: center;}\r\n\t#Text3{animation: spin 9s linear infinite; transform-origin: center;}\r\n\t#Text4{animation: spin 8s linear infinite; transform-origin: center;}\r\n\t#Text5{animation: spin 7s linear infinite; transform-origin: center;}\r\n\t#Text6{animation: spin 6s linear infinite; transform-origin: center;}\r\n\t#Text7{animation: spin 5s linear infinite; transform-origin: center;}\r\n\t#Text8{animation: spin 4s linear infinite; transform-origin: center;}\r\n\t#Text9{animation: spin 3s linear infinite; transform-origin: center;}\r\n</style>\r\n<svg style=\"max-width:400px\" viewBox=\"0 0 400 400\" >\r\n\t<defs>\r\n\t\t<path id=\"Circle1\" d=\"M 25, 200 a 175,175 0 1,1 350,0 a 175,175 0 1,1 -350,0\" />\r\n\t\t<path id=\"Circle2\" d=\"M 50, 200 a 150,150 0 1,1 300,0 a 150,150 0 1,1 -300,0\" />\r\n\t\t<path id=\"Circle3\" d=\"M 75, 200 a 125,125 0 1,1 250,0 a 125,125 0 1,1 -250,0\" />\r\n\t\t<path id=\"Circle4\" d=\"M 100, 200 a 100,100 0 1,1 200,0 a 100,100 0 1,1 -200,0\" />\r\n\t\t<path id=\"Circle5\" d=\"M 125, 200 a 75,75 0 1,1 150,0 a 75,75 0 1,1 -150,0\" />\r\n\t\t<path id=\"Circle6\" d=\"M 150, 200 a 50,50 0 1,1 100,0 a 50,50 0 1,1 -100,0\" />\r\n\t\t<path id=\"Circle7\" d=\"M 175, 200 a 25,25 0 1,1 50,0 a 25,25 0 1,1 -50,0\" />\r\n\t</defs>\r\n\t<text id=\"Text1\">\r\n\t\t<textPath href=\"#Circle1\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n\t</text>\r\n\t<text id=\"Text2\">\r\n\t\t<textPath href=\"#Circle2\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n\t</text>\r\n\t<text id=\"Text3\">\r\n\t\t<textPath href=\"#Circle3\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n\t</text>\r\n\t<text id=\"Text4\">\r\n\t\t<textPath href=\"#Circle4\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n\t</text>\r\n\t<text id=\"Text5\">\r\n\t\t<textPath href=\"#Circle5\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n\t</text>\r\n\t<text id=\"Text6\">\r\n\t\t<textPath href=\"#Circle6\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n\t</text>\r\n\t<text id=\"Text7\">\r\n\t\t<textPath href=\"#Circle7\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n\t</text>\r\n\t<text id=\"Text8\">\r\n\t\t<textPath href=\"#Circle8\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n\t</text>\r\n\t<text id=\"Text9\">\r\n\t\t<textPath href=\"#Circle9\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n\t</text>\r\n</svg>\r\n```\r\n\r\nこのような感じで円のパスを複数個作って、それぞれを違う速さで回しています。\r\n\r\nなお、以下のようにSVGのanimateTransformで回転させることもできます。  \r\nしかし、CPUレンダリングになってしまうのでちょっとカクカクするので今回はこの方法は使いませんでした。\r\n\r\n```xml\r\n<svg style=\"max-width:400px\" viewBox=\"0 0 400 400\" >\r\n\t<defs>\r\n\t\t<path id=\"Circle1\" d=\"M 25, 200 a 175,175 0 1,1 350,0 a 175,175 0 1,1 -350,0\" />\r\n\t\t<path id=\"Circle2\" d=\"M 50, 200 a 150,150 0 1,1 300,0 a 150,150 0 1,1 -300,0\" />\r\n\t\t<path id=\"Circle3\" d=\"M 75, 200 a 125,125 0 1,1 250,0 a 125,125 0 1,1 -250,0\" />\r\n\t\t<path id=\"Circle4\" d=\"M 100, 200 a 100,100 0 1,1 200,0 a 100,100 0 1,1 -200,0\" />\r\n\t\t<path id=\"Circle5\" d=\"M 125, 200 a 75,75 0 1,1 150,0 a 75,75 0 1,1 -150,0\" />\r\n\t\t<path id=\"Circle6\" d=\"M 150, 200 a 50,50 0 1,1 100,0 a 50,50 0 1,1 -100,0\" />\r\n\t\t<path id=\"Circle7\" d=\"M 175, 200 a 25,25 0 1,1 50,0 a 25,25 0 1,1 -50,0\" />\r\n\t</defs>\r\n\t<text>\r\n\t\t<textPath href=\"#Circle1\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n\t\t<animateTransform attributeName=\"transform\" attributeType=\"XML\" type=\"rotate\" from=\"0 200,200\" to=\"360 200,200\" dur=\"11s\" repeatCount=\"indefinite\" />\r\n\t</text>\r\n\t<text>\r\n\t\t<textPath href=\"#Circle2\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n\t\t<animateTransform attributeName=\"transform\" attributeType=\"XML\" type=\"rotate\" from=\"0 200,200\" to=\"360 200,200\" dur=\"10s\" repeatCount=\"indefinite\" />\r\n\t</text>\r\n\t<text>\r\n\t\t<textPath href=\"#Circle3\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n\t\t<animateTransform attributeName=\"transform\" attributeType=\"XML\" type=\"rotate\" from=\"0 200,200\" to=\"360 200,200\" dur=\"9s\" repeatCount=\"indefinite\" />\r\n\t</text>\r\n\t<text>\r\n\t\t<textPath href=\"#Circle4\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n\t\t<animateTransform attributeName=\"transform\" attributeType=\"XML\" type=\"rotate\" from=\"0 200,200\" to=\"360 200,200\" dur=\"8s\" repeatCount=\"indefinite\" />\r\n\t</text>\r\n\t<text>\r\n\t\t<textPath href=\"#Circle5\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n\t\t<animateTransform attributeName=\"transform\" attributeType=\"XML\" type=\"rotate\" from=\"0 200,200\" to=\"360 200,200\" dur=\"7s\" repeatCount=\"indefinite\" />\r\n\t</text>\r\n\t<text>\r\n\t\t<textPath href=\"#Circle6\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n\t\t<animateTransform attributeName=\"transform\" attributeType=\"XML\" type=\"rotate\" from=\"0 200,200\" to=\"360 200,200\" dur=\"6s\" repeatCount=\"indefinite\" />\r\n\t</text>\r\n\t<text>\r\n\t\t<textPath href=\"#Circle7\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n\t\t<animateTransform attributeName=\"transform\" attributeType=\"XML\" type=\"rotate\" from=\"0 200,200\" to=\"360 200,200\" dur=\"5s\" repeatCount=\"indefinite\" />\r\n\t</text>\r\n\t<text>\r\n\t\t<textPath href=\"#Circle8\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n\t\t<animateTransform attributeName=\"transform\" attributeType=\"XML\" type=\"rotate\" from=\"0 200,200\" to=\"360 200,200\" dur=\"4s\" repeatCount=\"indefinite\" />\r\n\t</text>\r\n\t<text>\r\n\t\t<textPath href=\"#Circle9\">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>\r\n\t\t<animateTransform attributeName=\"transform\" attributeType=\"XML\" type=\"rotate\" from=\"0 200,200\" to=\"360 200,200\" dur=\"3s\" repeatCount=\"indefinite\" />\r\n\t</text>\r\n</svg>\r\n```\r\n\r\nSVG単体でanimateTransformを利用してマニ車を回すより、CSSのanimationで回した方がスムーズな動作で回せました。\r\n\r\nこれでパソコンでもスマホでも、いつでもどこでも誰でも自動でスマートに徳を積めますね。  \r\n以上、SVGで徳を積んだという話でした。\r\n","tags":["SVG","CSS"],"category":"blog"},{"slug":"posts/google-colab-github","date":"2022-12-04T05:58:43+0900","draft":false,"title":"Google ColaboratoryでGitHubのipynbファイルを開く","description":"Google ColaboratoryでGitHubのipynbファイルを開いてみたいと思うこと、ありますよね。僕はあるので自分用にメモです。","content":"\r\nGoogle ColaboratoryでGitHubのファイルを開いてみたいと思うこと、ありますよね。  \r\n僕はあるので自分用にメモです。\r\n\r\nと言っても簡単で、GitHubでパブリックのリポジトリにファイルをコミットするだけです。\r\n\r\n<https://github.com/nishidemasami/google-colab-tutorial/blob/main/ubuntu-command/useful_tools.ipynb>\r\n\r\nこのようなパスにコミットしたとしたら、\r\n\r\n<https://colab.research.google.com/github/nishidemasami/google-colab-tutorial/blob/main/ubuntu-command/useful_tools.ipynb>\r\n\r\nこうやってGoogle Colaboratoryで開くことができます。\r\n\r\n簡単！\r\n","tags":["Google Colaboratory","GitHub"],"category":"blog"},{"slug":"posts/nextjs-latex","date":"2022-12-04T04:58:43+0900","draft":false,"title":"Next.jsで数式を書く","description":"Next.jsで数式を書いてみたいと思うこと、ありますよね。僕はあるので自分用にメモです。","content":"\r\nNext.jsで数式を書いてみたいと思うこと、ありますよね。  \r\n僕はあるので自分用にメモです。\r\n\r\n2次方程式の解の公式、懐かしいですね。\r\n\r\n$$\r\nx = \\frac{-b\\pm\\sqrt{b^2-4ac}}{2a}\r\n$$\r\n\r\nこれを見ると学生時代を思い出しますね。  \r\nこういう数式を、Next.jsでもMarkdownに$\\LaTeX$で\r\n\r\n```latex\r\nx = \\frac{-b\\pm\\sqrt{b^2-4ac}}{2a}\r\n```\r\n\r\nこんな感じで書けたら便利です。\r\n\r\n今回は$\\LaTeX$をウェブブラウザで表示するためのライブラリである$\\KaTeX$をNext.jsで使ってみました。<sup>[<a target=\"_blank\" href=\"https://www.amazon.co.jp/React-js%EF%BC%86Next-js%E8%B6%85%E5%85%A5%E9%96%80-%E7%AC%AC2%E7%89%88-%E6%8E%8C%E7%94%B0%E6%B4%A5%E8%80%B6%E4%B9%83-ebook/dp/B08XBNGYVH?__mk_ja_JP=%E3%82%AB%E3%82%BF%E3%82%AB%E3%83%8A&crid=1304MCUGBPN1M&keywords=next.js&qid=1670505884&sprefix=next.j%2Caps%2C195&sr=8-6&linkCode=ll1&tag=nishidemasami-22&linkId=1faf1c568d048e662fff7bffcc7794e3&language=ja_JP&ref_=as_li_ss_tl\">参考文献</a>]</sup>\r\n\r\nJavaScriptで動的にブラウザ上で数式を描画するのがよく見る$\\KaTeX$の使い方ですが、Next.jsでSSGしている時にはビルド時に既に数式がHTMLにレンダリング済みだという挙動になるので少し仕組みが違います。  \r\nブラウザとしては$\\LaTeX$形式の数式をHTMLへ変換する必要がなくなり描画が高速だという点がメリットです。ブラウザがJavaScriptを無効化していても見れるのもいいですね。\r\n\r\nまず、必要なパッケージをインストールします。\r\n\r\n```bash\r\nnpm install remark-math rehype-katex\r\n```\r\n\r\nこのウェブサイトではMarkdownを読み込むのに _unified_ を使用しているので、 _remark-math_ と _rehype-katex_ を追加で _use_ します。\r\n\r\n```typescript\r\nimport rehypePrism from '@mapbox/rehype-prism';\r\nimport rehypeKatex from 'rehype-katex';\r\nimport rehypeStringify from 'rehype-stringify';\r\nimport remarkGfm from 'remark-gfm';\r\nimport remarkMath from 'remark-math';\r\nimport remarkParse from 'remark-parse';\r\nimport remarkRehype from 'remark-rehype';\r\nimport { unified } from 'unified';\r\n\r\nexport const markdownToHtml = async (markdown: string) =>\r\n\t(\r\n\t\tawait unified()\r\n\t\t\t.use(remarkParse)\r\n\t\t\t.use(remarkMath)\r\n\t\t\t.use(remarkGfm)\r\n\t\t\t.use(remarkRehype, { allowDangerousHtml: true })\r\n\t\t\t.use(rehypePrism)\r\n\t\t\t.use(rehypeKatex)\r\n\t\t\t.use(rehypeStringify, { allowDangerousHtml: true })\r\n\t\t\t.process(markdown)\r\n\t)\r\n\t\t.toString();\r\n```\r\n\r\nあとは$\\KaTeX$のCSSをCDNなどから読み込めば完成です。\r\n\r\n```html\r\n<link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css\" crossOrigin=\"anonymous\" />\r\n```\r\n\r\nでは、実際に書いてみることにします。  \r\n以下は任意の$x$と$y$の最大公約数を求める$gcd$関数の定義です。\r\n\r\n```latex\r\n\\gcd(x, y) =\r\n\\begin{cases}\r\n\ty & (x = 0)\\\\\r\n\tx & (y = 0)\\\\\r\n\t\\gcd(y, x \\bmod y) & (\\text{otherwize})\r\n\\end{cases}\r\n```\r\n\r\n$$\r\n\\gcd(x, y) =\r\n\\begin{cases}\r\n\ty & (x = 0)\\\\\r\n\tx & (y = 0)\\\\\r\n\t\\gcd(y, x \\bmod y) & (\\text{otherwize})\r\n\\end{cases}\r\n$$\r\n\r\n上手に書けました！✨\r\n\r\n以上です。  \r\n<https://github.com/nishidemasami/nishidemasami.github.io>  \r\n実際にNext.jsで動いているコードは👆ここから確認してください。\r\n","tags":["Next.js","LaTeX","KaTeX","Markdown"],"category":"blog"},{"slug":"posts/gen_ed25519_key","date":"2022-12-02T23:02:43+0900","draft":false,"title":"ED25519の鍵を生成する","description":"ED25519の鍵を生成したいこと、ありますよね。僕はあるので自分用にメモです。","content":"\r\nもう1年以上前にAWSでED25519の鍵が使えるようになっていた。  \r\n当然のようにGitHubでも使える。  \r\nどんどんED25519を使えない環境もかなり減ってきていて、ED25519の鍵を作る機会も増えてきた。\r\n\r\nなのに、ED25519の鍵の作り方をいつもググって調べるので自分用にメモ。\r\n\r\n`ssh-keygen -t ed25519`  \r\nで作成できる。  \r\n\r\n```bash\r\n$ ssh -V\r\nOpenSSH_8.9p1 Ubuntu-3, OpenSSL 3.0.2 15 Mar 2022\r\n$ ssh-keygen -t ed25519\r\nGenerating public/private ed25519 key pair.\r\nEnter file in which to save the key (/home/nishidemasami/.ssh/id_ed25519):\r\nEnter passphrase (empty for no passphrase):\r\nEnter same passphrase again:\r\nYour identification has been saved in /home/nishidemasami/.ssh/id_ed25519\r\nYour public key has been saved in /home/nishidemasami/.ssh/id_ed25519.pub\r\nThe key fingerprint is:\r\nSHA256:mObF7QvcCUg1/JQb9aF6hc2R6GCuu7UpYipZ03J6Xtw nishidemasami@desktop-nishidemasami\r\nThe key's randomart image is:\r\n+--[ED25519 256]--+\r\n|       .o  o..o. |\r\n|       ...* .*.o |\r\n|      .  = =o =  |\r\n|     . = .+...   |\r\n|     .= S.o .    |\r\n|    +oo+.= o     |\r\n|   o =. =.E      |\r\n|  o . +.oo +     |\r\n|   ..=...o+      |\r\n+----[SHA256]-----+\r\n```\r\n\r\n参考\r\n<https://aws.amazon.com/jp/about-aws/whats-new/2021/08/amazon-ec2-customers-ed25519-keys-authentication/>\r\n","tags":["SSH","AWS","ED25519"],"category":"blog"},{"slug":"posts/check_github_repository_size","date":"2022-12-01T23:02:43+0900","draft":false,"title":"GitHubのレポジトリサイズを確認する","description":"GitHubのレポジトリサイズを確認する","content":"\r\nリポジトリのサイズがいつも気になるので自分用にメモ。\r\n\r\n`https://api.github.com/repos/アカウント名/リポジトリ名`  \r\nにアクセスするとjsonで詳細が取得できる。  \r\nその`size`にKB単位でサイズが入っている。\r\n\r\nたとえば`github.com:nishidemasami/nishidemasami.github.io.git`の場合、  \r\n<https://api.github.com/repos/nishidemasami/nishidemasami.github.io>  \r\nこのURLで取得できる。\r\n","tags":["GitHub"],"category":"blog"},{"slug":"posts/nextjs-website-renewal","date":"2022-11-30T01:04:03+0900","draft":false,"title":"Next.jsでこのウェブサイトをリニューアルしました！✨","description":"Next.jsでこのウェブサイトをリニューアルしました！✨","content":"\r\nNext.jsでこのウェブサイトをリニューアルしました！✨\r\n\r\nT3 Stackの6つの技術のうち、フロントエンド側の以下の3つの技術をフル活用しています。\r\n\r\n* TypeScript<sup>[<a target=\"_blank\" href=\"https://www.amazon.co.jp/%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0TypeScript-%E2%80%95%E3%82%B9%E3%82%B1%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8BJavaScript%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E9%96%8B%E7%99%BA-Boris-Cherny/dp/4873119049?__mk_ja_JP=%E3%82%AB%E3%82%BF%E3%82%AB%E3%83%8A&crid=3Q7MI7KXY06BB&keywords=typescript&qid=1670505807&sprefix=typescript+%2Caps%2C224&sr=8-9&linkCode=ll1&tag=nishidemasami-22&linkId=48539012d76c58e8bc3549b5a9dc7a1f&language=ja_JP&ref_=as_li_ss_tl\" rel=\"noreferrer\" >参考文献</a>]</sup>  \r\nほぼ全てTypeScriptで書いています。\r\n* Next.js  \r\nSSGフレームワークに使用しています。\r\n* Tailwind CSS  \r\nスタイルを書くのに使用しています。CSSもSCSSもstyled-componentsもどうしても必要な箇所を除けば使っていません。\r\n\r\nまた、リニューアル後も引き続きGitHub ActionsでCI/CDを継続しています。\r\n\r\n今のところこのウェブサイトはNext.jsになる前には、\r\n\r\nHexo  \r\n🔽  \r\nGatsby.js  \r\n🔽  \r\nNext.js\r\n\r\nという偏移を経ています。\r\n\r\nHexoは純粋な時代の古き良きSSGでした。しかしパフォーマンスを追い求めると限界がありました。  \r\nGatsby.jsは _Blazing fast🔥_ ではあったもののちょっとカスタマイズしようとするとすぐgatsby-pluginが必要になりました。  \r\nその点Next.jsは、何もかも自分でコントロールできるような確かな手触りを感じています。  \r\nそれにNext.jsも十分速い。とにかくウェブサイトのなにをクリックしても速いです。普通の使い方をするならGatsby.jsと違いがわからないほど速いです。  \r\n\r\nNext.jsをもっと良く知るためにも、引き続きこのウェブサイトでいろいろなことをやってみようと思っています。\r\n","tags":["Next.js"],"category":"blog"},{"slug":"posts/css-svg-rotate-text","date":"2021-03-17T01:04:03+0900","draft":false,"title":"SVGとCSSだけで文字をクルクル回す","description":"JavaScriptを使わずにSVGとCSSだけで文字をクルクル回したいこと、ありますよね。僕はあるので自分用にメモです。","content":"\nJavaScriptを使わずにSVGとCSSだけで文字をクルクル回したいこと、ありますよね。  \n僕はあるので自分用にメモです。\n\n<svg style=\"animation: spin 5s linear infinite; max-width:300px\" viewBox=\"0 0 100 100\" >\n\t<defs>\n\t\t<path id=\"Circle\" d=\"M 25, 50 a 25,25 0 1,1 50,0 a 25,25 0 1,1 -50,0\" />\n\t</defs>\n\t<text>\n\t\t<textPath href=\"#Circle\">文字がクルクル回ります。</textPath>\n\t</text>\n</svg>\n\n```html\n<svg\n\tstyle=\"animation: spin 5s linear infinite; max-width:300px\"\n\tviewBox=\"0 0 100 100\"\n>\n\t<defs>\n\t\t<path\n\t\t\tid=\"Circle\"\n\t\t\td=\"M 25, 50 a 25,25 0 1,1 50,0 a 25,25 0 1,1 -50,0\"\n\t\t/>\n\t</defs>\n\t<text>\n\t\t<textPath href=\"#Circle\">\n\t\t\t文字がクルクル回ります。\n\t\t</textPath>\n\t</text>\n</svg>\n```\n\nSVGは大きさ50*50の円とその周囲を沿うようにテキストを記述しています。SVGのスタイルにはクルクル回るCSSを書いてます。  \nこれだけでクルクル回ったので楽しかったです。\n","tags":["CSS","SVG"],"category":"blog"},{"slug":"articles/react-sound-test","date":"2021-03-14T01:04:03+0900","draft":false,"title":"Reactでホワイトノイズを鳴らす","description":"Reactでホワイトノイズを鳴らしたいこと、ありますよね。僕はあるので自分用にメモです。","content":"*/\n\nimport React from 'react';\n\nimport { format } from 'date-fns';\nimport { GetStaticProps } from 'next';\n\nimport { ReactAudioTest } from '../../components/ReactAudioTest';\nimport { Content } from '../../content/Content';\nimport { Meta } from '../../layout/Meta';\nimport { PostPagination } from '../../pagination/PostPagination';\nimport { Main } from '../../templates/Main';\nimport {\n\tgetPrevNextPost,\n\tgetRecentPosts,\n\tgetTags,\n\tPostItems,\n} from '../../utils/Content';\nimport { markdownToHtml } from '../../utils/Markdown';\n\ntype ReactSoundTestProps = {\n\trecents: PostItems[];\n\ttags: string[];\n\tsorceCodeHTML: string;\n\tprevPost?: PostItems;\n\tnextPost?: PostItems;\n};\n\nconst sorceCodeMarkdown = `\n\\`\\`\\`typescript\nimport React from 'react';\n\nimport { VolumeDown, VolumeUp } from '@mui/icons-material';\nimport { Button, CircularProgress, Grid, Slider } from '@mui/material';\n\n// webkit用Typescript型宣言\ndeclare global {\n\tinterface Window {\n\t\twebkitAudioContext: AudioContext;\n\t}\n}\n\nconst ReactAudioTest: React.FunctionComponent = () => {\n\t// 音量：初期値25\n\tconst [volume, setVolume] = React.useState(25);\n\t// 再生状態：初期値false\n\tconst [playingFlag, setPlayingFlag] = React.useState(false);\n\t// AudioContext：初期値undefined\n\tconst [audioContext, setAudioContext] = React.useState<\n\t\tAudioContext | undefined\n\t>(undefined);\n\t// 音源ソース：初期値undefined\n\tconst [source, setSourceState] = React.useState<\n\t\tAudioBufferSourceNode | undefined\n\t>(undefined);\n\t// 音量調節：初期値undefined\n\tconst [gainState, setGainState] = React.useState<GainNode | undefined>(\n\t\tundefined\n\t);\n\n\tReact.useEffect(() => {\n\t\t// 初期化\n\t\tconst newAudioContext = new (window.AudioContext ||\n\t\t\twindow.webkitAudioContext)();\n\t\tsetAudioContext(newAudioContext);\n\t\tconst gainNode = newAudioContext.createGain();\n\t\tgainNode.gain.value = volume / 100;\n\t\tsetGainState(gainNode);\n\n\t\treturn () => {\n\t\t\t// unmount時の後始末\n\t\t\tif (source) {\n\t\t\t\tsource.buffer = null; // メモリリーク防止\n\t\t\t}\n\t\t\tif (newAudioContext) {\n\t\t\t\tnewAudioContext.close();\n\t\t\t}\n\t\t};\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\tReact.useEffect(() => {\n\t\t// 音量変更\n\t\tif (gainState) {\n\t\t\tgainState.gain.value = volume / 100;\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [volume]);\n\n\t// スマホなどでは迷惑な自動再生を防ぐ目的で\n\t// ユーザの操作に伴う再生でしか音を再生できない\n\tconst onClickToStartAndStop = React.useCallback(() => {\n\t\tif (audioContext && gainState) {\n\t\t\tif (playingFlag) {\n\t\t\t\t// 停止\n\t\t\t\tif (source) {\n\t\t\t\t\tsource.stop();\n\t\t\t\t\tsource.buffer = null; // メモリリーク防止\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// 再生\n\t\t\t\tconst channels = 1; // モノラル\n\t\t\t\tconst frameCount = audioContext.sampleRate * 2.0; // 2秒\n\n\t\t\t\tconst myArrayBuffer = audioContext.createBuffer(\n\t\t\t\t\tchannels,\n\t\t\t\t\tframeCount,\n\t\t\t\t\taudioContext.sampleRate\n\t\t\t\t);\n\n\t\t\t\tfor (let channel = 0; channel < channels; channel += 1) {\n\t\t\t\t\t// ホワイトノイズ生成\n\t\t\t\t\tconst nowBuffering = myArrayBuffer.getChannelData(channel);\n\t\t\t\t\tfor (let i = 0; i < frameCount; i += 1) {\n\t\t\t\t\t\tnowBuffering[i] = Math.random() * 2 - 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconst buffersource = audioContext.createBufferSource();\n\t\t\t\tsetSourceState(buffersource);\n\t\t\t\tbuffersource.buffer = myArrayBuffer;\n\t\t\t\tbuffersource.loop = true;\n\t\t\t\tbuffersource.connect(gainState).connect(audioContext.destination);\n\t\t\t\tbuffersource.start();\n\t\t\t}\n\t\t\tsetPlayingFlag(!playingFlag);\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [playingFlag, audioContext, gainState]);\n\n\tif (!audioContext || !gainState) {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<CircularProgress />\n\t\t\t\tloading...\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"text-center h-fit w-full\">\n\t\t\t<Grid container>\n\t\t\t\t<Grid item></Grid>\n\t\t\t\t<Grid item>\n\t\t\t\t\t<VolumeDown />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={10}>\n\t\t\t\t\t<Slider\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tmax={100}\n\t\t\t\t\t\tdefaultValue={50}\n\t\t\t\t\t\tvalue={volume}\n\t\t\t\t\t\tonChange={(__, newValue) => {\n\t\t\t\t\t\t\tif (typeof newValue === 'number') {\n\t\t\t\t\t\t\t\tsetVolume(newValue);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvalueLabelDisplay=\"auto\"\n\t\t\t\t\t\taria-labelledby=\"continuous-slider\"\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item>\n\t\t\t\t\t<VolumeUp />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item></Grid>\n\t\t\t</Grid>\n\n\t\t\t<Button\n\t\t\t\tvariant=\"outlined\"\n\t\t\t\tcolor={playingFlag ? 'info' : 'primary'}\n\t\t\t\tonClick={onClickToStartAndStop}\n\t\t\t>\n\t\t\t\tホワイトノイズ{playingFlag ? '停止' : '再生'}\n\t\t\t</Button>\n\t\t</div>\n\t);\n};\n\nexport { ReactAudioTest };\n\\`\\`\\`\n`;\n\nconst ReactSoundTest = (props: ReactSoundTestProps) => (\n\t<Main\n\t\trecents={props.recents}\n\t\ttags={props.tags}\n\t\tmeta={\n\t\t\t<Meta\n\t\t\t\ttitle=\"Reactでホワイトノイズを鳴らす\"\n\t\t\t\tdescription=\"React + TypeScript でホワイトノイズを鳴らしてみました\"\n\t\t\t/>\n\t\t}\n\t>\n\t\t<h1 className=\"text-center font-bold text-3xl text-gray-900\">\n\t\t\tReactでホワイトノイズを鳴らす\n\t\t</h1>\n\t\t<div className=\"text-center text-sm mb-4\">\n\t\t\t{format(new Date('2021-03-14T01:04:03+0900'), 'LLLL d, yyyy')}\n\t\t</div>\n\n\t\t<Content>\n\t\t\t<div>\n\t\t\t\t<p>\n\t\t\t\t\tReactでホワイトノイズを鳴らしたいこと、ありますよね。\n\t\t\t\t\t<br />\n\t\t\t\t\t僕はあるので自分用にメモです。\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\t↓ React + TypeScript でホワイトノイズを鳴らしてみました。\n\t\t\t\t\t<sup>\n\t\t\t\t\t\t[\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\thref=\"https://www.amazon.co.jp/%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0TypeScript-%E2%80%95%E3%82%B9%E3%82%B1%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8BJavaScript%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E9%96%8B%E7%99%BA-Boris-Cherny/dp/4873119049?__mk_ja_JP=%E3%82%AB%E3%82%BF%E3%82%AB%E3%83%8A&crid=3Q7MI7KXY06BB&keywords=typescript&qid=1670505807&sprefix=typescript+%2Caps%2C224&sr=8-9&linkCode=ll1&tag=nishidemasami-22&linkId=48539012d76c58e8bc3549b5a9dc7a1f&language=ja_JP&ref_=as_li_ss_tl\"\n\t\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t参考文献\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t]\n\t\t\t\t\t</sup>\n\t\t\t\t\t<br />\n\t\t\t\t\t※音が鳴ります\n\t\t\t\t</p>\n\t\t\t\t<ReactAudioTest />\n\t\t\t\t<p>\n\t\t\t\t\tパソコンで音を鳴らすのはかんたんなんですけどスマホはガードが固いらしくて、ユーザのなんらかの動作をトリガーとして再生しないと再生されないみたいです。\n\t\t\t\t</p>\n\t\t\t\t<p>なので今回は useCallback で宣言して onClick から呼びました。</p>\n\t\t\t\t<p>↓ これが今回のコードです</p>\n\t\t\t\t<div dangerouslySetInnerHTML={{ __html: props.sorceCodeHTML }} />\n\t\t\t</div>\n\t\t</Content>\n\n\t\t<PostPagination nextPost={props.nextPost} prevPost={props.prevPost} />\n\t</Main>\n);\n\nexport const getStaticProps: GetStaticProps<ReactSoundTestProps> = async () => {\n\tconst recents = getRecentPosts(['title', 'date', 'slug']);\n\n\treturn {\n\t\tprops: {\n\t\t\trecents,\n\t\t\ttags: getTags(),\n\t\t\tsorceCodeHTML: await markdownToHtml(sorceCodeMarkdown),\n\t\t\t...getPrevNextPost(__filename),\n\t\t},\n\t};\n};\n\nexport default ReactSoundTest;\n","tags":["TypeScript","React"],"category":"blog"},{"slug":"articles/blog-remake-with-gatsby","date":"2021-03-06T18:04:03+0900","draft":false,"title":"Gatsbyでブログをリニューアルしてみました","description":"このブログをリニューアルしてみました。このブログのソースはここ ↓ で公開しています。https://github.com/nishidemasami/nishidemasami.github.io/tree/gatsby見てみた感じどうですか？すごくないですか！？…","content":"*/\n\nimport React from 'react';\n\nimport { format } from 'date-fns';\nimport { GetStaticProps } from 'next';\n\nimport ReactHelloWorld from '../../components/ReactHelloWorld/ReactHelloWorld';\nimport { Content } from '../../content/Content';\nimport { Meta } from '../../layout/Meta';\nimport { PostPagination } from '../../pagination/PostPagination';\nimport { Main } from '../../templates/Main';\nimport {\n\tgetPrevNextPost,\n\tgetRecentPosts,\n\tgetTags,\n\tPostItems,\n} from '../../utils/Content';\n\ntype AboutProps = {\n\trecents: PostItems[];\n\ttags: string[];\n\tprevPost?: PostItems;\n\tnextPost?: PostItems;\n};\n\nconst About = (props: AboutProps) => (\n\t<Main\n\t\trecents={props.recents}\n\t\ttags={props.tags}\n\t\tmeta={\n\t\t\t<Meta\n\t\t\t\ttitle=\"Gatsbyでブログをリニューアルしてみました\"\n\t\t\t\tdescription=\"Gatsbyでブログをリニューアルしてみました\"\n\t\t\t/>\n\t\t}\n\t>\n\t\t<h1 className=\"text-center font-bold text-3xl text-gray-900\">\n\t\t\tGatsbyでブログをリニューアルしてみました\n\t\t</h1>\n\t\t<div className=\"text-center text-sm mb-4\">\n\t\t\t{format(new Date('2021-03-06T18:04:03+0900'), 'LLLL d, yyyy')}\n\t\t</div>\n\n\t\t<Content>\n\t\t\t<div>\n\t\t\t\t<p>\n\t\t\t\t\tこのブログをリニューアルしてみました。\n\t\t\t\t\tちなみにこのブログのソースはここ ↓ で公開しています。\n\t\t\t\t\t<a href=\"https://github.com/nishidemasami/nishidemasami.github.io/tree/gatsby\">\n\t\t\t\t\t\thttps://github.com/nishidemasami/nishidemasami.github.io/tree/gatsby\n\t\t\t\t\t</a>\n\t\t\t\t</p>\n\t\t\t\t<p>作ってみた感じ、すごくいいと思います！</p>\n\t\t\t\t<ul>\n\t\t\t\t\t<li>React が動いている・生で React が書ける</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\tページ間の遷移の速度が速い(React の仮想 DOM 操作に由来している)\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\tちょっとがんばれば Typescript でも書ける(使用する Gatsby\n\t\t\t\t\t\tのテンプレートによっては最初から Typescript を使っているらしい)\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\tGatsby が静的にページを作ってくれているので Javascript\n\t\t\t\t\t\tをオフにしてても見れる\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\n\t\t\t\t<ReactHelloWorld>\n\t\t\t\t\tこんな感じで普通にReact が<br />\n\t\t\t\t\tTypescript で書けて動きます！✨\n\t\t\t\t</ReactHelloWorld>\n\t\t\t\t<p>\n\t\t\t\t\tGatsby は、HEXO や Hugo、Jekyll\n\t\t\t\t\tみたいに静的ジェネレータなので、こうやって Github Pages\n\t\t\t\t\tにも乗せられるので便利！ AWS S3 とかに乗せればスケールしますし！✨\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\tあと、ページを高速化するための細かなテクニックを最初から使ってくれています。\n\t\t\t\t</p>\n\t\t\t\t<ul>\n\t\t\t\t\t<li>静的プレレンダリング・静的プリフェッチ(速い)</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\tいわゆる PRPL パターンに準拠する PWA サポート\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t<em>Push </em>\n\t\t\t\t\t\t</strong>\n\t\t\t\t\t\tcritical resources for the initial URL route using\n\t\t\t\t\t\t<code>&lt;link preload&gt;</code> and HTTP/2.\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t<em>Render </em>\n\t\t\t\t\t\t</strong>\n\t\t\t\t\t\tinitial route.\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t<em>Pre-cache </em>\n\t\t\t\t\t\t</strong>\n\t\t\t\t\t\tremaining routes.\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t<em>Lazy-load </em>\n\t\t\t\t\t\t</strong>\n\t\t\t\t\t\tand create remaining routes on demand.\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<a href=\"https://www.gatsbyjs.com/docs/prpl-pattern/\">\n\t\t\t\t\t\t\thttps://www.gatsbyjs.com/docs/prpl-pattern/\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\tGraphQL(ビルド時には json\n\t\t\t\t\t\tになっている)によるデータアクセスや画面遷移(これまた速い)\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t<p>\n\t\t\t\t\tGatsby で Markdown ファイルとかいい感じにしてくれますし、普通に React\n\t\t\t\t\tの仮想 DOM による高速化の恩恵も受けることできてます！\n\t\t\t\t\tかなりいい感じになってると思います！✨\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</Content>\n\n\t\t<PostPagination nextPost={props.nextPost} prevPost={props.prevPost} />\n\t</Main>\n);\n\nexport const getStaticProps: GetStaticProps<AboutProps> = async () => ({\n\tprops: {\n\t\trecents: getRecentPosts(['title', 'date', 'slug']),\n\t\ttags: getTags(),\n\t\t...getPrevNextPost(__filename),\n\t},\n});\n\nexport default About;\n","tags":["JavaScript","TypeScript","React","Gatsby"],"category":"blog"}],"tags":["SVG","CSS"],"prevPost":{"slug":"posts/nextjs-mermaid","date":"2022-12-08T23:04:03+0900","draft":false,"title":"Next.jsでSSG時にRemarkでMermaidをSVGとして出力する","description":"Next.jsでSSG時にRemarkでMermaidをSVGにして出力してみたいと思うこと、ありますよね。僕はあるのですがネット上にあまり情報が無かったので自分用にメモです。","content":"\r\nNext.jsでSSG時にRemarkでMermaidをSVGにして出力してみたいと思うこと、ありますよね。  \r\n僕はあるのですがネット上にあまり情報が無かったので自分用にメモです。\r\n\r\n今回は`remark-mermaidjs`を使って実装しました。\r\n\r\nこのサイトではMarkdownを`unified`で扱っているので`remark-mermaidjs`を`use`します。  \r\n`remark-mermaidjs`はGoogle Chromeを使ってMermaidをSVGにしているらしく`executablePath`でGoogle Chromeのパスを指定しなければならないようです。  \r\nこのサイトはGitHub Actionsでビルドしているので、ubuntuのために`/opt/google/chrome/google-chrome`を指定しました。なお、ローカル環境でも自由に動かせるように`.env`にもGoogle Chromeへのパスを書くことにしました。\r\n\r\n```typescript\r\n// @ts-ignore\r\nimport rehypePrism from '@mapbox/rehype-prism';\r\nimport rehypeKatex from 'rehype-katex';\r\nimport rehypeStringify from 'rehype-stringify';\r\nimport remarkGfm from 'remark-gfm';\r\nimport remarkMath from 'remark-math';\r\nimport remarkMermaid from 'remark-mermaidjs';\r\nimport remarkParse from 'remark-parse';\r\nimport remarkRehype from 'remark-rehype';\r\nimport { unified } from 'unified';\r\n\r\nexport const markdownToHtml = async (markdown: string) =>\r\n\t(\r\n\t\tawait unified()\r\n\t\t\t.use(remarkParse)\r\n\t\t\t.use(remarkMath)\r\n\t\t\t.use(remarkGfm)\r\n\t\t\t.use(remarkMermaid, {\r\n\t\t\t\tlaunchOptions: {\r\n\t\t\t\t\texecutablePath:\r\n\t\t\t\t\t\tprocess.env.GoogleChromeExecutablePath ?? // .env\r\n\t\t\t\t\t\t'/opt/google/chrome/google-chrome', // for GitHub Actions Ubuntu\r\n\t\t\t\t},\r\n\t\t\t\tsvgo: false,\r\n\t\t\t})\r\n\t\t\t.use(remarkRehype, { allowDangerousHtml: true, footnoteLabel: '脚注' })\r\n\t\t\t.use(rehypePrism)\r\n\t\t\t.use(rehypeKatex)\r\n\t\t\t.use(rehypeStringify, { allowDangerousHtml: true })\r\n\t\t\t.process(markdown)\r\n\t)\r\n\t\t.toString()\r\n\t\t.replace(/@@baseUrl@@/g, process.env.baseUrl || '');\r\n```\r\n\r\n以下にサンプルを置いておきます。図がSVGになっていることがわかると思います。\r\n\r\n## Flowchart\r\n\r\n````markdown\r\n```mermaid\r\nflowchart LR\r\n\r\nA[Hard] -->|Text| B(Round)\r\nB --> C{Decision}\r\nC -->|One| D[Result 1]\r\nC -->|Two| E[Result 2]\r\n```\r\n````\r\n\r\n```mermaid\r\nflowchart LR\r\n\r\nA[Hard] -->|Text| B(Round)\r\nB --> C{Decision}\r\nC -->|One| D[Result 1]\r\nC -->|Two| E[Result 2]\r\n```\r\n\r\n## Sequence diagram\r\n\r\n````markdown\r\n```mermaid\r\nsequenceDiagram\r\nAlice->>John: Hello John, how are you?\r\nloop Healthcheck\r\n    John->>John: Fight against hypochondria\r\nend\r\nNote right of John: Rational thoughts!\r\nJohn-->>Alice: Great!\r\nJohn->>Bob: How about you?\r\nBob-->>John: Jolly good!\r\n```\r\n````\r\n\r\n```mermaid\r\nsequenceDiagram\r\nAlice->>John: Hello John, how are you?\r\nloop Healthcheck\r\n    John->>John: Fight against hypochondria\r\nend\r\nNote right of John: Rational thoughts!\r\nJohn-->>Alice: Great!\r\nJohn->>Bob: How about you?\r\nBob-->>John: Jolly good!\r\n```\r\n\r\n## Gantt chart\r\n\r\n````markdown\r\n```mermaid\r\ngantt\r\n    section Section\r\n    Completed :done,    des1, 2014-01-06,2014-01-08\r\n    Active        :active,  des2, 2014-01-07, 3d\r\n    Parallel 1   :         des3, after des1, 1d\r\n    Parallel 2   :         des4, after des1, 1d\r\n    Parallel 3   :         des5, after des3, 1d\r\n    Parallel 4   :         des6, after des4, 1d\r\n```\r\n````\r\n\r\n```mermaid\r\ngantt\r\n    section Section\r\n    Completed :done,    des1, 2014-01-06,2014-01-08\r\n    Active        :active,  des2, 2014-01-07, 3d\r\n    Parallel 1   :         des3, after des1, 1d\r\n    Parallel 2   :         des4, after des1, 1d\r\n    Parallel 3   :         des5, after des3, 1d\r\n    Parallel 4   :         des6, after des4, 1d\r\n```\r\n\r\n## Class diagram\r\n\r\n````markdown\r\n```mermaid\r\nclassDiagram\r\nClass01 <|-- AveryLongClass : Cool\r\n<<Interface>> Class01\r\nClass09 --> C2 : Where am I?\r\nClass09 --* C3\r\nClass09 --|> Class07\r\nClass07 : equals()\r\nClass07 : Object[] elementData\r\nClass01 : size()\r\nClass01 : int chimp\r\nClass01 : int gorilla\r\nclass Class10 {\r\n  <<service>>\r\n  int id\r\n  size()\r\n}\r\n```\r\n````\r\n\r\n```mermaid\r\nclassDiagram\r\nClass01 <|-- AveryLongClass : Cool\r\n<<Interface>> Class01\r\nClass09 --> C2 : Where am I?\r\nClass09 --* C3\r\nClass09 --|> Class07\r\nClass07 : equals()\r\nClass07 : Object[] elementData\r\nClass01 : size()\r\nClass01 : int chimp\r\nClass01 : int gorilla\r\nclass Class10 {\r\n  <<service>>\r\n  int id\r\n  size()\r\n}\r\n```\r\n\r\n## Git graph\r\n\r\n````markdown\r\n```mermaid\r\ngitGraph\r\n\t\tcommit\r\n\t\tcommit\r\n\t\tbranch develop\r\n\t\tcommit\r\n\t\tcommit\r\n\t\tcommit\r\n\t\tcheckout main\r\n\t\tcommit\r\n\t\tcommit\r\n```\r\n````\r\n\r\n```mermaid\r\ngitGraph\r\n\t\tcommit\r\n\t\tcommit\r\n\t\tbranch develop\r\n\t\tcommit\r\n\t\tcommit\r\n\t\tcommit\r\n\t\tcheckout main\r\n\t\tcommit\r\n\t\tcommit\r\n```\r\n\r\n## State diagram\r\n\r\n````markdown\r\n```mermaid\r\nstateDiagram-v2\r\n[*] --> Still\r\nStill --> [*]\r\nStill --> Moving\r\nMoving --> Still\r\nMoving --> Crash\r\nCrash --> [*]\r\n```\r\n````\r\n\r\n```mermaid\r\nstateDiagram-v2\r\n[*] --> Still\r\nStill --> [*]\r\nStill --> Moving\r\nMoving --> Still\r\nMoving --> Crash\r\nCrash --> [*]\r\n```\r\n\r\n## Pie chart\r\n\r\n````markdown\r\n```mermaid\r\npie\r\n\"Dogs\" : 386\r\n\"Cats\" : 85.9\r\n\"Rats\" : 15\r\n```\r\n````\r\n\r\n```mermaid\r\npie\r\n\"Dogs\" : 386\r\n\"Cats\" : 85.9\r\n\"Rats\" : 15\r\n```\r\n\r\n## Entity Relationship Diagram\r\n\r\n````markdown\r\n```mermaid\r\nerDiagram\r\n    CUSTOMER ||--o{ ORDER : places\r\n    ORDER ||--|{ LINE-ITEM : contains\r\n    CUSTOMER }|..|{ DELIVERY-ADDRESS : uses\r\n```\r\n````\r\n\r\n```mermaid\r\nerDiagram\r\n    CUSTOMER ||--o{ ORDER : places\r\n    ORDER ||--|{ LINE-ITEM : contains\r\n    CUSTOMER }|..|{ DELIVERY-ADDRESS : uses\r\n```\r\n\r\n## User Journey diagram\r\n\r\n````markdown\r\n```mermaid\r\njourney\r\n\ttitle My working day\r\n\tsection Go to work\r\n\t\tMake tea: 5: Me\r\n\t\tGo upstairs: 3: Me\r\n\t\tDo work: 1: Me, Cat\r\n\tsection Go home\r\n\t\tGo downstairs: 5: Me\r\n\t\tSit down: 3: Me\r\n```\r\n````\r\n\r\n```mermaid\r\njourney\r\n\ttitle My working day\r\n\tsection Go to work\r\n\t\tMake tea: 5: Me\r\n\t\tGo upstairs: 3: Me\r\n\t\tDo work: 1: Me, Cat\r\n\tsection Go home\r\n\t\tGo downstairs: 5: Me\r\n\t\tSit down: 3: Me\r\n```\r\n\r\n## C4 diagram\r\n\r\n````markdown\r\n```mermaid\r\nC4Context\r\ntitle System Context diagram for Internet Banking System\r\n\r\nPerson(customerA, \"Banking Customer A\", \"A customer of the bank, with personal bank accounts.\")\r\nPerson(customerB, \"Banking Customer B\")\r\nPerson_Ext(customerC, \"Banking Customer C\")\r\nSystem(SystemAA, \"Internet Banking System\", \"Allows customers to view information about their bank accounts, and make payments.\")\r\n\r\nPerson(customerD, \"Banking Customer D\", \"A customer of the bank, <br/> with personal bank accounts.\")\r\n\r\nEnterprise_Boundary(b1, \"BankBoundary\") {\r\n\r\n  SystemDb_Ext(SystemE, \"Mainframe Banking System\", \"Stores all of the core banking information about customers, accounts, transactions, etc.\")\r\n\r\n  System_Boundary(b2, \"BankBoundary2\") {\r\n    System(SystemA, \"Banking System A\")\r\n    System(SystemB, \"Banking System B\", \"A system of the bank, with personal bank accounts.\")\r\n  }\r\n\r\n  System_Ext(SystemC, \"E-mail system\", \"The internal Microsoft Exchange e-mail system.\")\r\n  SystemDb(SystemD, \"Banking System D Database\", \"A system of the bank, with personal bank accounts.\")\r\n\r\n  Boundary(b3, \"BankBoundary3\", \"boundary\") {\r\n    SystemQueue(SystemF, \"Banking System F Queue\", \"A system of the bank, with personal bank accounts.\")\r\n    SystemQueue_Ext(SystemG, \"Banking System G Queue\", \"A system of the bank, with personal bank accounts.\")\r\n  }\r\n}\r\n\r\nBiRel(customerA, SystemAA, \"Uses\")\r\nBiRel(SystemAA, SystemE, \"Uses\")\r\nRel(SystemAA, SystemC, \"Sends e-mails\", \"SMTP\")\r\nRel(SystemC, customerA, \"Sends e-mails to\")\r\n```\r\n````\r\n\r\n````mermaid\r\nC4Context\r\ntitle System Context diagram for Internet Banking System\r\n\r\nPerson(customerA, \"Banking Customer A\", \"A customer of the bank, with personal bank accounts.\")\r\nPerson(customerB, \"Banking Customer B\")\r\nPerson_Ext(customerC, \"Banking Customer C\")\r\nSystem(SystemAA, \"Internet Banking System\", \"Allows customers to view information about their bank accounts, and make payments.\")\r\n\r\nPerson(customerD, \"Banking Customer D\", \"A customer of the bank, <br/> with personal bank accounts.\")\r\n\r\nEnterprise_Boundary(b1, \"BankBoundary\") {\r\n\r\n  SystemDb_Ext(SystemE, \"Mainframe Banking System\", \"Stores all of the core banking information about customers, accounts, transactions, etc.\")\r\n\r\n  System_Boundary(b2, \"BankBoundary2\") {\r\n    System(SystemA, \"Banking System A\")\r\n    System(SystemB, \"Banking System B\", \"A system of the bank, with personal bank accounts.\")\r\n  }\r\n\r\n  System_Ext(SystemC, \"E-mail system\", \"The internal Microsoft Exchange e-mail system.\")\r\n  SystemDb(SystemD, \"Banking System D Database\", \"A system of the bank, with personal bank accounts.\")\r\n\r\n  Boundary(b3, \"BankBoundary3\", \"boundary\") {\r\n    SystemQueue(SystemF, \"Banking System F Queue\", \"A system of the bank, with personal bank accounts.\")\r\n    SystemQueue_Ext(SystemG, \"Banking System G Queue\", \"A system of the bank, with personal bank accounts.\")\r\n  }\r\n}\r\n\r\nBiRel(customerA, SystemAA, \"Uses\")\r\nBiRel(SystemAA, SystemE, \"Uses\")\r\nRel(SystemAA, SystemC, \"Sends e-mails\", \"SMTP\")\r\nRel(SystemC, customerA, \"Sends e-mails to\")\r\n````\r\n\r\nMermaid記法なら簡単にグラフを書けて便利なので、どんどん使っていきたいと思います。\r\n","tags":["Mermaid","Markdown","Next.js","SSG","SVG","Remark","remark-mermaidjs","GitHub Actions"],"category":"blog"},"nextPost":{"slug":"posts/google-colab-github","date":"2022-12-04T05:58:43+0900","draft":false,"title":"Google ColaboratoryでGitHubのipynbファイルを開く","description":"Google ColaboratoryでGitHubのipynbファイルを開いてみたいと思うこと、ありますよね。僕はあるので自分用にメモです。","content":"\r\nGoogle ColaboratoryでGitHubのファイルを開いてみたいと思うこと、ありますよね。  \r\n僕はあるので自分用にメモです。\r\n\r\nと言っても簡単で、GitHubでパブリックのリポジトリにファイルをコミットするだけです。\r\n\r\n<https://github.com/nishidemasami/google-colab-tutorial/blob/main/ubuntu-command/useful_tools.ipynb>\r\n\r\nこのようなパスにコミットしたとしたら、\r\n\r\n<https://colab.research.google.com/github/nishidemasami/google-colab-tutorial/blob/main/ubuntu-command/useful_tools.ipynb>\r\n\r\nこうやってGoogle Colaboratoryで開くことができます。\r\n\r\n簡単！\r\n","tags":["Google Colaboratory","GitHub"],"category":"blog"},"mainTags":["GitHub","CSS","SVG","SSH","AWS","ED25519","Google Colaboratory","GitHub","hexo","Java","Ruby","情報処理技術者試験","ネットワークスペシャリスト","Next.js","LaTeX","KaTeX","Markdown","Mermaid","Markdown","Next.js","SSG","SVG","Remark","remark-mermaidjs","GitHub Actions","Next.js","SVG","CSS","Vim","OpenSSL","JavaScript","TypeScript","React","Gatsby","TypeScript","React"]},"__N_SSG":true}