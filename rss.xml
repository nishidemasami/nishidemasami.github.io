<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>NISHIDEMASAMI.GITHUB.IO</title>
        <link>https://nishidemasami.github.io</link>
        <description>個人のブログです。有益なことや無益なことなどいろいろ書いています。</description>
        <lastBuildDate>Wed, 04 Jan 2023 13:36:38 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>ja</language>
        <copyright>©NISHIDE, Masami All rights reserved.</copyright>
        <atom:link href="https://nishidemasami.github.io/feed" rel="self" type="application/rss+xml"/>
        <item>
            <title><![CDATA[Typescriptでビットコインアドレスを生成する]]></title>
            <link>https://nishidemasami.github.io/articles/typescript-bitcoin</link>
            <guid>https://nishidemasami.github.io/articles/typescript-bitcoin</guid>
            <pubDate>Fri, 23 Dec 2022 16:04:03 GMT</pubDate>
            <description><![CDATA[Typescriptでビットコインアドレスを生成したいこと、ありますよね。僕はあるので自分用にメモです。]]></description>
            <content:encoded><![CDATA[<p>*/</p>
<p>import React from 'react';</p>
<p>import { format } from 'date-fns';
import { GetStaticProps } from 'next';</p>
<p>import { TypescriptBitcoin } from '../../components/TypescriptBitcoin';
import { Content } from '../../content/Content';
import { Meta } from '../../layout/Meta';
import { PostPagination } from '../../pagination/PostPagination';
import { Main } from '../../templates/Main';
import {
getPrevNextPost,
getRecentPosts,
getTags,
PostItems,
} from '../../utils/Content';
import { markdownToHtml } from '../../utils/Markdown';</p>
<p>type ReactSoundTestProps = {
recents: PostItems[];
tags: string[];
firstArticle: string;
secondArticle: string;
prevPost?: PostItems;
nextPost?: PostItems;
};</p>
<p>const firstArticle = `
Typescriptでビットコインアドレスを生成したいこと、ありますよね。<br>
僕はあるので自分用にメモです。<sup>[<a target="_blank" href="https://www.amazon.co.jp/%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF%E3%83%81%E3%82%A7%E3%83%BC%E3%83%B3%E5%AE%9F%E8%B7%B5%E5%85%A5%E9%96%80-%E3%83%93%E3%83%83%E3%83%88%E3%82%B3%E3%82%A4%E3%83%B3%E3%81%8B%E3%82%89%E3%82%A4%E3%83%BC%E3%82%B5%E3%83%AA%E3%82%A2%E3%83%A0%E3%80%81DApp%E9%96%8B%E7%99%BA%E3%81%BE%E3%81%A7-Bikramaditya-Singhal/dp/4274225372?_encoding=UTF8&qid=1671896601&sr=8-1&linkCode=ll1&tag=nishidemasami-22&linkId=b026b2c2bd3729a8fe4c35dda528a7bb&language=ja_JP&ref_=as_li_ss_tl" rel="noreferrer" >参考文献</a>]</sup></p>
<p>👇このボタンをクリックするとビットコインアドレスを生成します。
`;</p>
<p>const secondArticle = `
ビットコインのアドレスは、32バイトの秘密鍵を以下のようにしてビットコインアドレスに変換します。</p>
<p>```mermaid
flowchart TD</p>
<p>A[32バイトの秘密鍵] -->|secp256k1| B(公開鍵)
A -->|base58変換とチェックサム付与| F[WIF形式秘密鍵]
B --> C{ビットコインアドレス形式}
C -->|BASE58変換とチェックサム付与| D[P2PKH形式ビットコインアドレス]
C -->|BASE32変換とチェックサム付与| E[Bech32形式ビットコインアドレス]
```</p>
<p>これはTypescriptでも簡単に計算できます。</p>
<p>それを実際に書いてみたのが ↓ この今回のコードです
```tsx
import { randomBytes, createHash, BinaryLike } from 'crypto';</p>
<p>import { useState, FC, useMemo, useCallback } from 'react';</p>
<p>import { Button, TextField } from '@mui/material';
import { bech32 } from 'bech32';
import { encode } from 'bs58';
import RIPEMD160 from 'ripemd160';
import { publicKeyCreate, privateKeyVerify } from 'secp256k1';</p>
<p>/** 16進数の文字列かどうかチェックする正規表現 */
const check32BytesHex = /^[0-9a-fA-F]{64}$/;</p>
<p>/** 16進数の文字列をUint8Arrayに変換する */
const hexToUint8Array = (hex: string): Uint8Array => Buffer.from(hex, 'hex');</p>
<p>/** Bufferを16進数の文字列に変換する */
const bufferToHex = (data: Buffer): string => data.toString('hex');</p>
<p>/** sha256でハッシュする */
const sha256 = (data: BinaryLike): Buffer =>
createHash('sha256').update(data).digest();</p>
<p>/** ripemd160でハッシュする */
const ripemd160 = (data: BinaryLike): Buffer =>
new RIPEMD160().update(data).digest();</p>
<p>/** BASE58チェックサム生成 */
const calcBase58Checksum = (data: BinaryLike): Buffer =>
sha256(sha256(data)).subarray(0, 4);</p>
<p>/** BASE58変換＋チェックサム */
const base58WithChecksum = (data: Uint8Array): string =>
encode([...data, ...calcBase58Checksum(data)]);</p>
<p>/** ビットコインアドレス(BASE58(P2PKH)形式)生成 */
const genBitcoinAddressP2PKH = (publicKey: Uint8Array): string =>
base58WithChecksum(Uint8Array.from([0x00, ...ripemd160(sha256(publicKey))]));</p>
<p>/** BASE32変換＋チェックサム */
const bech32WithChecksum = (data: Uint8Array) =>
bech32.encode('bc', [0x00, ...bech32.toWords(data)]);</p>
<p>/** ビットコインアドレス(BASE32(Bech32)形式)生成 */
const genBitcoinAddressBECH32 = (publicKey: Uint8Array): string =>
bech32WithChecksum(ripemd160(sha256(publicKey)));</p>
<p>/** 秘密鍵(WIF形式)生成 */
const genWif = (privateKey: Uint8Array): string =>
base58WithChecksum(Uint8Array.from([0x80, ...privateKey]));</p>
<p>const TypescriptBitcoin: FC = () => {
// 秘密鍵(32バイトの16進数)
const [hexPrivateKey, setHexPrivateKey] = useState(
bufferToHex(randomBytes(32))
);</p>
<p>/** 秘密鍵(32バイト) */
const privateKey: Uint8Array | string = useMemo(() => {
if (!check32BytesHex.test(hexPrivateKey))
return '秘密鍵が32バイトの16進数ではない';
return hexToUint8Array(hexPrivateKey);
}, [hexPrivateKey]);</p>
<p>/** 公開鍵 */
const publicKey: Uint8Array | string = useMemo(() => {
if (typeof privateKey === 'string') return privateKey;
if (!privateKeyVerify(privateKey)) return '秘密鍵が不適切';
return publicKeyCreate(privateKey, false);
}, [privateKey]);</p>
<p>/** ビットコインアドレス(BASE32(Bech32)形式) */
const bitcoinAddressBECH32 = useMemo(() => {
if (typeof privateKey === 'string') return privateKey;
if (typeof publicKey === 'string') return publicKey;
return genBitcoinAddressBECH32(publicKey);
}, [privateKey, publicKey]);</p>
<p>/** ビットコインアドレス(BASE58(P2PKH)形式) */
const bitcoinAddressP2PKH = useMemo(() => {
if (typeof privateKey === 'string') return privateKey;
if (typeof publicKey === 'string') return publicKey;
return genBitcoinAddressP2PKH(publicKey);
}, [privateKey, publicKey]);</p>
<p>/** 秘密鍵をランダムに生成 */
const genRamdamKey = useCallback(
() => setHexPrivateKey(bufferToHex(randomBytes(32))),
[]
);</p>
<p>/** 秘密鍵(WIF形式) */
const wif = useMemo(
() => genWif(hexToUint8Array(hexPrivateKey)),
[hexPrivateKey]
);</p>
<p>return (
&#x3C;>
<Button onClick={genRamdamKey} variant="outlined">
秘密鍵をランダムに生成
</Button>
&#x3C;TextField
error={!check32BytesHex.test(hexPrivateKey)}
fullWidth
label="秘密鍵(32バイトの16進数)"
margin="dense"
value={hexPrivateKey}
onChange={(e) => {
setHexPrivateKey(e.currentTarget.value);
}}
/>
&#x3C;TextField
fullWidth
label="秘密鍵(WIF形式)"
margin="dense"
value={wif}
InputProps={{
readOnly: true,
}}
/>
&#x3C;TextField
fullWidth
label="ビットコインアドレス(BASE58(P2PKH)形式)"
margin="dense"
InputProps={{
readOnly: true,
}}
value={bitcoinAddressP2PKH}
/>
&#x3C;TextField
fullWidth
label="ビットコインアドレス(BASE32(Bech32)形式)"
margin="dense"
InputProps={{
readOnly: true,
}}
value={bitcoinAddressBECH32}
/>
&#x3C;/>
);
};</p>
<p>export { TypescriptBitcoin };
```
`;</p>
<p>const ReactSoundTest = (props: ReactSoundTestProps) => (
&#x3C;Main
recents={props.recents}
tags={props.tags}
meta={
<Meta
 			title="Typescriptでビットコインアドレスを生成する"
 			description="Typescriptでビットコインアドレスを生成したいこと、ありますよね。僕はあるので自分用にメモです。"
 		/>
}
>
<h1 className="text-center font-bold text-3xl text-gray-900">
Typescriptでビットコインアドレスを生成する
</h1>
<div className="text-center text-sm mb-4">
{format(new Date('2022-12-10T01:04:03+0900'), 'LLLL d, yyyy')}
</div></p>
<pre><code>	&#x3C;Content>
		&#x3C;div>
			&#x3C;div dangerouslySetInnerHTML={{ __html: props.firstArticle }} />
			&#x3C;TypescriptBitcoin />
			&#x3C;div dangerouslySetInnerHTML={{ __html: props.secondArticle }} />
		&#x3C;/div>
	&#x3C;/Content>

	&#x3C;PostPagination nextPost={props.nextPost} prevPost={props.prevPost} />
&#x3C;/Main>
</code></pre>
<p>);</p>
<p>export const getStaticProps: GetStaticProps<ReactSoundTestProps> = async () => {
const recents = getRecentPosts(['title', 'date', 'slug']);</p>
<pre><code>return {
	props: {
		recents,
		tags: getTags(),
		firstArticle: await markdownToHtml(firstArticle),
		secondArticle: await markdownToHtml(secondArticle),
		...getPrevNextPost(__filename),
	},
};
</code></pre>
<p>};</p>
<p>export default ReactSoundTest;</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[SVGだけで作ったSVGマニ車をCSSでクルクル回して自動で徳を積む]]></title>
            <link>https://nishidemasami.github.io/posts/svg-prayer-wheel</link>
            <guid>https://nishidemasami.github.io/posts/svg-prayer-wheel</guid>
            <pubDate>Fri, 16 Dec 2022 16:04:03 GMT</pubDate>
            <description><![CDATA[徳、積みたいですよね。JavaScriptを使わずにSVGとCSSだけでマニ車をクルクル回して自動で徳を積みたいこと、ありますよね。僕はあるので自分用にメモです。]]></description>
            <content:encoded><![CDATA[<style>
  #Text1{animation: spin 11s linear infinite; transform-origin: center;}
  #Text2{animation: spin 10s linear infinite; transform-origin: center;}
  #Text3{animation: spin 9s linear infinite; transform-origin: center;}
  #Text4{animation: spin 8s linear infinite; transform-origin: center;}
  #Text5{animation: spin 7s linear infinite; transform-origin: center;}
  #Text6{animation: spin 6s linear infinite; transform-origin: center;}
  #Text7{animation: spin 5s linear infinite; transform-origin: center;}
  #Text8{animation: spin 4s linear infinite; transform-origin: center;}
  #Text9{animation: spin 3s linear infinite; transform-origin: center;}
</style>
<svg style="max-width:400px" viewBox="0 0 400 400" >
  <defs>
    <path id="Circle1" d="M 25, 200 a 175,175 0 1,1 350,0 a 175,175 0 1,1 -350,0" />
    <path id="Circle2" d="M 50, 200 a 150,150 0 1,1 300,0 a 150,150 0 1,1 -300,0" />
    <path id="Circle3" d="M 75, 200 a 125,125 0 1,1 250,0 a 125,125 0 1,1 -250,0" />
    <path id="Circle4" d="M 100, 200 a 100,100 0 1,1 200,0 a 100,100 0 1,1 -200,0" />
    <path id="Circle5" d="M 125, 200 a 75,75 0 1,1 150,0 a 75,75 0 1,1 -150,0" />
    <path id="Circle6" d="M 150, 200 a 50,50 0 1,1 100,0 a 50,50 0 1,1 -100,0" />
    <path id="Circle7" d="M 175, 200 a 25,25 0 1,1 50,0 a 25,25 0 1,1 -50,0" />
  </defs>
  <text id="Text1">
    <textPath href="#Circle1">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>
  </text>
  <text id="Text2">
    <textPath href="#Circle2">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>
  </text>
  <text id="Text3">
    <textPath href="#Circle3">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>
  </text>
  <text id="Text4">
    <textPath href="#Circle4">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>
  </text>
  <text id="Text5">
    <textPath href="#Circle5">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>
  </text>
  <text id="Text6">
    <textPath href="#Circle6">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>
  </text>
  <text id="Text7">
    <textPath href="#Circle7">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>
  </text>
  <text id="Text8">
    <textPath href="#Circle8">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>
  </text>
  <text id="Text9">
    <textPath href="#Circle9">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>
  </text>
</svg>
<p>徳、積みたいですよね。</p>
<p>ご存知マニ車。お寺とかにたまにある、周囲にマントラが書いてあって手で回すと1回転毎に1回お経を読んだのと同じ徳を積めるスピリチュアルグッズです。<sup>[<a target="_blank" href="https://www.amazon.co.jp/gp/search?ie=UTF8&tag=nishidemasami-22&linkCode=ur2&linkId=d1ba0bb31ef3d317b4a5c8ad6af3095d&camp=247&creative=1211&index=aps&keywords=マニ車">参考</a>]</sup><br>
チベット仏教が国教であるブータンでは、水力マニ車や風力マニ車、ソーラーマニ車<sup>[<a target="_blank" href="https://www.amazon.co.jp/gp/search?ie=UTF8&tag=nishidemasami-22&linkCode=ur2&linkId=d1ba0bb31ef3d317b4a5c8ad6af3095d&camp=247&creative=1211&index=aps&keywords=ソーラーマニ車">参考</a>]</sup>などもあり、マニ車も進化しているということがわかります。<sup><a href="#user-content-fn-1" id="user-content-fnref-1" data-footnote-ref aria-describedby="footnote-label">1</a></sup></p>
<p>ならば、SVGとCSSでマントラを回しても徳が積めるのでは…？<br>
そう思ったので自分用にメモです。</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292F">&#x3C;</span><span style="color: #116329">style</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">  </span><span style="color: #0550AE">#Text1</span><span style="color: #24292F">{</span><span style="color: #0550AE">animation</span><span style="color: #24292F">: spin </span><span style="color: #0550AE">11</span><span style="color: #CF222E">s</span><span style="color: #24292F"> </span><span style="color: #0550AE">linear</span><span style="color: #24292F"> </span><span style="color: #0550AE">infinite</span><span style="color: #24292F">; </span><span style="color: #0550AE">transform-origin</span><span style="color: #24292F">: </span><span style="color: #0550AE">center</span><span style="color: #24292F">;}</span></span>
<span class="line"><span style="color: #24292F">  </span><span style="color: #0550AE">#Text2</span><span style="color: #24292F">{</span><span style="color: #0550AE">animation</span><span style="color: #24292F">: spin </span><span style="color: #0550AE">10</span><span style="color: #CF222E">s</span><span style="color: #24292F"> </span><span style="color: #0550AE">linear</span><span style="color: #24292F"> </span><span style="color: #0550AE">infinite</span><span style="color: #24292F">; </span><span style="color: #0550AE">transform-origin</span><span style="color: #24292F">: </span><span style="color: #0550AE">center</span><span style="color: #24292F">;}</span></span>
<span class="line"><span style="color: #24292F">  </span><span style="color: #0550AE">#Text3</span><span style="color: #24292F">{</span><span style="color: #0550AE">animation</span><span style="color: #24292F">: spin </span><span style="color: #0550AE">9</span><span style="color: #CF222E">s</span><span style="color: #24292F"> </span><span style="color: #0550AE">linear</span><span style="color: #24292F"> </span><span style="color: #0550AE">infinite</span><span style="color: #24292F">; </span><span style="color: #0550AE">transform-origin</span><span style="color: #24292F">: </span><span style="color: #0550AE">center</span><span style="color: #24292F">;}</span></span>
<span class="line"><span style="color: #24292F">  </span><span style="color: #0550AE">#Text4</span><span style="color: #24292F">{</span><span style="color: #0550AE">animation</span><span style="color: #24292F">: spin </span><span style="color: #0550AE">8</span><span style="color: #CF222E">s</span><span style="color: #24292F"> </span><span style="color: #0550AE">linear</span><span style="color: #24292F"> </span><span style="color: #0550AE">infinite</span><span style="color: #24292F">; </span><span style="color: #0550AE">transform-origin</span><span style="color: #24292F">: </span><span style="color: #0550AE">center</span><span style="color: #24292F">;}</span></span>
<span class="line"><span style="color: #24292F">  </span><span style="color: #0550AE">#Text5</span><span style="color: #24292F">{</span><span style="color: #0550AE">animation</span><span style="color: #24292F">: spin </span><span style="color: #0550AE">7</span><span style="color: #CF222E">s</span><span style="color: #24292F"> </span><span style="color: #0550AE">linear</span><span style="color: #24292F"> </span><span style="color: #0550AE">infinite</span><span style="color: #24292F">; </span><span style="color: #0550AE">transform-origin</span><span style="color: #24292F">: </span><span style="color: #0550AE">center</span><span style="color: #24292F">;}</span></span>
<span class="line"><span style="color: #24292F">  </span><span style="color: #0550AE">#Text6</span><span style="color: #24292F">{</span><span style="color: #0550AE">animation</span><span style="color: #24292F">: spin </span><span style="color: #0550AE">6</span><span style="color: #CF222E">s</span><span style="color: #24292F"> </span><span style="color: #0550AE">linear</span><span style="color: #24292F"> </span><span style="color: #0550AE">infinite</span><span style="color: #24292F">; </span><span style="color: #0550AE">transform-origin</span><span style="color: #24292F">: </span><span style="color: #0550AE">center</span><span style="color: #24292F">;}</span></span>
<span class="line"><span style="color: #24292F">  </span><span style="color: #0550AE">#Text7</span><span style="color: #24292F">{</span><span style="color: #0550AE">animation</span><span style="color: #24292F">: spin </span><span style="color: #0550AE">5</span><span style="color: #CF222E">s</span><span style="color: #24292F"> </span><span style="color: #0550AE">linear</span><span style="color: #24292F"> </span><span style="color: #0550AE">infinite</span><span style="color: #24292F">; </span><span style="color: #0550AE">transform-origin</span><span style="color: #24292F">: </span><span style="color: #0550AE">center</span><span style="color: #24292F">;}</span></span>
<span class="line"><span style="color: #24292F">  </span><span style="color: #0550AE">#Text8</span><span style="color: #24292F">{</span><span style="color: #0550AE">animation</span><span style="color: #24292F">: spin </span><span style="color: #0550AE">4</span><span style="color: #CF222E">s</span><span style="color: #24292F"> </span><span style="color: #0550AE">linear</span><span style="color: #24292F"> </span><span style="color: #0550AE">infinite</span><span style="color: #24292F">; </span><span style="color: #0550AE">transform-origin</span><span style="color: #24292F">: </span><span style="color: #0550AE">center</span><span style="color: #24292F">;}</span></span>
<span class="line"><span style="color: #24292F">  </span><span style="color: #0550AE">#Text9</span><span style="color: #24292F">{</span><span style="color: #0550AE">animation</span><span style="color: #24292F">: spin </span><span style="color: #0550AE">3</span><span style="color: #CF222E">s</span><span style="color: #24292F"> </span><span style="color: #0550AE">linear</span><span style="color: #24292F"> </span><span style="color: #0550AE">infinite</span><span style="color: #24292F">; </span><span style="color: #0550AE">transform-origin</span><span style="color: #24292F">: </span><span style="color: #0550AE">center</span><span style="color: #24292F">;}</span></span>
<span class="line"><span style="color: #24292F">&#x3C;/</span><span style="color: #116329">style</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">&#x3C;</span><span style="color: #116329">svg</span><span style="color: #24292F"> </span><span style="color: #0550AE">style</span><span style="color: #24292F">=</span><span style="color: #0A3069">"max-width:400px"</span><span style="color: #24292F"> </span><span style="color: #0550AE">viewBox</span><span style="color: #24292F">=</span><span style="color: #0A3069">"0 0 400 400"</span><span style="color: #24292F"> ></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;</span><span style="color: #116329">defs</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">path</span><span style="color: #24292F"> </span><span style="color: #0550AE">id</span><span style="color: #24292F">=</span><span style="color: #0A3069">"Circle1"</span><span style="color: #24292F"> </span><span style="color: #0550AE">d</span><span style="color: #24292F">=</span><span style="color: #0A3069">"M 25, 200 a 175,175 0 1,1 350,0 a 175,175 0 1,1 -350,0"</span><span style="color: #24292F"> /></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">path</span><span style="color: #24292F"> </span><span style="color: #0550AE">id</span><span style="color: #24292F">=</span><span style="color: #0A3069">"Circle2"</span><span style="color: #24292F"> </span><span style="color: #0550AE">d</span><span style="color: #24292F">=</span><span style="color: #0A3069">"M 50, 200 a 150,150 0 1,1 300,0 a 150,150 0 1,1 -300,0"</span><span style="color: #24292F"> /></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">path</span><span style="color: #24292F"> </span><span style="color: #0550AE">id</span><span style="color: #24292F">=</span><span style="color: #0A3069">"Circle3"</span><span style="color: #24292F"> </span><span style="color: #0550AE">d</span><span style="color: #24292F">=</span><span style="color: #0A3069">"M 75, 200 a 125,125 0 1,1 250,0 a 125,125 0 1,1 -250,0"</span><span style="color: #24292F"> /></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">path</span><span style="color: #24292F"> </span><span style="color: #0550AE">id</span><span style="color: #24292F">=</span><span style="color: #0A3069">"Circle4"</span><span style="color: #24292F"> </span><span style="color: #0550AE">d</span><span style="color: #24292F">=</span><span style="color: #0A3069">"M 100, 200 a 100,100 0 1,1 200,0 a 100,100 0 1,1 -200,0"</span><span style="color: #24292F"> /></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">path</span><span style="color: #24292F"> </span><span style="color: #0550AE">id</span><span style="color: #24292F">=</span><span style="color: #0A3069">"Circle5"</span><span style="color: #24292F"> </span><span style="color: #0550AE">d</span><span style="color: #24292F">=</span><span style="color: #0A3069">"M 125, 200 a 75,75 0 1,1 150,0 a 75,75 0 1,1 -150,0"</span><span style="color: #24292F"> /></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">path</span><span style="color: #24292F"> </span><span style="color: #0550AE">id</span><span style="color: #24292F">=</span><span style="color: #0A3069">"Circle6"</span><span style="color: #24292F"> </span><span style="color: #0550AE">d</span><span style="color: #24292F">=</span><span style="color: #0A3069">"M 150, 200 a 50,50 0 1,1 100,0 a 50,50 0 1,1 -100,0"</span><span style="color: #24292F"> /></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">path</span><span style="color: #24292F"> </span><span style="color: #0550AE">id</span><span style="color: #24292F">=</span><span style="color: #0A3069">"Circle7"</span><span style="color: #24292F"> </span><span style="color: #0550AE">d</span><span style="color: #24292F">=</span><span style="color: #0A3069">"M 175, 200 a 25,25 0 1,1 50,0 a 25,25 0 1,1 -50,0"</span><span style="color: #24292F"> /></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;/</span><span style="color: #116329">defs</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;</span><span style="color: #116329">text</span><span style="color: #24292F"> </span><span style="color: #0550AE">id</span><span style="color: #24292F">=</span><span style="color: #0A3069">"Text1"</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">textPath</span><span style="color: #24292F"> </span><span style="color: #0550AE">href</span><span style="color: #24292F">=</span><span style="color: #0A3069">"#Circle1"</span><span style="color: #24292F">>ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ&#x3C;/</span><span style="color: #116329">textPath</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;/</span><span style="color: #116329">text</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;</span><span style="color: #116329">text</span><span style="color: #24292F"> </span><span style="color: #0550AE">id</span><span style="color: #24292F">=</span><span style="color: #0A3069">"Text2"</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">textPath</span><span style="color: #24292F"> </span><span style="color: #0550AE">href</span><span style="color: #24292F">=</span><span style="color: #0A3069">"#Circle2"</span><span style="color: #24292F">>ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ&#x3C;/</span><span style="color: #116329">textPath</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;/</span><span style="color: #116329">text</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;</span><span style="color: #116329">text</span><span style="color: #24292F"> </span><span style="color: #0550AE">id</span><span style="color: #24292F">=</span><span style="color: #0A3069">"Text3"</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">textPath</span><span style="color: #24292F"> </span><span style="color: #0550AE">href</span><span style="color: #24292F">=</span><span style="color: #0A3069">"#Circle3"</span><span style="color: #24292F">>ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ&#x3C;/</span><span style="color: #116329">textPath</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;/</span><span style="color: #116329">text</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;</span><span style="color: #116329">text</span><span style="color: #24292F"> </span><span style="color: #0550AE">id</span><span style="color: #24292F">=</span><span style="color: #0A3069">"Text4"</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">textPath</span><span style="color: #24292F"> </span><span style="color: #0550AE">href</span><span style="color: #24292F">=</span><span style="color: #0A3069">"#Circle4"</span><span style="color: #24292F">>ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ&#x3C;/</span><span style="color: #116329">textPath</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;/</span><span style="color: #116329">text</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;</span><span style="color: #116329">text</span><span style="color: #24292F"> </span><span style="color: #0550AE">id</span><span style="color: #24292F">=</span><span style="color: #0A3069">"Text5"</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">textPath</span><span style="color: #24292F"> </span><span style="color: #0550AE">href</span><span style="color: #24292F">=</span><span style="color: #0A3069">"#Circle5"</span><span style="color: #24292F">>ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ&#x3C;/</span><span style="color: #116329">textPath</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;/</span><span style="color: #116329">text</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;</span><span style="color: #116329">text</span><span style="color: #24292F"> </span><span style="color: #0550AE">id</span><span style="color: #24292F">=</span><span style="color: #0A3069">"Text6"</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">textPath</span><span style="color: #24292F"> </span><span style="color: #0550AE">href</span><span style="color: #24292F">=</span><span style="color: #0A3069">"#Circle6"</span><span style="color: #24292F">>ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ&#x3C;/</span><span style="color: #116329">textPath</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;/</span><span style="color: #116329">text</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;</span><span style="color: #116329">text</span><span style="color: #24292F"> </span><span style="color: #0550AE">id</span><span style="color: #24292F">=</span><span style="color: #0A3069">"Text7"</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">textPath</span><span style="color: #24292F"> </span><span style="color: #0550AE">href</span><span style="color: #24292F">=</span><span style="color: #0A3069">"#Circle7"</span><span style="color: #24292F">>ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ&#x3C;/</span><span style="color: #116329">textPath</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;/</span><span style="color: #116329">text</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;</span><span style="color: #116329">text</span><span style="color: #24292F"> </span><span style="color: #0550AE">id</span><span style="color: #24292F">=</span><span style="color: #0A3069">"Text8"</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">textPath</span><span style="color: #24292F"> </span><span style="color: #0550AE">href</span><span style="color: #24292F">=</span><span style="color: #0A3069">"#Circle8"</span><span style="color: #24292F">>ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ&#x3C;/</span><span style="color: #116329">textPath</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;/</span><span style="color: #116329">text</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;</span><span style="color: #116329">text</span><span style="color: #24292F"> </span><span style="color: #0550AE">id</span><span style="color: #24292F">=</span><span style="color: #0A3069">"Text9"</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">textPath</span><span style="color: #24292F"> </span><span style="color: #0550AE">href</span><span style="color: #24292F">=</span><span style="color: #0A3069">"#Circle9"</span><span style="color: #24292F">>ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ&#x3C;/</span><span style="color: #116329">textPath</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;/</span><span style="color: #116329">text</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">&#x3C;/</span><span style="color: #116329">svg</span><span style="color: #24292F">></span></span></code></pre>
<p>このような感じで円のパスを複数個作って、それぞれを違う速さで回しています。</p>
<p>なお、以下のようにSVGのanimateTransformで回転させることもできます。<br>
しかし、CPUレンダリングになってしまうのでちょっとカクカクするので今回はこの方法は使いませんでした。</p>
<svg style="max-width:400px" viewBox="0 0 400 400" >
  <defs>
    <path id="Circle1" d="M 25, 200 a 175,175 0 1,1 350,0 a 175,175 0 1,1 -350,0" />
    <path id="Circle2" d="M 50, 200 a 150,150 0 1,1 300,0 a 150,150 0 1,1 -300,0" />
    <path id="Circle3" d="M 75, 200 a 125,125 0 1,1 250,0 a 125,125 0 1,1 -250,0" />
    <path id="Circle4" d="M 100, 200 a 100,100 0 1,1 200,0 a 100,100 0 1,1 -200,0" />
    <path id="Circle5" d="M 125, 200 a 75,75 0 1,1 150,0 a 75,75 0 1,1 -150,0" />
    <path id="Circle6" d="M 150, 200 a 50,50 0 1,1 100,0 a 50,50 0 1,1 -100,0" />
    <path id="Circle7" d="M 175, 200 a 25,25 0 1,1 50,0 a 25,25 0 1,1 -50,0" />
  </defs>
  <text>
    <textPath href="#Circle1">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>
    <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="0 200,200" to="360 200,200" dur="11s" repeatCount="indefinite" />
  </text>
  <text>
    <textPath href="#Circle2">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>
    <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="0 200,200" to="360 200,200" dur="10s" repeatCount="indefinite" />
  </text>
  <text>
    <textPath href="#Circle3">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>
    <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="0 200,200" to="360 200,200" dur="9s" repeatCount="indefinite" />
  </text>
  <text>
    <textPath href="#Circle4">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>
    <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="0 200,200" to="360 200,200" dur="8s" repeatCount="indefinite" />
  </text>
  <text>
    <textPath href="#Circle5">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>
    <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="0 200,200" to="360 200,200" dur="7s" repeatCount="indefinite" />
  </text>
  <text>
    <textPath href="#Circle6">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>
    <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="0 200,200" to="360 200,200" dur="6s" repeatCount="indefinite" />
  </text>
  <text>
    <textPath href="#Circle7">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>
    <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="0 200,200" to="360 200,200" dur="5s" repeatCount="indefinite" />
  </text>
  <text>
    <textPath href="#Circle8">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>
    <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="0 200,200" to="360 200,200" dur="4s" repeatCount="indefinite" />
  </text>
  <text>
    <textPath href="#Circle9">ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ</textPath>
    <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="0 200,200" to="360 200,200" dur="3s" repeatCount="indefinite" />
  </text>
</svg>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292F">&#x3C;</span><span style="color: #116329">svg</span><span style="color: #24292F"> </span><span style="color: #0550AE">style</span><span style="color: #24292F">=</span><span style="color: #0A3069">"max-width:400px"</span><span style="color: #24292F"> </span><span style="color: #0550AE">viewBox</span><span style="color: #24292F">=</span><span style="color: #0A3069">"0 0 400 400"</span><span style="color: #24292F"> ></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;</span><span style="color: #116329">defs</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">path</span><span style="color: #24292F"> </span><span style="color: #0550AE">id</span><span style="color: #24292F">=</span><span style="color: #0A3069">"Circle1"</span><span style="color: #24292F"> </span><span style="color: #0550AE">d</span><span style="color: #24292F">=</span><span style="color: #0A3069">"M 25, 200 a 175,175 0 1,1 350,0 a 175,175 0 1,1 -350,0"</span><span style="color: #24292F"> /></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">path</span><span style="color: #24292F"> </span><span style="color: #0550AE">id</span><span style="color: #24292F">=</span><span style="color: #0A3069">"Circle2"</span><span style="color: #24292F"> </span><span style="color: #0550AE">d</span><span style="color: #24292F">=</span><span style="color: #0A3069">"M 50, 200 a 150,150 0 1,1 300,0 a 150,150 0 1,1 -300,0"</span><span style="color: #24292F"> /></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">path</span><span style="color: #24292F"> </span><span style="color: #0550AE">id</span><span style="color: #24292F">=</span><span style="color: #0A3069">"Circle3"</span><span style="color: #24292F"> </span><span style="color: #0550AE">d</span><span style="color: #24292F">=</span><span style="color: #0A3069">"M 75, 200 a 125,125 0 1,1 250,0 a 125,125 0 1,1 -250,0"</span><span style="color: #24292F"> /></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">path</span><span style="color: #24292F"> </span><span style="color: #0550AE">id</span><span style="color: #24292F">=</span><span style="color: #0A3069">"Circle4"</span><span style="color: #24292F"> </span><span style="color: #0550AE">d</span><span style="color: #24292F">=</span><span style="color: #0A3069">"M 100, 200 a 100,100 0 1,1 200,0 a 100,100 0 1,1 -200,0"</span><span style="color: #24292F"> /></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">path</span><span style="color: #24292F"> </span><span style="color: #0550AE">id</span><span style="color: #24292F">=</span><span style="color: #0A3069">"Circle5"</span><span style="color: #24292F"> </span><span style="color: #0550AE">d</span><span style="color: #24292F">=</span><span style="color: #0A3069">"M 125, 200 a 75,75 0 1,1 150,0 a 75,75 0 1,1 -150,0"</span><span style="color: #24292F"> /></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">path</span><span style="color: #24292F"> </span><span style="color: #0550AE">id</span><span style="color: #24292F">=</span><span style="color: #0A3069">"Circle6"</span><span style="color: #24292F"> </span><span style="color: #0550AE">d</span><span style="color: #24292F">=</span><span style="color: #0A3069">"M 150, 200 a 50,50 0 1,1 100,0 a 50,50 0 1,1 -100,0"</span><span style="color: #24292F"> /></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">path</span><span style="color: #24292F"> </span><span style="color: #0550AE">id</span><span style="color: #24292F">=</span><span style="color: #0A3069">"Circle7"</span><span style="color: #24292F"> </span><span style="color: #0550AE">d</span><span style="color: #24292F">=</span><span style="color: #0A3069">"M 175, 200 a 25,25 0 1,1 50,0 a 25,25 0 1,1 -50,0"</span><span style="color: #24292F"> /></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;/</span><span style="color: #116329">defs</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;</span><span style="color: #116329">text</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">textPath</span><span style="color: #24292F"> </span><span style="color: #0550AE">href</span><span style="color: #24292F">=</span><span style="color: #0A3069">"#Circle1"</span><span style="color: #24292F">>ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ&#x3C;/</span><span style="color: #116329">textPath</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">animateTransform</span><span style="color: #24292F"> </span><span style="color: #0550AE">attributeName</span><span style="color: #24292F">=</span><span style="color: #0A3069">"transform"</span><span style="color: #24292F"> </span><span style="color: #0550AE">attributeType</span><span style="color: #24292F">=</span><span style="color: #0A3069">"XML"</span><span style="color: #24292F"> </span><span style="color: #0550AE">type</span><span style="color: #24292F">=</span><span style="color: #0A3069">"rotate"</span><span style="color: #24292F"> </span><span style="color: #0550AE">from</span><span style="color: #24292F">=</span><span style="color: #0A3069">"0 200,200"</span><span style="color: #24292F"> </span><span style="color: #0550AE">to</span><span style="color: #24292F">=</span><span style="color: #0A3069">"360 200,200"</span><span style="color: #24292F"> </span><span style="color: #0550AE">dur</span><span style="color: #24292F">=</span><span style="color: #0A3069">"11s"</span><span style="color: #24292F"> </span><span style="color: #0550AE">repeatCount</span><span style="color: #24292F">=</span><span style="color: #0A3069">"indefinite"</span><span style="color: #24292F"> /></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;/</span><span style="color: #116329">text</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;</span><span style="color: #116329">text</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">textPath</span><span style="color: #24292F"> </span><span style="color: #0550AE">href</span><span style="color: #24292F">=</span><span style="color: #0A3069">"#Circle2"</span><span style="color: #24292F">>ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ&#x3C;/</span><span style="color: #116329">textPath</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">animateTransform</span><span style="color: #24292F"> </span><span style="color: #0550AE">attributeName</span><span style="color: #24292F">=</span><span style="color: #0A3069">"transform"</span><span style="color: #24292F"> </span><span style="color: #0550AE">attributeType</span><span style="color: #24292F">=</span><span style="color: #0A3069">"XML"</span><span style="color: #24292F"> </span><span style="color: #0550AE">type</span><span style="color: #24292F">=</span><span style="color: #0A3069">"rotate"</span><span style="color: #24292F"> </span><span style="color: #0550AE">from</span><span style="color: #24292F">=</span><span style="color: #0A3069">"0 200,200"</span><span style="color: #24292F"> </span><span style="color: #0550AE">to</span><span style="color: #24292F">=</span><span style="color: #0A3069">"360 200,200"</span><span style="color: #24292F"> </span><span style="color: #0550AE">dur</span><span style="color: #24292F">=</span><span style="color: #0A3069">"10s"</span><span style="color: #24292F"> </span><span style="color: #0550AE">repeatCount</span><span style="color: #24292F">=</span><span style="color: #0A3069">"indefinite"</span><span style="color: #24292F"> /></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;/</span><span style="color: #116329">text</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;</span><span style="color: #116329">text</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">textPath</span><span style="color: #24292F"> </span><span style="color: #0550AE">href</span><span style="color: #24292F">=</span><span style="color: #0A3069">"#Circle3"</span><span style="color: #24292F">>ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ&#x3C;/</span><span style="color: #116329">textPath</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">animateTransform</span><span style="color: #24292F"> </span><span style="color: #0550AE">attributeName</span><span style="color: #24292F">=</span><span style="color: #0A3069">"transform"</span><span style="color: #24292F"> </span><span style="color: #0550AE">attributeType</span><span style="color: #24292F">=</span><span style="color: #0A3069">"XML"</span><span style="color: #24292F"> </span><span style="color: #0550AE">type</span><span style="color: #24292F">=</span><span style="color: #0A3069">"rotate"</span><span style="color: #24292F"> </span><span style="color: #0550AE">from</span><span style="color: #24292F">=</span><span style="color: #0A3069">"0 200,200"</span><span style="color: #24292F"> </span><span style="color: #0550AE">to</span><span style="color: #24292F">=</span><span style="color: #0A3069">"360 200,200"</span><span style="color: #24292F"> </span><span style="color: #0550AE">dur</span><span style="color: #24292F">=</span><span style="color: #0A3069">"9s"</span><span style="color: #24292F"> </span><span style="color: #0550AE">repeatCount</span><span style="color: #24292F">=</span><span style="color: #0A3069">"indefinite"</span><span style="color: #24292F"> /></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;/</span><span style="color: #116329">text</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;</span><span style="color: #116329">text</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">textPath</span><span style="color: #24292F"> </span><span style="color: #0550AE">href</span><span style="color: #24292F">=</span><span style="color: #0A3069">"#Circle4"</span><span style="color: #24292F">>ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ&#x3C;/</span><span style="color: #116329">textPath</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">animateTransform</span><span style="color: #24292F"> </span><span style="color: #0550AE">attributeName</span><span style="color: #24292F">=</span><span style="color: #0A3069">"transform"</span><span style="color: #24292F"> </span><span style="color: #0550AE">attributeType</span><span style="color: #24292F">=</span><span style="color: #0A3069">"XML"</span><span style="color: #24292F"> </span><span style="color: #0550AE">type</span><span style="color: #24292F">=</span><span style="color: #0A3069">"rotate"</span><span style="color: #24292F"> </span><span style="color: #0550AE">from</span><span style="color: #24292F">=</span><span style="color: #0A3069">"0 200,200"</span><span style="color: #24292F"> </span><span style="color: #0550AE">to</span><span style="color: #24292F">=</span><span style="color: #0A3069">"360 200,200"</span><span style="color: #24292F"> </span><span style="color: #0550AE">dur</span><span style="color: #24292F">=</span><span style="color: #0A3069">"8s"</span><span style="color: #24292F"> </span><span style="color: #0550AE">repeatCount</span><span style="color: #24292F">=</span><span style="color: #0A3069">"indefinite"</span><span style="color: #24292F"> /></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;/</span><span style="color: #116329">text</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;</span><span style="color: #116329">text</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">textPath</span><span style="color: #24292F"> </span><span style="color: #0550AE">href</span><span style="color: #24292F">=</span><span style="color: #0A3069">"#Circle5"</span><span style="color: #24292F">>ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ&#x3C;/</span><span style="color: #116329">textPath</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">animateTransform</span><span style="color: #24292F"> </span><span style="color: #0550AE">attributeName</span><span style="color: #24292F">=</span><span style="color: #0A3069">"transform"</span><span style="color: #24292F"> </span><span style="color: #0550AE">attributeType</span><span style="color: #24292F">=</span><span style="color: #0A3069">"XML"</span><span style="color: #24292F"> </span><span style="color: #0550AE">type</span><span style="color: #24292F">=</span><span style="color: #0A3069">"rotate"</span><span style="color: #24292F"> </span><span style="color: #0550AE">from</span><span style="color: #24292F">=</span><span style="color: #0A3069">"0 200,200"</span><span style="color: #24292F"> </span><span style="color: #0550AE">to</span><span style="color: #24292F">=</span><span style="color: #0A3069">"360 200,200"</span><span style="color: #24292F"> </span><span style="color: #0550AE">dur</span><span style="color: #24292F">=</span><span style="color: #0A3069">"7s"</span><span style="color: #24292F"> </span><span style="color: #0550AE">repeatCount</span><span style="color: #24292F">=</span><span style="color: #0A3069">"indefinite"</span><span style="color: #24292F"> /></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;/</span><span style="color: #116329">text</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;</span><span style="color: #116329">text</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">textPath</span><span style="color: #24292F"> </span><span style="color: #0550AE">href</span><span style="color: #24292F">=</span><span style="color: #0A3069">"#Circle6"</span><span style="color: #24292F">>ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ&#x3C;/</span><span style="color: #116329">textPath</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">animateTransform</span><span style="color: #24292F"> </span><span style="color: #0550AE">attributeName</span><span style="color: #24292F">=</span><span style="color: #0A3069">"transform"</span><span style="color: #24292F"> </span><span style="color: #0550AE">attributeType</span><span style="color: #24292F">=</span><span style="color: #0A3069">"XML"</span><span style="color: #24292F"> </span><span style="color: #0550AE">type</span><span style="color: #24292F">=</span><span style="color: #0A3069">"rotate"</span><span style="color: #24292F"> </span><span style="color: #0550AE">from</span><span style="color: #24292F">=</span><span style="color: #0A3069">"0 200,200"</span><span style="color: #24292F"> </span><span style="color: #0550AE">to</span><span style="color: #24292F">=</span><span style="color: #0A3069">"360 200,200"</span><span style="color: #24292F"> </span><span style="color: #0550AE">dur</span><span style="color: #24292F">=</span><span style="color: #0A3069">"6s"</span><span style="color: #24292F"> </span><span style="color: #0550AE">repeatCount</span><span style="color: #24292F">=</span><span style="color: #0A3069">"indefinite"</span><span style="color: #24292F"> /></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;/</span><span style="color: #116329">text</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;</span><span style="color: #116329">text</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">textPath</span><span style="color: #24292F"> </span><span style="color: #0550AE">href</span><span style="color: #24292F">=</span><span style="color: #0A3069">"#Circle7"</span><span style="color: #24292F">>ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ&#x3C;/</span><span style="color: #116329">textPath</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">animateTransform</span><span style="color: #24292F"> </span><span style="color: #0550AE">attributeName</span><span style="color: #24292F">=</span><span style="color: #0A3069">"transform"</span><span style="color: #24292F"> </span><span style="color: #0550AE">attributeType</span><span style="color: #24292F">=</span><span style="color: #0A3069">"XML"</span><span style="color: #24292F"> </span><span style="color: #0550AE">type</span><span style="color: #24292F">=</span><span style="color: #0A3069">"rotate"</span><span style="color: #24292F"> </span><span style="color: #0550AE">from</span><span style="color: #24292F">=</span><span style="color: #0A3069">"0 200,200"</span><span style="color: #24292F"> </span><span style="color: #0550AE">to</span><span style="color: #24292F">=</span><span style="color: #0A3069">"360 200,200"</span><span style="color: #24292F"> </span><span style="color: #0550AE">dur</span><span style="color: #24292F">=</span><span style="color: #0A3069">"5s"</span><span style="color: #24292F"> </span><span style="color: #0550AE">repeatCount</span><span style="color: #24292F">=</span><span style="color: #0A3069">"indefinite"</span><span style="color: #24292F"> /></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;/</span><span style="color: #116329">text</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;</span><span style="color: #116329">text</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">textPath</span><span style="color: #24292F"> </span><span style="color: #0550AE">href</span><span style="color: #24292F">=</span><span style="color: #0A3069">"#Circle8"</span><span style="color: #24292F">>ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ&#x3C;/</span><span style="color: #116329">textPath</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">animateTransform</span><span style="color: #24292F"> </span><span style="color: #0550AE">attributeName</span><span style="color: #24292F">=</span><span style="color: #0A3069">"transform"</span><span style="color: #24292F"> </span><span style="color: #0550AE">attributeType</span><span style="color: #24292F">=</span><span style="color: #0A3069">"XML"</span><span style="color: #24292F"> </span><span style="color: #0550AE">type</span><span style="color: #24292F">=</span><span style="color: #0A3069">"rotate"</span><span style="color: #24292F"> </span><span style="color: #0550AE">from</span><span style="color: #24292F">=</span><span style="color: #0A3069">"0 200,200"</span><span style="color: #24292F"> </span><span style="color: #0550AE">to</span><span style="color: #24292F">=</span><span style="color: #0A3069">"360 200,200"</span><span style="color: #24292F"> </span><span style="color: #0550AE">dur</span><span style="color: #24292F">=</span><span style="color: #0A3069">"4s"</span><span style="color: #24292F"> </span><span style="color: #0550AE">repeatCount</span><span style="color: #24292F">=</span><span style="color: #0A3069">"indefinite"</span><span style="color: #24292F"> /></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;/</span><span style="color: #116329">text</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;</span><span style="color: #116329">text</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">textPath</span><span style="color: #24292F"> </span><span style="color: #0550AE">href</span><span style="color: #24292F">=</span><span style="color: #0A3069">"#Circle9"</span><span style="color: #24292F">>ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ ॐ मणिपद्मे हूँ&#x3C;/</span><span style="color: #116329">textPath</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">animateTransform</span><span style="color: #24292F"> </span><span style="color: #0550AE">attributeName</span><span style="color: #24292F">=</span><span style="color: #0A3069">"transform"</span><span style="color: #24292F"> </span><span style="color: #0550AE">attributeType</span><span style="color: #24292F">=</span><span style="color: #0A3069">"XML"</span><span style="color: #24292F"> </span><span style="color: #0550AE">type</span><span style="color: #24292F">=</span><span style="color: #0A3069">"rotate"</span><span style="color: #24292F"> </span><span style="color: #0550AE">from</span><span style="color: #24292F">=</span><span style="color: #0A3069">"0 200,200"</span><span style="color: #24292F"> </span><span style="color: #0550AE">to</span><span style="color: #24292F">=</span><span style="color: #0A3069">"360 200,200"</span><span style="color: #24292F"> </span><span style="color: #0550AE">dur</span><span style="color: #24292F">=</span><span style="color: #0A3069">"3s"</span><span style="color: #24292F"> </span><span style="color: #0550AE">repeatCount</span><span style="color: #24292F">=</span><span style="color: #0A3069">"indefinite"</span><span style="color: #24292F"> /></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;/</span><span style="color: #116329">text</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">&#x3C;/</span><span style="color: #116329">svg</span><span style="color: #24292F">></span></span></code></pre>
<p>SVG単体でanimateTransformを利用してマニ車を回すより、CSSのanimationで回した方がスムーズな動作で回せました。</p>
<p>これでパソコンでもスマホでも、いつでもどこでも誰でも自動でスマートに徳を積めますね。<br>
以上、SVGで徳を積んだという話でした。</p>
<section data-footnotes class="footnotes"><h2 class="sr-only" id="footnote-label">脚注</h2>
<ol>
<li id="user-content-fn-1">
<p>日本風力エネルギー学会誌 Vol.44, No.4 <a href="#user-content-fnref-1" data-footnote-backref class="data-footnote-backref" aria-label="Back to content">↩</a></p>
</li>
</ol>
</section>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Google ColaboratoryでGitHubのipynbファイルを開く]]></title>
            <link>https://nishidemasami.github.io/posts/google-colab-github</link>
            <guid>https://nishidemasami.github.io/posts/google-colab-github</guid>
            <pubDate>Fri, 02 Dec 2022 20:58:43 GMT</pubDate>
            <description><![CDATA[Google ColaboratoryでGitHubのipynbファイルを開いてみたいと思うこと、ありますよね。僕はあるので自分用にメモです。]]></description>
            <content:encoded><![CDATA[<p>Google ColaboratoryでGitHubのファイルを開いてみたいと思うこと、ありますよね。<br>
僕はあるので自分用にメモです。</p>
<p>と言っても簡単で、GitHubでパブリックのリポジトリにファイルをコミットするだけです。</p>
<p><a href="https://github.com/nishidemasami/google-colab-tutorial/blob/main/ubuntu-command/useful_tools.ipynb">https://github.com/nishidemasami/google-colab-tutorial/blob/main/ubuntu-command/useful_tools.ipynb</a></p>
<p>このようなパスにコミットしたとしたら、</p>
<p><a href="https://colab.research.google.com/github/nishidemasami/google-colab-tutorial/blob/main/ubuntu-command/useful_tools.ipynb">https://colab.research.google.com/github/nishidemasami/google-colab-tutorial/blob/main/ubuntu-command/useful_tools.ipynb</a></p>
<p>こうやってGoogle Colaboratoryで開くことができます。</p>
<p>簡単！</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Next.jsで数式を書く]]></title>
            <link>https://nishidemasami.github.io/posts/nextjs-latex</link>
            <guid>https://nishidemasami.github.io/posts/nextjs-latex</guid>
            <pubDate>Fri, 25 Nov 2022 19:58:43 GMT</pubDate>
            <description><![CDATA[Next.jsで数式を書いてみたいと思うこと、ありますよね。僕はあるので自分用にメモです。]]></description>
            <content:encoded><![CDATA[<p>Next.jsで数式を書いてみたいと思うこと、ありますよね。<br>
僕はあるので自分用にメモです。</p>
<p>2次方程式の解の公式、懐かしいですね。</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>=</mo><mfrac><mrow><mo>−</mo><mi>b</mi><mo>±</mo><msqrt><mrow><msup><mi>b</mi><mn>2</mn></msup><mo>−</mo><mn>4</mn><mi>a</mi><mi>c</mi></mrow></msqrt></mrow><mrow><mn>2</mn><mi>a</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">x = \frac{-b\pm\sqrt{b^2-4ac}}{2a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.3845em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0395em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight">a</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">b</span><span class="mbin mtight">±</span><span class="mord sqrt mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9221em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mtight" style="padding-left:0.833em;"><span class="mord mtight"><span class="mord mathnormal mtight">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7463em;"><span style="top:-2.786em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mbin mtight">−</span><span class="mord mtight">4</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">c</span></span></span><span style="top:-2.8821em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail mtight" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1179em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<p>これを見ると学生時代を思い出しますね。<br>
こういう数式を、Next.jsでもMarkdownに<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>LaTeX</mtext></mrow><annotation encoding="application/x-tex">\LaTeX</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8988em;vertical-align:-0.2155em;"></span><span class="mord text"><span class="mord textrm">L</span><span class="mspace" style="margin-right:-0.36em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6833em;"><span style="top:-2.905em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord"><span class="mord textrm mtight sizing reset-size6 size3">A</span></span></span></span></span></span><span class="mspace" style="margin-right:-0.15em;"></span><span class="mord text"><span class="mord textrm">T</span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4678em;"><span style="top:-2.7845em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord textrm">E</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2155em;"><span></span></span></span></span><span class="mspace" style="margin-right:-0.125em;"></span><span class="mord textrm">X</span></span></span></span></span></span></span>で</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292F">x = </span><span style="color: #0550AE">\frac</span><span style="color: #24292F">{-b</span><span style="color: #0550AE">\pm\sqrt</span><span style="color: #24292F">{b^2-4ac}}{2a}</span></span></code></pre>
<p>こんな感じで書けたら便利です。</p>
<p>今回は<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>LaTeX</mtext></mrow><annotation encoding="application/x-tex">\LaTeX</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8988em;vertical-align:-0.2155em;"></span><span class="mord text"><span class="mord textrm">L</span><span class="mspace" style="margin-right:-0.36em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6833em;"><span style="top:-2.905em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord"><span class="mord textrm mtight sizing reset-size6 size3">A</span></span></span></span></span></span><span class="mspace" style="margin-right:-0.15em;"></span><span class="mord text"><span class="mord textrm">T</span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4678em;"><span style="top:-2.7845em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord textrm">E</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2155em;"><span></span></span></span></span><span class="mspace" style="margin-right:-0.125em;"></span><span class="mord textrm">X</span></span></span></span></span></span></span>をウェブブラウザで表示するためのライブラリである<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>KaTeX</mtext></mrow><annotation encoding="application/x-tex">\KaTeX</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8988em;vertical-align:-0.2155em;"></span><span class="mord text"><span class="mord textrm">K</span><span class="mspace" style="margin-right:-0.17em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6833em;"><span style="top:-2.905em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord"><span class="mord textrm mtight sizing reset-size6 size3">A</span></span></span></span></span></span><span class="mspace" style="margin-right:-0.15em;"></span><span class="mord text"><span class="mord textrm">T</span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4678em;"><span style="top:-2.7845em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord textrm">E</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2155em;"><span></span></span></span></span><span class="mspace" style="margin-right:-0.125em;"></span><span class="mord textrm">X</span></span></span></span></span></span></span>をNext.jsで使ってみました。<sup>[<a target="_blank" href="https://www.amazon.co.jp/React-js%EF%BC%86Next-js%E8%B6%85%E5%85%A5%E9%96%80-%E7%AC%AC2%E7%89%88-%E6%8E%8C%E7%94%B0%E6%B4%A5%E8%80%B6%E4%B9%83-ebook/dp/B08XBNGYVH?__mk_ja_JP=%E3%82%AB%E3%82%BF%E3%82%AB%E3%83%8A&crid=1304MCUGBPN1M&keywords=next.js&qid=1670505884&sprefix=next.j%2Caps%2C195&sr=8-6&linkCode=ll1&tag=nishidemasami-22&linkId=1faf1c568d048e662fff7bffcc7794e3&language=ja_JP&ref_=as_li_ss_tl">参考文献</a>]</sup></p>
<p>JavaScriptで動的にブラウザ上で数式を描画するのがよく見る<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>KaTeX</mtext></mrow><annotation encoding="application/x-tex">\KaTeX</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8988em;vertical-align:-0.2155em;"></span><span class="mord text"><span class="mord textrm">K</span><span class="mspace" style="margin-right:-0.17em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6833em;"><span style="top:-2.905em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord"><span class="mord textrm mtight sizing reset-size6 size3">A</span></span></span></span></span></span><span class="mspace" style="margin-right:-0.15em;"></span><span class="mord text"><span class="mord textrm">T</span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4678em;"><span style="top:-2.7845em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord textrm">E</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2155em;"><span></span></span></span></span><span class="mspace" style="margin-right:-0.125em;"></span><span class="mord textrm">X</span></span></span></span></span></span></span>の使い方ですが、Next.jsでSSGしている時にはビルド時に既に数式がHTMLにレンダリング済みだという挙動になるので少し仕組みが違います。<br>
ブラウザとしては<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>LaTeX</mtext></mrow><annotation encoding="application/x-tex">\LaTeX</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8988em;vertical-align:-0.2155em;"></span><span class="mord text"><span class="mord textrm">L</span><span class="mspace" style="margin-right:-0.36em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6833em;"><span style="top:-2.905em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord"><span class="mord textrm mtight sizing reset-size6 size3">A</span></span></span></span></span></span><span class="mspace" style="margin-right:-0.15em;"></span><span class="mord text"><span class="mord textrm">T</span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4678em;"><span style="top:-2.7845em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord textrm">E</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2155em;"><span></span></span></span></span><span class="mspace" style="margin-right:-0.125em;"></span><span class="mord textrm">X</span></span></span></span></span></span></span>形式の数式をHTMLへ変換する必要がなくなり描画が高速だという点がメリットです。ブラウザがJavaScriptを無効化していても見れるのもいいですね。</p>
<p>まず、必要なパッケージをインストールします。</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292F">npm install remark-math rehype-katex</span></span></code></pre>
<p>このウェブサイトではMarkdownを読み込むのに <em>unified</em> を使用しているので、 <em>remark-math</em> と <em>rehype-katex</em> を追加で <em>use</em> します。</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #CF222E">import</span><span style="color: #24292F"> rehypePrism </span><span style="color: #CF222E">from</span><span style="color: #24292F"> </span><span style="color: #0A3069">'@mapbox/rehype-prism'</span><span style="color: #24292F">;</span></span>
<span class="line"><span style="color: #CF222E">import</span><span style="color: #24292F"> rehypeKatex </span><span style="color: #CF222E">from</span><span style="color: #24292F"> </span><span style="color: #0A3069">'rehype-katex'</span><span style="color: #24292F">;</span></span>
<span class="line"><span style="color: #CF222E">import</span><span style="color: #24292F"> rehypeStringify </span><span style="color: #CF222E">from</span><span style="color: #24292F"> </span><span style="color: #0A3069">'rehype-stringify'</span><span style="color: #24292F">;</span></span>
<span class="line"><span style="color: #CF222E">import</span><span style="color: #24292F"> remarkGfm </span><span style="color: #CF222E">from</span><span style="color: #24292F"> </span><span style="color: #0A3069">'remark-gfm'</span><span style="color: #24292F">;</span></span>
<span class="line"><span style="color: #CF222E">import</span><span style="color: #24292F"> remarkMath </span><span style="color: #CF222E">from</span><span style="color: #24292F"> </span><span style="color: #0A3069">'remark-math'</span><span style="color: #24292F">;</span></span>
<span class="line"><span style="color: #CF222E">import</span><span style="color: #24292F"> remarkParse </span><span style="color: #CF222E">from</span><span style="color: #24292F"> </span><span style="color: #0A3069">'remark-parse'</span><span style="color: #24292F">;</span></span>
<span class="line"><span style="color: #CF222E">import</span><span style="color: #24292F"> remarkRehype </span><span style="color: #CF222E">from</span><span style="color: #24292F"> </span><span style="color: #0A3069">'remark-rehype'</span><span style="color: #24292F">;</span></span>
<span class="line"><span style="color: #CF222E">import</span><span style="color: #24292F"> { unified } </span><span style="color: #CF222E">from</span><span style="color: #24292F"> </span><span style="color: #0A3069">'unified'</span><span style="color: #24292F">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #CF222E">export</span><span style="color: #24292F"> </span><span style="color: #CF222E">const</span><span style="color: #24292F"> </span><span style="color: #8250DF">markdownToHtml</span><span style="color: #24292F"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> </span><span style="color: #CF222E">async</span><span style="color: #24292F"> (</span><span style="color: #953800">markdown</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #0550AE">string</span><span style="color: #24292F">) </span><span style="color: #CF222E">=></span></span>
<span class="line"><span style="color: #24292F">  (</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #CF222E">await</span><span style="color: #24292F"> </span><span style="color: #8250DF">unified</span><span style="color: #24292F">()</span></span>
<span class="line"><span style="color: #24292F">      .</span><span style="color: #8250DF">use</span><span style="color: #24292F">(remarkParse)</span></span>
<span class="line"><span style="color: #24292F">      .</span><span style="color: #8250DF">use</span><span style="color: #24292F">(remarkMath)</span></span>
<span class="line"><span style="color: #24292F">      .</span><span style="color: #8250DF">use</span><span style="color: #24292F">(remarkGfm)</span></span>
<span class="line"><span style="color: #24292F">      .</span><span style="color: #8250DF">use</span><span style="color: #24292F">(remarkRehype, { allowDangerousHtml: </span><span style="color: #0550AE">true</span><span style="color: #24292F"> })</span></span>
<span class="line"><span style="color: #24292F">      .</span><span style="color: #8250DF">use</span><span style="color: #24292F">(rehypePrism)</span></span>
<span class="line"><span style="color: #24292F">      .</span><span style="color: #8250DF">use</span><span style="color: #24292F">(rehypeKatex)</span></span>
<span class="line"><span style="color: #24292F">      .</span><span style="color: #8250DF">use</span><span style="color: #24292F">(rehypeStringify, { allowDangerousHtml: </span><span style="color: #0550AE">true</span><span style="color: #24292F"> })</span></span>
<span class="line"><span style="color: #24292F">      .</span><span style="color: #8250DF">process</span><span style="color: #24292F">(markdown)</span></span>
<span class="line"><span style="color: #24292F">  )</span></span>
<span class="line"><span style="color: #24292F">    .</span><span style="color: #8250DF">toString</span><span style="color: #24292F">();</span></span></code></pre>
<p>あとは<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>KaTeX</mtext></mrow><annotation encoding="application/x-tex">\KaTeX</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8988em;vertical-align:-0.2155em;"></span><span class="mord text"><span class="mord textrm">K</span><span class="mspace" style="margin-right:-0.17em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6833em;"><span style="top:-2.905em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord"><span class="mord textrm mtight sizing reset-size6 size3">A</span></span></span></span></span></span><span class="mspace" style="margin-right:-0.15em;"></span><span class="mord text"><span class="mord textrm">T</span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4678em;"><span style="top:-2.7845em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord textrm">E</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2155em;"><span></span></span></span></span><span class="mspace" style="margin-right:-0.125em;"></span><span class="mord textrm">X</span></span></span></span></span></span></span>のCSSをCDNなどから読み込めば完成です。</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292F">&#x3C;</span><span style="color: #116329">link</span><span style="color: #24292F"> </span><span style="color: #0550AE">rel</span><span style="color: #24292F">=</span><span style="color: #0A3069">"stylesheet"</span><span style="color: #24292F"> </span><span style="color: #0550AE">href</span><span style="color: #24292F">=</span><span style="color: #0A3069">"https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css"</span><span style="color: #24292F"> </span><span style="color: #0550AE">crossOrigin</span><span style="color: #24292F">=</span><span style="color: #0A3069">"anonymous"</span><span style="color: #24292F"> /></span></span></code></pre>
<p>では、実際に書いてみることにします。<br>
以下は任意の<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span></span>と<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span></span>の最大公約数を求める<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mi>c</mi><mi>d</mi></mrow><annotation encoding="application/x-tex">gcd</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">c</span><span class="mord mathnormal">d</span></span></span></span></span>関数の定義です。</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #0550AE">\gcd</span><span style="color: #24292F">(x, y) =</span></span>
<span class="line"><span style="color: #0550AE">\begin</span><span style="color: #24292F">{cases}</span></span>
<span class="line"><span style="color: #0550AE">  y </span><span style="color: #CF222E">&#x26;</span><span style="color: #0550AE"> (x = 0)</span><span style="color: #CF222E">\\</span></span>
<span class="line"><span style="color: #0550AE">  x </span><span style="color: #CF222E">&#x26;</span><span style="color: #0550AE"> (y = 0)</span><span style="color: #CF222E">\\</span></span>
<span class="line"><span style="color: #0550AE">  \gcd(y, x \bmod y) </span><span style="color: #CF222E">&#x26;</span><span style="color: #0550AE"> (\text{otherwize})</span></span>
<span class="line"><span style="color: #0550AE">\end</span><span style="color: #24292F">{cases}</span></span></code></pre>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.36em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>y</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>=</mo><mn>0</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo stretchy="false">(</mo><mi>y</mi><mo>=</mo><mn>0</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>y</mi><mo separator="true">,</mo><mi>x</mi><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mi>y</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo stretchy="false">(</mo><mtext>otherwize</mtext><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">\gcd(x, y) =
\begin{cases}
  y &#x26; (x = 0)\\
  x &#x26; (y = 0)\\
  \gcd(y, x \bmod y) &#x26; (\text{otherwize})
\end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:4.32em;vertical-align:-1.91em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.35em;"><span style="top:-2.2em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-2.192em;"><span class="pstrut" style="height:3.15em;"></span><span style="height:0.316em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.8889em" height="0.316em" style="width:0.8889em" viewBox="0 0 888.89 316" preserveAspectRatio="xMinYMin"><path d="M384 0 H504 V316 H384z M384 0 H504 V316 H384z"></path></svg></span></span><span style="top:-3.15em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.292em;"><span class="pstrut" style="height:3.15em;"></span><span style="height:0.316em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.8889em" height="0.316em" style="width:0.8889em" viewBox="0 0 888.89 316" preserveAspectRatio="xMinYMin"><path d="M384 0 H504 V316 H384z M384 0 H504 V316 H384z"></path></svg></span></span><span style="top:-4.6em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.85em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.41em;"><span style="top:-4.41em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-2.97em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-1.53em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.0556em;"></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.0556em;"></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.91em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.41em;"><span style="top:-4.41em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span><span style="top:-2.97em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span><span style="top:-1.53em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mopen">(</span><span class="mord text"><span class="mord">otherwize</span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.91em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<p>上手に書けました！✨</p>
<p>以上です。<br>
<a href="https://github.com/nishidemasami/nishidemasami.github.io">https://github.com/nishidemasami/nishidemasami.github.io</a><br>
実際にNext.jsで動いているコードは👆ここから確認してください。</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[ED25519の鍵を生成する]]></title>
            <link>https://nishidemasami.github.io/posts/gen_ed25519_key</link>
            <guid>https://nishidemasami.github.io/posts/gen_ed25519_key</guid>
            <pubDate>Sat, 19 Nov 2022 14:02:43 GMT</pubDate>
            <description><![CDATA[ED25519の鍵を生成したいこと、ありますよね。僕はあるので自分用にメモです。]]></description>
            <content:encoded><![CDATA[<p>もう1年以上前にAWSでED25519の鍵が使えるようになっていた。<br>
当然のようにGitHubでも使える。<br>
どんどんED25519を使えない環境もかなり減ってきていて、ED25519の鍵を作る機会も増えてきた。</p>
<p>なのに、ED25519の鍵の作り方をいつもググって調べるので自分用にメモ。</p>
<p><code>ssh-keygen -t ed25519</code><br>
で作成できる。</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292F">$ ssh -V</span></span>
<span class="line"><span style="color: #24292F">OpenSSH_8.9p1 Ubuntu-3, OpenSSL 3.0.2 15 Mar 2022</span></span>
<span class="line"><span style="color: #24292F">$ ssh-keygen -t ed25519</span></span>
<span class="line"><span style="color: #24292F">Generating public/private ed25519 key pair.</span></span>
<span class="line"><span style="color: #24292F">Enter file </span><span style="color: #CF222E">in</span><span style="color: #24292F"> which to save the key (/home/nishidemasami/.ssh/id_ed25519):</span></span>
<span class="line"><span style="color: #24292F">Enter passphrase (empty </span><span style="color: #CF222E">for</span><span style="color: #24292F"> no passphrase):</span></span>
<span class="line"><span style="color: #24292F">Enter same passphrase again:</span></span>
<span class="line"><span style="color: #24292F">Your identification has been saved </span><span style="color: #CF222E">in</span><span style="color: #24292F"> /home/nishidemasami/.ssh/id_ed25519</span></span>
<span class="line"><span style="color: #24292F">Your public key has been saved </span><span style="color: #CF222E">in</span><span style="color: #24292F"> /home/nishidemasami/.ssh/id_ed25519.pub</span></span>
<span class="line"><span style="color: #24292F">The key fingerprint is:</span></span>
<span class="line"><span style="color: #24292F">SHA256:mObF7QvcCUg1/JQb9aF6hc2R6GCuu7UpYipZ03J6Xtw nishidemasami@desktop-nishidemasami</span></span>
<span class="line"><span style="color: #24292F">The key</span><span style="color: #0A3069">'s randomart image is:</span></span>
<span class="line"><span style="color: #0A3069">+--[ED25519 256]--+</span></span>
<span class="line"><span style="color: #0A3069">|       .o  o..o. |</span></span>
<span class="line"><span style="color: #0A3069">|       ...* .*.o |</span></span>
<span class="line"><span style="color: #0A3069">|      .  = =o =  |</span></span>
<span class="line"><span style="color: #0A3069">|     . = .+...   |</span></span>
<span class="line"><span style="color: #0A3069">|     .= S.o .    |</span></span>
<span class="line"><span style="color: #0A3069">|    +oo+.= o     |</span></span>
<span class="line"><span style="color: #0A3069">|   o =. =.E      |</span></span>
<span class="line"><span style="color: #0A3069">|  o . +.oo +     |</span></span>
<span class="line"><span style="color: #0A3069">|   ..=...o+      |</span></span>
<span class="line"><span style="color: #0A3069">+----[SHA256]-----+</span></span></code></pre>
<p>参考
<a href="https://aws.amazon.com/jp/about-aws/whats-new/2021/08/amazon-ec2-customers-ed25519-keys-authentication/">https://aws.amazon.com/jp/about-aws/whats-new/2021/08/amazon-ec2-customers-ed25519-keys-authentication/</a></p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[GitHubのレポジトリサイズを確認する]]></title>
            <link>https://nishidemasami.github.io/posts/check_github_repository_size</link>
            <guid>https://nishidemasami.github.io/posts/check_github_repository_size</guid>
            <pubDate>Sat, 12 Nov 2022 14:02:43 GMT</pubDate>
            <description><![CDATA[GitHubのレポジトリサイズを確認する]]></description>
            <content:encoded><![CDATA[<p>リポジトリのサイズがいつも気になるので自分用にメモ。</p>
<p><code>https://api.github.com/repos/アカウント名/リポジトリ名</code><br>
にアクセスするとjsonで詳細が取得できる。<br>
その<code>size</code>にKB単位でサイズが入っている。</p>
<p>たとえば<code>github.com:nishidemasami/nishidemasami.github.io.git</code>の場合、<br>
<a href="https://api.github.com/repos/nishidemasami/nishidemasami.github.io">https://api.github.com/repos/nishidemasami/nishidemasami.github.io</a><br>
このURLで取得できる。</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[SVGとCSSだけで文字をクルクル回す]]></title>
            <link>https://nishidemasami.github.io/posts/css-svg-rotate-text</link>
            <guid>https://nishidemasami.github.io/posts/css-svg-rotate-text</guid>
            <pubDate>Tue, 16 Mar 2021 16:04:03 GMT</pubDate>
            <description><![CDATA[JavaScriptを使わずにSVGとCSSだけで文字をクルクル回したいこと、ありますよね。僕はあるので自分用にメモです。]]></description>
            <content:encoded><![CDATA[<p>JavaScriptを使わずにSVGとCSSだけで文字をクルクル回したいこと、ありますよね。<br>
僕はあるので自分用にメモです。</p>
<svg style="animation: spin 5s linear infinite; max-width:300px" viewBox="0 0 100 100" >
  <defs>
    <path id="Circle" d="M 25, 50 a 25,25 0 1,1 50,0 a 25,25 0 1,1 -50,0" />
  </defs>
  <text>
    <textPath href="#Circle">文字がクルクル回ります。</textPath>
  </text>
</svg>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292F">&#x3C;</span><span style="color: #116329">svg</span></span>
<span class="line"><span style="color: #24292F">  </span><span style="color: #0550AE">style</span><span style="color: #24292F">=</span><span style="color: #0A3069">"animation: spin 5s linear infinite; max-width:300px"</span></span>
<span class="line"><span style="color: #24292F">  </span><span style="color: #0550AE">viewBox</span><span style="color: #24292F">=</span><span style="color: #0A3069">"0 0 100 100"</span></span>
<span class="line"><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;</span><span style="color: #116329">defs</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">path</span></span>
<span class="line"><span style="color: #24292F">      </span><span style="color: #0550AE">id</span><span style="color: #24292F">=</span><span style="color: #0A3069">"Circle"</span></span>
<span class="line"><span style="color: #24292F">      </span><span style="color: #0550AE">d</span><span style="color: #24292F">=</span><span style="color: #0A3069">"M 25, 50 a 25,25 0 1,1 50,0 a 25,25 0 1,1 -50,0"</span></span>
<span class="line"><span style="color: #24292F">    /></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;/</span><span style="color: #116329">defs</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;</span><span style="color: #116329">text</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">    &#x3C;</span><span style="color: #116329">textPath</span><span style="color: #24292F"> </span><span style="color: #0550AE">href</span><span style="color: #24292F">=</span><span style="color: #0A3069">"#Circle"</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">      文字がクルクル回ります。</span></span>
<span class="line"><span style="color: #24292F">    &#x3C;/</span><span style="color: #116329">textPath</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">  &#x3C;/</span><span style="color: #116329">text</span><span style="color: #24292F">></span></span>
<span class="line"><span style="color: #24292F">&#x3C;/</span><span style="color: #116329">svg</span><span style="color: #24292F">></span></span></code></pre>
<p>SVGは大きさ50*50の円とその周囲を沿うようにテキストを記述しています。SVGのスタイルにはクルクル回るCSSを書いてます。<br>
これだけでクルクル回ったので楽しかったです。</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Next.jsでこのウェブサイトをリニューアルしました！✨]]></title>
            <link>https://nishidemasami.github.io/posts/nextjs-website-renewal</link>
            <guid>https://nishidemasami.github.io/posts/nextjs-website-renewal</guid>
            <pubDate>Fri, 04 Nov 2022 16:04:03 GMT</pubDate>
            <description><![CDATA[Next.jsでこのウェブサイトをリニューアルしました！✨]]></description>
            <content:encoded><![CDATA[<p>Next.jsでこのウェブサイトをリニューアルしました！✨</p>
<p>T3 Stackの6つの技術のうち、フロントエンド側の以下の3つの技術をフル活用しています。</p>
<ul>
<li>TypeScript<sup>[<a target="_blank" href="https://www.amazon.co.jp/%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0TypeScript-%E2%80%95%E3%82%B9%E3%82%B1%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8BJavaScript%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E9%96%8B%E7%99%BA-Boris-Cherny/dp/4873119049?__mk_ja_JP=%E3%82%AB%E3%82%BF%E3%82%AB%E3%83%8A&crid=3Q7MI7KXY06BB&keywords=typescript&qid=1670505807&sprefix=typescript+%2Caps%2C224&sr=8-9&linkCode=ll1&tag=nishidemasami-22&linkId=48539012d76c58e8bc3549b5a9dc7a1f&language=ja_JP&ref_=as_li_ss_tl" rel="noreferrer" >参考文献</a>]</sup><br>
ほぼ全てTypeScriptで書いています。</li>
<li>Next.js<br>
SSGフレームワークに使用しています。</li>
<li>Tailwind CSS<br>
スタイルを書くのに使用しています。CSSもSCSSもstyled-componentsもどうしても必要な箇所を除けば使っていません。</li>
</ul>
<p>また、リニューアル後も引き続きGitHub ActionsでCI/CDを継続しています。</p>
<p>今のところこのウェブサイトはNext.jsになる前には、</p>
<p>Hexo<br>
🔽<br>
Gatsby.js<br>
🔽<br>
Next.js</p>
<p>という偏移を経ています。</p>
<p>Hexoは純粋な時代の古き良きSSGでした。しかしパフォーマンスを追い求めると限界がありました。<br>
Gatsby.jsは <em>Blazing fast🔥</em> ではあったもののちょっとカスタマイズしようとするとすぐgatsby-pluginが必要になりました。<br>
その点Next.jsは、何もかも自分でコントロールできるような確かな手触りを感じています。<br>
それにNext.jsも十分速い。とにかくウェブサイトのなにをクリックしても速いです。普通の使い方をするならGatsby.jsと違いがわからないほど速いです。</p>
<p>Next.jsをもっと良く知るためにも、引き続きこのウェブサイトでいろいろなことをやってみようと思っています。</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Reactでホワイトノイズを鳴らす]]></title>
            <link>https://nishidemasami.github.io/articles/react-sound-test</link>
            <guid>https://nishidemasami.github.io/articles/react-sound-test</guid>
            <pubDate>Sat, 13 Mar 2021 16:04:03 GMT</pubDate>
            <description><![CDATA[Reactでホワイトノイズを鳴らしたいこと、ありますよね。僕はあるので自分用にメモです。]]></description>
            <content:encoded><![CDATA[<p>*/</p>
<p>import React from 'react';</p>
<p>import { format } from 'date-fns';
import { GetStaticProps } from 'next';
import Link from 'next/link';</p>
<p>import { ReactAudioTest } from '../../components/ReactAudioTest';
import { Content } from '../../content/Content';
import { Meta } from '../../layout/Meta';
import { PostPagination } from '../../pagination/PostPagination';
import { Main } from '../../templates/Main';
import {
getPrevNextPost,
getRecentPosts,
getTags,
PostItems,
} from '../../utils/Content';
import { markdownToHtml } from '../../utils/Markdown';</p>
<p>type ReactSoundTestProps = {
recents: PostItems[];
tags: string[];
sorceCodeHTML: string;
prevPost?: PostItems;
nextPost?: PostItems;
};</p>
<p>const sorceCodeMarkdown = <code> \</code>``typescript
import React from 'react';</p>
<p>import { VolumeDown, VolumeUp } from '@mui/icons-material';
import { Button, CircularProgress, Grid, Slider } from '@mui/material';</p>
<p>// webkit用Typescript型宣言
declare global {
interface Window {
webkitAudioContext: AudioContext;
}
}</p>
<p>const ReactAudioTest: React.FunctionComponent = () => {
// 音量：初期値25
const [volume, setVolume] = React.useState(25);
// 再生状態：初期値false
const [playingFlag, setPlayingFlag] = React.useState(false);
// AudioContext：初期値undefined
const [audioContext, setAudioContext] = React.useState&#x3C;
AudioContext | undefined</p>
<blockquote>
<p>(undefined);
// 音源ソース：初期値undefined
const [source, setSourceState] = React.useState&#x3C;
AudioBufferSourceNode | undefined
(undefined);
// 音量調節：初期値undefined
const [gainState, setGainState] = React.useState&#x3C;GainNode | undefined>(
undefined
);</p>
</blockquote>
<p>React.useEffect(() => {
// 初期化
const newAudioContext = new (window.AudioContext ||
window.webkitAudioContext)();
setAudioContext(newAudioContext);
const gainNode = newAudioContext.createGain();
gainNode.gain.value = volume / 100;
setGainState(gainNode);</p>
<pre><code>return () => {
  // unmount時の後始末
  if (source) {
    source.buffer = null; // メモリリーク防止
  }
  if (newAudioContext) {
    newAudioContext.close();
  }
};
// eslint-disable-next-line react-hooks/exhaustive-deps
</code></pre>
<p>}, []);</p>
<p>React.useEffect(() => {
// 音量変更
if (gainState) {
gainState.gain.value = volume / 100;
}
// eslint-disable-next-line react-hooks/exhaustive-deps
}, [volume]);</p>
<p>// スマホなどでは迷惑な自動再生を防ぐ目的で
// ユーザの操作に伴う再生でしか音を再生できない
const onClickToStartAndStop = React.useCallback(() => {
if (audioContext &#x26;&#x26; gainState) {
if (playingFlag) {
// 停止
if (source) {
source.stop();
source.buffer = null; // メモリリーク防止
}
} else {
// 再生
const channels = 1; // モノラル
const frameCount = audioContext.sampleRate * 2.0; // 2秒</p>
<pre><code>    const myArrayBuffer = audioContext.createBuffer(
      channels,
      frameCount,
      audioContext.sampleRate
    );

    for (let channel = 0; channel &#x3C; channels; channel += 1) {
      // ホワイトノイズ生成
      const nowBuffering = myArrayBuffer.getChannelData(channel);
      for (let i = 0; i &#x3C; frameCount; i += 1) {
        nowBuffering[i] = Math.random() * 2 - 1;
      }
    }
    const buffersource = audioContext.createBufferSource();
    setSourceState(buffersource);
    buffersource.buffer = myArrayBuffer;
    buffersource.loop = true;
    buffersource.connect(gainState).connect(audioContext.destination);
    buffersource.start();
  }
  setPlayingFlag(!playingFlag);
}
// eslint-disable-next-line react-hooks/exhaustive-deps
</code></pre>
<p>}, [playingFlag, audioContext, gainState]);</p>
<p>if (!audioContext || !gainState) {
return (
&#x3C;React.Fragment>
<CircularProgress />
loading...
&#x3C;/React.Fragment>
);
}</p>
<p>return (
<div className="text-center h-fit w-full">
<Grid container>
<Grid item></Grid>
<Grid item>
<VolumeDown />
</Grid>
<Grid item xs={10}>
&#x3C;Slider
min={0}
max={100}
defaultValue={50}
value={volume}
onChange={(__, newValue) => {
if (typeof newValue === 'number') {
setVolume(newValue);
}
}}
valueLabelDisplay="auto"
aria-labelledby="continuous-slider"
/>
</Grid>
<Grid item>
<VolumeUp />
</Grid>
<Grid item></Grid>
</Grid></p>
<pre><code>  &#x3C;Button
    variant="outlined"
    color={playingFlag ? 'info' : 'primary'}
    onClick={onClickToStartAndStop}
  >
    ホワイトノイズ{playingFlag ? '停止' : '再生'}
  &#x3C;/Button>
&#x3C;/div>
</code></pre>
<p>);
};</p>
<p>export { ReactAudioTest };
```
`;</p>
<p>const ReactSoundTest = (props: ReactSoundTestProps) => (
&#x3C;Main
recents={props.recents}
tags={props.tags}
meta={
<Meta
 			title="Reactでホワイトノイズを鳴らす"
 			description="React + TypeScript でホワイトノイズを鳴らしてみました"
 		/>
}
>
<h1 className="text-center font-bold text-3xl text-gray-900">
Reactでホワイトノイズを鳴らす
</h1>
<div className="text-center text-sm mb-4">
{format(new Date('2021-03-14T01:04:03+0900'), 'LLLL d, yyyy')}
</div>
<ul className="flex flex-row flex-wrap list-none p-0 m-2 justify-start">
{['TypeScript', 'React'].map((tag) => (
<li
 				className="px-2 py-1 m-1 rounded-full overflow-hidden shadow-md border-0 bg-white w-fit break-all"
 				key={tag}
 			>
&#x3C;Link href="/tag/[tag]" as={<code>/tag/${tag}</code>}>
#{tag}
</Link>
</li>
))}
</ul></p>
<pre><code>	&#x3C;Content>
		&#x3C;div>
			&#x3C;p>
				Reactでホワイトノイズを鳴らしたいこと、ありますよね。
				&#x3C;br />
				僕はあるので自分用にメモです。
			&#x3C;/p>
			&#x3C;p>
				↓ React + TypeScript でホワイトノイズを鳴らしてみました。
				&#x3C;sup>
					[
					&#x3C;a
						target="_blank"
						href="https://www.amazon.co.jp/%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0TypeScript-%E2%80%95%E3%82%B9%E3%82%B1%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8BJavaScript%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E9%96%8B%E7%99%BA-Boris-Cherny/dp/4873119049?__mk_ja_JP=%E3%82%AB%E3%82%BF%E3%82%AB%E3%83%8A&#x26;crid=3Q7MI7KXY06BB&#x26;keywords=typescript&#x26;qid=1670505807&#x26;sprefix=typescript+%2Caps%2C224&#x26;sr=8-9&#x26;linkCode=ll1&#x26;tag=nishidemasami-22&#x26;linkId=48539012d76c58e8bc3549b5a9dc7a1f&#x26;language=ja_JP&#x26;ref_=as_li_ss_tl"
						rel="noreferrer"
					>
						参考文献
					&#x3C;/a>
					]
				&#x3C;/sup>
				&#x3C;br />
				※音が鳴ります
			&#x3C;/p>
			&#x3C;ReactAudioTest />
			&#x3C;p>
				パソコンで音を鳴らすのはかんたんなんですけどスマホはガードが固いらしくて、ユーザのなんらかの動作をトリガーとして再生しないと再生されないみたいです。
			&#x3C;/p>
			&#x3C;p>なので今回は useCallback で宣言して onClick から呼びました。&#x3C;/p>
			&#x3C;p>↓ これが今回のコードです&#x3C;/p>
			&#x3C;div dangerouslySetInnerHTML={{ __html: props.sorceCodeHTML }} />
		&#x3C;/div>
	&#x3C;/Content>

	&#x3C;PostPagination nextPost={props.nextPost} prevPost={props.prevPost} />
&#x3C;/Main>
</code></pre>
<p>);</p>
<p>export const getStaticProps: GetStaticProps<ReactSoundTestProps> = async () => {
const recents = getRecentPosts(['title', 'date', 'slug']);</p>
<pre><code>return {
	props: {
		recents,
		tags: getTags(),
		sorceCodeHTML: await markdownToHtml(sorceCodeMarkdown),
		...getPrevNextPost(__filename),
	},
};
</code></pre>
<p>};</p>
<p>export default ReactSoundTest;</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Gatsbyでブログをリニューアルしてみました]]></title>
            <link>https://nishidemasami.github.io/articles/blog-remake-with-gatsby</link>
            <guid>https://nishidemasami.github.io/articles/blog-remake-with-gatsby</guid>
            <pubDate>Sat, 06 Mar 2021 09:04:03 GMT</pubDate>
            <description><![CDATA[このブログをリニューアルしてみました。このブログのソースはここ ↓ で公開しています。https://github.com/nishidemasami/nishidemasami.github.io/tree/gatsby見てみた感じどうですか？すごくないですか！？…]]></description>
            <content:encoded><![CDATA[<p>*/</p>
<p>import React from 'react';</p>
<p>import { format } from 'date-fns';
import { GetStaticProps } from 'next';
import Link from 'next/link';</p>
<p>import ReactHelloWorld from '../../components/ReactHelloWorld/ReactHelloWorld';
import { Content } from '../../content/Content';
import { Meta } from '../../layout/Meta';
import { PostPagination } from '../../pagination/PostPagination';
import { Main } from '../../templates/Main';
import {
getPrevNextPost,
getRecentPosts,
getTags,
PostItems,
} from '../../utils/Content';</p>
<p>type AboutProps = {
recents: PostItems[];
tags: string[];
prevPost?: PostItems;
nextPost?: PostItems;
};</p>
<p>const About = (props: AboutProps) => (
&#x3C;Main
recents={props.recents}
tags={props.tags}
meta={
<Meta
 			title="Gatsbyでブログをリニューアルしてみました"
 			description="Gatsbyでブログをリニューアルしてみました"
 		/>
}
>
<h1 className="text-center font-bold text-3xl text-gray-900">
Gatsbyでブログをリニューアルしてみました
</h1>
<div className="text-center text-sm mb-4">
{format(new Date('2021-03-06T18:04:03+0900'), 'LLLL d, yyyy')}
</div>
<ul className="flex flex-row flex-wrap list-none p-0 m-2 justify-start">
{['JavaScript', 'TypeScript', 'React', 'Gatsby'].map((tag) => (
<li
 				className="px-2 py-1 m-1 rounded-full overflow-hidden shadow-md border-0 bg-white w-fit break-all"
 				key={tag}
 			>
&#x3C;Link href="/tag/[tag]" as={<code>/tag/${tag}</code>}>
#{tag}
</Link>
</li>
))}
</ul>
<Content>
<div>
<p>
このブログをリニューアルしてみました。
ちなみにこのブログのソースはここ ↓ で公開しています。
<a href="https://github.com/nishidemasami/nishidemasami.github.io/tree/gatsby">
<a href="https://github.com/nishidemasami/nishidemasami.github.io/tree/gatsby">https://github.com/nishidemasami/nishidemasami.github.io/tree/gatsby</a>
</a>
</p>
<p>作ってみた感じ、すごくいいと思います！</p>
<ul>
<li>React が動いている・生で React が書ける</li>
<li>
ページ間の遷移の速度が速い(React の仮想 DOM 操作に由来している)
</li>
<li>
ちょっとがんばれば Typescript でも書ける(使用する Gatsby
のテンプレートによっては最初から Typescript を使っているらしい)
</li>
<li>
Gatsby が静的にページを作ってくれているので Javascript
をオフにしてても見れる
</li>
</ul></p>
<pre><code>			&#x3C;ReactHelloWorld>
				こんな感じで普通にReact が&#x3C;br />
				Typescript で書けて動きます！✨
			&#x3C;/ReactHelloWorld>
			&#x3C;p>
				Gatsby は、HEXO や Hugo、Jekyll
				みたいに静的ジェネレータなので、こうやって Github Pages
				にも乗せられるので便利！ AWS S3 とかに乗せればスケールしますし！✨
			&#x3C;/p>
			&#x3C;p>
				あと、ページを高速化するための細かなテクニックを最初から使ってくれています。
			&#x3C;/p>
			&#x3C;ul>
				&#x3C;li>静的プレレンダリング・静的プリフェッチ(速い)&#x3C;/li>
				&#x3C;li>
					いわゆる PRPL パターンに準拠する PWA サポート
					&#x3C;br />
					&#x3C;strong>
						&#x3C;em>Push &#x3C;/em>
					&#x3C;/strong>
					critical resources for the initial URL route using
					&#x3C;code>&#x26;lt;link preload&#x26;gt;&#x3C;/code> and HTTP/2.
					&#x3C;br />
					&#x3C;strong>
						&#x3C;em>Render &#x3C;/em>
					&#x3C;/strong>
					initial route.
					&#x3C;br />
					&#x3C;strong>
						&#x3C;em>Pre-cache &#x3C;/em>
					&#x3C;/strong>
					remaining routes.
					&#x3C;br />
					&#x3C;strong>
						&#x3C;em>Lazy-load &#x3C;/em>
					&#x3C;/strong>
					and create remaining routes on demand.
					&#x3C;br />
					&#x3C;a href="https://www.gatsbyjs.com/docs/prpl-pattern/">
						https://www.gatsbyjs.com/docs/prpl-pattern/
					&#x3C;/a>
				&#x3C;/li>
				&#x3C;li>
					GraphQL(ビルド時には json
					になっている)によるデータアクセスや画面遷移(これまた速い)
				&#x3C;/li>
			&#x3C;/ul>
			&#x3C;p>
				Gatsby で Markdown ファイルとかいい感じにしてくれますし、普通に React
				の仮想 DOM による高速化の恩恵も受けることできてます！
				かなりいい感じになってると思います！✨
			&#x3C;/p>
		&#x3C;/div>
	&#x3C;/Content>

	&#x3C;PostPagination nextPost={props.nextPost} prevPost={props.prevPost} />
&#x3C;/Main>
</code></pre>
<p>);</p>
<p>export const getStaticProps: GetStaticProps<AboutProps> = async () => ({
props: {
recents: getRecentPosts(['title', 'date', 'slug']),
tags: getTags(),
...getPrevNextPost(__filename),
},
});</p>
<p>export default About;</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[ネットワークスペシャリスト合格体験記]]></title>
            <link>https://nishidemasami.github.io/posts/network-specialist-examination</link>
            <guid>https://nishidemasami.github.io/posts/network-specialist-examination</guid>
            <pubDate>Sun, 18 Dec 2016 09:04:03 GMT</pubDate>
            <description><![CDATA[念願のネットワークスペシャリストに合格しました！本当に念願で、というのも情報セキュリティスペシャリスト合格から今回で丸 2 年経っていて、今回合格できなければ午前 I 免除が終わってしまうところだったんです。…]]></description>
            <content:encoded><![CDATA[<p>念願のネットワークスペシャリストに合格しました！
本当に念願で、というのも情報セキュリティスペシャリスト合格から今回で丸 2 年経っていて、今回合格できなければ午前 I 免除が終わってしまうところだったんです。</p>
<p>こちらが成績です。</p>
<p><img src="https://lh3.googleusercontent.com/pw/ACtC-3cJJG24p8M5wNBDBcGb4Bmc0njr2p2GzTuXB3z_7vwnC0FyW8ChvDTKkOH5SFB1fqS6jiFCkysXD53sSs5OOZ_67KRgHwIJ-vH_Pg6XSFM2JSZmDplgXH-WgtqPZRQ9qG9D7g59rYN7efbAoiJILXnnmA=w563-h351-no?authuser=0" alt="ネットワークスペシャリスト成績">
60 点が合格ラインなので、ゆとりを持った合格となりました！</p>
<p>2 年前の情報セキュリティスペシャリストの時は午前 I 免除、午前 II が 84 点、午後 I が 71 点、午後 II が 62 点と午後 II がギリギリでした。
しかし今回は、午前 I が同じく免除で、午前 II が 72 点、午後 I が 70 点、午後 II が 72 点でした。いずれも 7 割超です！
では今回のネットワークスペシャリストが余裕だったかと言うとそうではなく、今回も非常に厳しい戦いとなりました。</p>
<p>今後ネットワークスペシャリストに挑戦するみなさんの助けになるよう、自分の今回の勉強法を書いていきたいと思います。</p>
<h3>良い教本に出会う</h3>
<p>僕はネットワークスペシャリストに合格するのに 2 年かかりました。
長い間お付き合いする本ですから、教本選びは大切です。
僕は、定番のポケットスタディで勉強しました。「ポケットスタディ ネットワークスペシャリスト」で検索すれば出てくると思います。
コンパクトなのでいつでも持ち歩けますし、外出先でも気軽に読めて便利です。
ポケットスタディだけで基礎を完璧にはできないかもしれませんが、必要知識のリストアップとして効果的です。
不足知識や理解しきれない部分はネットで調べました。
ネットとポケットスタディで、常に勉強ができる状態を維持するところがポイントです。</p>
<p>また、過去問の解答の解説にはネスペの剣なども読みました。
問題・解答は無料で公式サイトからダウンロードできますが、解説は別に必要です。
ただ、解説本に手を出すのもおそらく基礎を身に付けてからの話だと思います。
それに、基礎を身につける間にネットでわからないところを検索していると、いつの間にか解説なしでも問題を読めるようになっているものです。
ちなみに僕は BGP や OSPF などがピンと来ないのでそこらへんは本に頼りました。</p>
<p>それから、これまた定番の「3 Minutes Networking(<a href="http://www5e.biglobe.ne.jp/aji/3min/">http://www5e.biglobe.ne.jp/aji/3min/</a>)」もオススメです。
ネットワーク技術をある程度体系的にまとめて教えてくれる貴重なサイトです。しかも 1 講座 3 分で読めるのだそうです(※読めません！)。
ぜひ読破に挑戦してみましょう！</p>
<h3>新しい技術を学ぶ</h3>
<p>データベーススペシャリストは、新しい技術はあまり出てきません。出てきて NoSQL くらいです。データベーススペシャリストは話のわかるヤツです。
けどネットワークスペシャリストはそんなの気にしません。
今回、午後 II では STUN や WebRTC が問題に登場しました。
WebSocket や、過去には OpenFlow も出ています。
2013 年なんて午後 II の問 2 が丸々 OpenFlow だったので、OpenFlow をノーチェックだった人は問 1 しか選択肢が無く非常に不利な戦いとなったはずです。
今こうしている間にも新しい技術はどんどん出現していますので、後学のためにも話題の新技術は怯まずぜひチェックしてゆきましょう。</p>
<h3>確実に基礎を固める</h3>
<p>上に書いたことと関連するのですが、新技術を学ぶことは、当然基礎を固めることから始まります。
新技術もおおむね基礎の上に成り立っています。既存の技術をパッケージした AJAX のような例もありますし、また問題によっては、わからない技術がちょこっとあったとしても基礎ができていれば解ける問題もあります。
ネットワークスペシャリスト試験はネットワーク技術に絞った試験…と言われる範囲は狭いと思われがちですが、実際の所、ネットワーク技術がクライアントからサーバ、バックボーン、セキュリティまでも出るので範囲は広いです。ホントに途方もない範囲です。
しかし、だいたいのネットワークは TCP/IP の上で動いているので TCP/IP さえ理解すれば問題文から解ける時もあります。
試験問題は意外にも親切丁寧に書かれていたりします。基礎を固めておくだけで、チャンスはぐっと広がります。
例えば今回受験した平成 28 年度から以下の問題です。</p>
<blockquote>
<p>迷惑メールの送信を防止する対策として、OP25B(Outbound Port 25
Blocking)のポリシでメールシステムを運用している。具体的には、自社が動的に割り当てた
IP
アドレスのホストから、自社のサービスネットワーク外のホストへの宛先ポート番号
25 の SMTP 通信を許可しないという運用上のルールを適用している。 (中略)B
社の PC から A 社のメールサーバへ SMTP
によるメール送信ができたとしても、そのメールサーバは A
社のドメイン以外への宛先へはメールを転送しない設定となっている。
この設定がないことによって生じる情報セキュリティ上のリスクを、25
字以内で答えよ (※平成 28 年度 ネットワークスペシャリスト試験午後 I
試験問題より引用・要約)</p>
</blockquote>
<p>これは「第三者中継」に関する問題です。今時当たり前すぎて見逃しがちな「第三者中継」、だからなのか随分親切な問題文です。
「第三者中継」という概念を知らなくとも、これだけ丁寧に説明されていれば、基礎をわかっていれば答えられるはずです。
※もちろんこれは問題文から必要な箇所だけ抜きだしたものなので簡単そうに見えますが実際は何ページもある問題文からヒントを見つけなければいけません！</p>
<p>ちなみに解答は以下の通りです。</p>
<blockquote>
<p>不正メールの踏み台にされてしまうリスク (※平成 28 年度
ネットワークスペシャリスト試験午後 I 試験解答例より引用)</p>
</blockquote>
<p>このように、基礎さえわかっていれば自力で解ける問題もあります。
それに基礎は実務では必須です。ぜひ幅広く身につけましょう。
iptables でルータを作ってみたり、Wireshark などで通信を覗いてみたりすると楽しいくて勉強にもなるのでおすすめです！</p>
<h3>過去問の解答例を学ぶ</h3>
<p>記述式の問題にはしばしば、なんて答えればいいか悩む問題があります。例えば同じく平成 28 年度から以下の問題です。</p>
<blockquote>
<p>ロードバランサは、通信の行きと戻りを同じ ISP
経由にするが、通信の行きと戻りが同じ ISP でない場合の問題を、社外から Web
サーバへのアクセスを例に、IP アドレスという用語を用いて 40
文字以内で述べよ。 (※平成 28 年度 ネットワークスペシャリスト試験午後 II
試験問題より引用・要約)</p>
</blockquote>
<p>さて、困りました。こんなこと聞かれては。
通信の行きと戻りで違う ISP でを使うと言われても、そんなことすればブラウザからホームページへアクセスしても、問い合わせしたところと全然違うところからレスポンスが横殴りで返ってくるわけです。
ESTABLISHED してないんですから、今時 NAPT やファイアーウォールでガチガチに守られている我々のブラウザには、戻りの通信は届きすらしなさそうです。
なんと答えればいいでしょうか？
「戻りの IP アドレスの通信がファイアーウォールで弾かれてしまう」でしょうか？
そもそも「戻りの通信の IP アドレスが ESTABLISHED していない」でしょうか？</p>
<p>解答を見てみましょう。</p>
<blockquote>
<p>応答が行きの宛先 IP アドレスとは異なる送信元 IP アドレスから戻る。 (※平成
28 年度 ネットワークスペシャリスト試験午後 II 試験解答例より引用)</p>
</blockquote>
<p>根本的！
そうなんです。解答に困ったら「で、実際のところなにが言いたいの？」というところを突き詰めてゆくと、自ずとシンプルな答えが出てくるはずです。
この問題は TCP/IP の知識があれば答えられますが、後半の問題は STUN も絡んできます。STUN ですよ！ワクワクしますよね？
ですがワクワクするからといって、例えば変に Skype 黎明期の苦労話などを知っていると「そもそも NAT 超えというのは〜〜」などと長々と講釈を書いてしまいそうになりますが、
それは心の中にそっと閉まっておくのが試験合格のため（そして普段の円滑な業務遂行のため）の秘訣です。
◯◯ 文字以内という解答に求められているレベル感を掴むためにも、過去問はぜひ 1 度解いてみましょう。なんていったって過去問は公式サイトからダウンロード無料です。</p>
<h3>心を強く持つ</h3>
<p>最後になりましたが！
諦めてはそこで試験終了です！
僕は過去に何度も試験中諦めそうになった問題を気合で解いてきました！そしてそのうち半分くらいは合格してました！
心を強く持って、挫けずにトライすることが大切です！
がんばりましょう！僕もがんばります！次は春はデータベーススペシャリスト、秋はシステムアーキテクトかもしくは IT ストラテジストを受ける予定です！</p>
<p>ネットワークスペシャリストに合格したという話でした！</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[hexoのテーマを変更した時に、テーマだけデプロイされない]]></title>
            <link>https://nishidemasami.github.io/posts/hexo-themes-error</link>
            <guid>https://nishidemasami.github.io/posts/hexo-themes-error</guid>
            <pubDate>Sun, 11 Dec 2016 14:04:03 GMT</pubDate>
            <description><![CDATA[このブログはHexoにて構築し、GitHub Pagesにて公開しています。先日、テーマを変更した際にテーマが正しく反映されず困ったので、今どうやって動いているかを覚え書きしておきます。…]]></description>
            <content:encoded><![CDATA[<p>このブログは<a href="https://hexo.io/">Hexo</a>にて構築し、<a href="https://pages.github.com/">GitHub Pages</a>にて公開しています。</p>
<p>先日、テーマを変更した際にテーマが正しく反映されず困ったので、今どうやって動いているかを覚え書きしておきます。</p>
<p>今回、ingenuous というテーマを利用したのですが、「hexo server」では正しく表示されるのに、確認後「hexo deploy -g」で GitHub Pages へデプロイするとレイアウトが崩れるという現象に見舞われました。</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292F">$ tree -L 2</span></span>
<span class="line"><span style="color: #0550AE">.</span></span>
<span class="line"><span style="color: #24292F">├── _config.yml</span></span>
<span class="line"><span style="color: #24292F">├── node_modules</span></span>
<span class="line"><span style="color: #24292F">│   └── (省略)</span></span>
<span class="line"><span style="color: #24292F">├── package.json</span></span>
<span class="line"><span style="color: #24292F">├── public</span></span>
<span class="line"><span style="color: #24292F">│   ├── 2016</span></span>
<span class="line"><span style="color: #24292F">│   ├── about-me</span></span>
<span class="line"><span style="color: #24292F">│   ├── archives</span></span>
<span class="line"><span style="color: #24292F">│   ├── atom.xml</span></span>
<span class="line"><span style="color: #24292F">│   ├── css</span></span>
<span class="line"><span style="color: #24292F">│   ├── fancybox</span></span>
<span class="line"><span style="color: #24292F">│   ├── index.html</span></span>
<span class="line"><span style="color: #24292F">│   ├── js</span></span>
<span class="line"><span style="color: #24292F">│   └── tags</span></span>
<span class="line"><span style="color: #24292F">├── scaffolds</span></span>
<span class="line"><span style="color: #24292F">│   └── (省略)</span></span>
<span class="line"><span style="color: #24292F">├── </span><span style="color: #0550AE">source</span></span>
<span class="line"><span style="color: #24292F">│   └── _posts</span></span>
<span class="line"><span style="color: #24292F">└── themes</span></span>
<span class="line"><span style="color: #24292F">    ├── ingenuous</span></span>
<span class="line"><span style="color: #24292F">    └── landscape</span></span></code></pre>
<p>この、css らへんがブラウザから取得できておらず、どうやら記事ファイルだけ書き換わってデプロイされ、css はデプロイされず放置されている現象が置きてるっぽかったです。
hexo deploy が public 内の更新を取得できていないのなら、全部消してしまえばいいじゃないということで、</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292F">hexo clean</span></span>
<span class="line"><span style="color: #24292F">hexo deploy -g</span></span></code></pre>
<p>で無事にレイアウトも含めてデプロイすることができました。
ちょっとネットで検索しても出てこなかったのでみなさまの助けになればという意味も含め覚え書きでした。</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[はじめまして]]></title>
            <link>https://nishidemasami.github.io/posts/hello-world</link>
            <guid>https://nishidemasami.github.io/posts/hello-world</guid>
            <pubDate>Thu, 30 Jun 2016 19:58:43 GMT</pubDate>
            <description><![CDATA[はじめての投稿です。]]></description>
            <content:encoded><![CDATA[<p>はじめての投稿です。
これから、なにか有益なことや無益なことを書いてゆこうと思います。
よろしくお願いします。</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Vimで暗号化]]></title>
            <link>https://nishidemasami.github.io/posts/vim-crypt</link>
            <guid>https://nishidemasami.github.io/posts/vim-crypt</guid>
            <pubDate>Sun, 04 Dec 2016 00:04:03 GMT</pubDate>
            <description><![CDATA[Vimで暗号化したいと思うこと、ありますよね。僕はあるので自分用にメモです。Vim で暗号化を行うには、次の方法が用意されています。:set cryptmethod=blowfishこの blowfish の他に zip や、環境によっては blowfish2 が用意されています。使えるならばセキュリティの面から考えて blowfish2 を使うべきでしょう。…]]></description>
            <content:encoded><![CDATA[<p>Vimで暗号化したいと思うこと、ありますよね。<br>
僕はあるので自分用にメモです。</p>
<p>Vim で暗号化を行うには、次の方法が用意されています。</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292F">:</span><span style="color: #CF222E">set</span><span style="color: #24292F"> </span><span style="color: #0550AE">cryptmethod</span><span style="color: #CF222E">=</span><span style="color: #24292F">blowfish</span></span></code></pre>
<p>この blowfish の他に zip や、環境によっては blowfish2 が用意されています。使えるならばセキュリティの面から考えて blowfish2 を使うべきでしょう。
しかしです。本当にセキュリティの面から考えると、blowfish の発展型である Twofish<a href="http://vim.1045645.n5.nabble.com/Blowfish2-td5726043.html">※注：blowfish2 は Twofish ではありません</a>や AES 等の方がより良い選択肢なはずです。
今回、Vim の暗号化機能に頼らず、自前で openssl を用いて AES にて暗号化・復号をしてみたいと思います。</p>
<p>通常 vim で文章を保存するのには</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292F">:w</span></span></code></pre>
<p>を行いますが、出力先を標準入力としてコマンドを実行することもできます。
すなわち、openssl へ以下のように渡せば良いわけです。</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292F">:w </span><span style="color: #CF222E">!</span><span style="color: #24292F">openssl aes-</span><span style="color: #0550AE">256</span><span style="color: #24292F">-cbc -out </span><span style="color: #CF222E">~</span><span style="color: #24292F">/vim_enc_test_file</span></span></code></pre>
<p>2 回パスワードを聞かれるため、それを入力すれば指定した場所(この場合は~/vim_enc_test_file)へ書き込まれます。</p>
<p>復号する際は、Vim から</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292F">:r </span><span style="color: #CF222E">!</span><span style="color: #24292F">openssl aes-</span><span style="color: #0550AE">256</span><span style="color: #24292F">-cbc -d -</span><span style="color: #CF222E">in</span><span style="color: #24292F"> </span><span style="color: #CF222E">~</span><span style="color: #24292F">/vim_enc_test_file</span></span></code></pre>
<p>とするか、もしくはコマンドラインから</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292F">cat </span><span style="color: #CF222E">~</span><span style="color: #24292F">/vim_enc_test_file </span><span style="color: #CF222E">|</span><span style="color: #24292F"> openssl aes-256-cbc -d </span><span style="color: #CF222E">|</span><span style="color: #24292F"> vim -</span></span></code></pre>
<p>とします。</p>
<p>ただ、非常にイケてないことにこの書き込まれたファイルを text して見てみると、</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292f">00000000  53 61 6c 74 65 64 5f 5f  04 12 0d 0c 9e e8 74 aa  |Salted__......t.|</span></span>
<span class="line"><span style="color: #24292f">00000010  f6 60 00 e7 d1 60 7b 64  19 23 a5 ad 7f 4d 62 19  |.`...`{d.#...Mb.|</span></span>
<span class="line"><span style="color: #24292f"></span></span></code></pre>
<p>このように、ファイルの頭に「Salted__」の文字列が入るため、openssl にて暗号化したことはわかる人にはバレバレです。
もっとも、Vim の暗号化機能でも以下のように、</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292f">00000000  56 69 6d 43 72 79 70 74  7e 30 32 21 de 8b b9 db  |VimCrypt~02!....|</span></span>
<span class="line"><span style="color: #24292f">00000010  03 c7 6b 23 86 e1 25 79  e7 ee 6c 5e 27 9d eb 58  |..k#..%y..l^'..X|</span></span>
<span class="line"><span style="color: #24292f">00000020  f8                                                |.|</span></span></code></pre>
<p>「VimCrypt~02!」という文字列が入るのでバレバレなのですが。</p>
<p>このバレバレなのをどうにかしたい時も、openssl でやる場合は簡単です。
以下のように dd で 8 バイトスキップすれば「Salted__」の文字列を消すことができます。</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292F">:w </span><span style="color: #CF222E">!</span><span style="color: #24292F">openssl aes-</span><span style="color: #0550AE">256</span><span style="color: #24292F">-cbc | dd ibs</span><span style="color: #CF222E">=</span><span style="color: #0550AE">8</span><span style="color: #24292F"> </span><span style="color: #CF222E">skip=</span><span style="color: #0550AE">1</span><span style="color: #24292F"> of</span><span style="color: #CF222E">=~</span><span style="color: #24292F">/vim_enc_test_file</span></span></code></pre>
<p>そうすると、以下のようなファイルが出力されます。</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292f">00000000  92 3a 22 ce 3e 26 5a cf  26 6c da e5 3c ec e9 c6  |.:".>&#x26;Z.&#x26;l..&#x3C;...|</span></span>
<span class="line"><span style="color: #24292f">00000010  ad 3b c1 47 13 d6 e9 d2                           |.;.G....|</span></span></code></pre>
<p>当然、一見ランダムですから、ただの乱数ファイルにも見えますし、たとえ暗号化されたファイルだとわかったとしてもいったいなんのソフトで暗号化されたのかもわかりません。</p>
<p>読み込みは以下のように行います。</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292F">:r </span><span style="color: #CF222E">!</span><span style="color: #24292F">cat &#x3C;(echo -ne Salted__) </span><span style="color: #CF222E">~</span><span style="color: #24292F">/vim_enc_test_file | openssl aes-</span><span style="color: #0550AE">256</span><span style="color: #24292F">-cbc -d</span></span></code></pre>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292F">cat </span><span style="color: #0A3069">&#x3C;(echo -ne Salted__)</span><span style="color: #24292F"> </span><span style="color: #CF222E">~</span><span style="color: #24292F">/vim_enc_test_file </span><span style="color: #CF222E">|</span><span style="color: #24292F"> openssl aes-256-cbc -d </span><span style="color: #CF222E">|</span><span style="color: #24292F"> vim -</span></span></code></pre>
<p>ちなみに圧縮もしてみましょう。書き込みは以下の通りです。</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292F">:w </span><span style="color: #CF222E">!</span><span style="color: #24292F">bzip2 | openssl aes-</span><span style="color: #0550AE">256</span><span style="color: #24292F">-cbc | dd ibs</span><span style="color: #CF222E">=</span><span style="color: #0550AE">8</span><span style="color: #24292F"> </span><span style="color: #CF222E">skip=</span><span style="color: #0550AE">1</span><span style="color: #24292F"> of</span><span style="color: #CF222E">=~</span><span style="color: #24292F">/vim_enc_test_file</span></span></code></pre>
<p>読み込みは以下の通りです。</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292F">:r </span><span style="color: #CF222E">!</span><span style="color: #24292F">cat &#x3C;(echo -ne Salted__) </span><span style="color: #CF222E">~</span><span style="color: #24292F">/vim_enc_test_file | openssl aes-</span><span style="color: #0550AE">256</span><span style="color: #24292F">-cbc -d | bzcat</span></span></code></pre>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292F">cat </span><span style="color: #0A3069">&#x3C;(echo -ne Salted__)</span><span style="color: #24292F"> </span><span style="color: #CF222E">~</span><span style="color: #24292F">/vim_enc_test_file </span><span style="color: #CF222E">|</span><span style="color: #24292F"> openssl aes-256-cbc -d </span><span style="color: #CF222E">|</span><span style="color: #24292F"> bzcat </span><span style="color: #CF222E">|</span><span style="color: #24292F"> vim -</span></span></code></pre>
<p>さて、最後にあとひと押しです。
「aes-256-cbc」はパスワードが間違っている場合にエラーを出します。CentOS6.8 の場合は以下のエラーとなります。</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292f">digital envelope routines:EVP_DecryptFinal_ex:wrong final block length</span></span></code></pre>
<p>これは、総当りで復号化を試みるクラッカーにとっては助けにもなってしまいます。なぜなら、パスワードが間違っていることがわかるためです。
Mac 等では使えませんが、「aes-256-cbc」の代わりに「aes-256-ofb」を使うことで解決されます。
「aes-256-ofb」なら、パスワードが合っているのか間違っているのすらわかりません。
書き込みは以下の通りです。</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292F">:w </span><span style="color: #CF222E">!</span><span style="color: #24292F">bzip2 | openssl aes-</span><span style="color: #0550AE">256</span><span style="color: #24292F">-ofb | dd ibs</span><span style="color: #CF222E">=</span><span style="color: #0550AE">8</span><span style="color: #24292F"> </span><span style="color: #CF222E">skip=</span><span style="color: #0550AE">1</span><span style="color: #24292F"> of</span><span style="color: #CF222E">=~</span><span style="color: #24292F">/vim_enc_test_file</span></span></code></pre>
<p>読み込みは以下の通りです。</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292F">:r </span><span style="color: #CF222E">!</span><span style="color: #24292F">cat &#x3C;(echo -ne Salted__) </span><span style="color: #CF222E">~</span><span style="color: #24292F">/vim_enc_test_file | openssl aes-</span><span style="color: #0550AE">256</span><span style="color: #24292F">-ofb -d | bzcat</span></span></code></pre>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292F">cat </span><span style="color: #0A3069">&#x3C;(echo -ne Salted__)</span><span style="color: #24292F"> </span><span style="color: #CF222E">~</span><span style="color: #24292F">/vim_enc_test_file </span><span style="color: #CF222E">|</span><span style="color: #24292F"> openssl aes-256-ofb -d </span><span style="color: #CF222E">|</span><span style="color: #24292F"> bzcat </span><span style="color: #CF222E">|</span><span style="color: #24292F"> vim -</span></span></code></pre>
<p>パスワードが合っているのか間違っているのすらわからないというのは、つまりあなたのパスワードを突破しようとしても、パスワード 1 つ 1 つを確認しなければならないということです。
人間には不可能ですし、機械的に判定しようにも非常に手をこまねくはずです。
環境が許せばぜひやってみて下さい。</p>
<p>Vim と openssl で暗号化・復号をしようというお話でした。
みなさんもぜひやってみて下さい。</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[JAVAで組み合わせ]]></title>
            <link>https://nishidemasami.github.io/posts/java-combination</link>
            <guid>https://nishidemasami.github.io/posts/java-combination</guid>
            <pubDate>Sat, 26 Nov 2016 00:04:03 GMT</pubDate>
            <description><![CDATA[JAVAで組み合わせを作成したいと思うこと、ありますよね。僕はあるので自分用にメモです。Ruby では組み合わせを作成することができるArray#combinationが用意されています。これを使えば、例えば下記のように…]]></description>
            <content:encoded><![CDATA[<p>JAVAで組み合わせを作成したいと思うこと、ありますよね。<br>
僕はあるので自分用にメモです。</p>
<p>Ruby では組み合わせを作成することができる<a href="https://docs.ruby-lang.org/ja/latest/method/Array/i/combination.html">Array#combination</a>が用意されています。<br>
これを使えば、例えば下記のように</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #CF222E">require</span><span style="color: #24292F"> </span><span style="color: #0A3069">'json'</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292F">jsonstr </span><span style="color: #0A3069">= &#x3C;&#x3C;JSON</span></span>
<span class="line"><span style="color: #0A3069">[</span></span>
<span class="line"><span style="color: #0A3069">  {</span></span>
<span class="line"><span style="color: #0A3069">    "price": 432,</span></span>
<span class="line"><span style="color: #0A3069">    "name": "hoge"</span></span>
<span class="line"><span style="color: #0A3069">  },</span></span>
<span class="line"><span style="color: #0A3069">  {</span></span>
<span class="line"><span style="color: #0A3069">    "price": 531,</span></span>
<span class="line"><span style="color: #0A3069">    "name": "fuga"</span></span>
<span class="line"><span style="color: #0A3069">  },</span></span>
<span class="line"><span style="color: #0A3069">  {</span></span>
<span class="line"><span style="color: #0A3069">    "price": 568,</span></span>
<span class="line"><span style="color: #0A3069">    "name": "piyo"</span></span>
<span class="line"><span style="color: #0A3069">  }</span></span>
<span class="line"><span style="color: #0A3069">]</span></span>
<span class="line"><span style="color: #0A3069">JSON</span></span>
<span class="line"></span>
<span class="line"><span style="color: #0550AE">p</span><span style="color: #24292F"> </span><span style="color: #0550AE">JSON</span><span style="color: #24292F">.</span><span style="color: #0550AE">load</span><span style="color: #24292F">(jsonstr)</span></span>
<span class="line"><span style="color: #24292F">    .combination(</span><span style="color: #0550AE">2</span><span style="color: #24292F">)</span></span>
<span class="line"><span style="color: #24292F">    .to_a</span></span>
<span class="line"><span style="color: #24292F">    .</span><span style="color: #0550AE">select</span><span style="color: #24292F">(</span><span style="color: #CF222E">&#x26;</span><span style="color: #0550AE">-></span><span style="color: #24292F">x{x.reduce(</span><span style="color: #CF222E">&#x26;</span><span style="color: #0550AE">-></span><span style="color: #24292F">x,y{x[</span><span style="color: #0A3069">"price"</span><span style="color: #24292F">] </span><span style="color: #CF222E">+</span><span style="color: #24292F"> y[</span><span style="color: #0A3069">"price"</span><span style="color: #24292F">]}) </span><span style="color: #CF222E">==</span><span style="color: #24292F"> </span><span style="color: #0550AE">1000</span><span style="color: #24292F">})</span></span></code></pre>
<p>こうすれば、JSON の商品リストから price の合計が 1000 になるもの(hoge と piyo)を抜き出してくれます。</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292F">[[{</span><span style="color: #0A3069">"price"</span><span style="color: #24292F">=></span><span style="color: #0550AE">432</span><span style="color: #24292F">, </span><span style="color: #0A3069">"name"</span><span style="color: #24292F">=></span><span style="color: #0A3069">"hoge"</span><span style="color: #24292F">}, {</span><span style="color: #0A3069">"price"</span><span style="color: #24292F">=></span><span style="color: #0550AE">568</span><span style="color: #24292F">, </span><span style="color: #0A3069">"name"</span><span style="color: #24292F">=></span><span style="color: #0A3069">"piyo"</span><span style="color: #24292F">}]]</span></span></code></pre>
<p>非常にイージー。</p>
<p>ところが、combination は Java には無いんですよね。<br>
これを Java で書きたい時、どうすればいいのか悩みました。<br>
今回は再帰的なやりかたでやってみました。</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292F"> </span><span style="color: #CF222E">*</span><span style="color: #24292F"> 組み合わせを返す</span></span>
<span class="line"><span style="color: #24292F"> </span><span style="color: #CF222E">*</span></span>
<span class="line"><span style="color: #24292F"> </span><span style="color: #CF222E">*</span><span style="color: #24292F"> @</span><span style="color: #CF222E">param</span><span style="color: #24292F"> parameter 組み合わせを作成するリスト</span></span>
<span class="line"><span style="color: #24292F"> </span><span style="color: #CF222E">*</span><span style="color: #24292F"> @</span><span style="color: #CF222E">param</span><span style="color: #24292F"> combinationCount 組み合わせの個数</span></span>
<span class="line"><span style="color: #24292F"> </span><span style="color: #CF222E">*</span><span style="color: #24292F"> @</span><span style="color: #CF222E">return</span><span style="color: #24292F"> 組み合わせのリスト</span></span>
<span class="line"><span style="color: #24292F"> </span><span style="color: #CF222E">*/</span></span>
<span class="line"><span style="color: #CF222E">private</span><span style="color: #24292F"> </span><span style="color: #CF222E">static</span><span style="color: #24292F"> </span><span style="color: #CF222E">final</span><span style="color: #24292F"> </span><span style="color: #CF222E">&#x3C;</span><span style="color: #24292F">E</span><span style="color: #CF222E">></span><span style="color: #24292F"> List</span><span style="color: #CF222E">&#x3C;</span><span style="color: #24292F">List</span><span style="color: #CF222E">&#x3C;</span><span style="color: #24292F">E</span><span style="color: #CF222E">>></span><span style="color: #24292F"> </span><span style="color: #8250DF">combination</span><span style="color: #24292F">(</span></span>
<span class="line"><span style="color: #24292F">  </span><span style="color: #CF222E">final</span><span style="color: #24292F"> List</span><span style="color: #CF222E">&#x3C;</span><span style="color: #24292F">E</span><span style="color: #CF222E">></span><span style="color: #24292F"> parameter,</span></span>
<span class="line"><span style="color: #24292F">  </span><span style="color: #CF222E">final</span><span style="color: #24292F"> </span><span style="color: #CF222E">long</span><span style="color: #24292F"> combinationCount) {</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292F">  </span><span style="color: #CF222E">final</span><span style="color: #24292F"> </span><span style="color: #CF222E">int</span><span style="color: #953800"> </span><span style="color: #24292F">parameterSize</span><span style="color: #953800"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> parameter.</span><span style="color: #8250DF">size</span><span style="color: #24292F">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292F">  </span><span style="color: #CF222E">if</span><span style="color: #24292F"> (parameterSize </span><span style="color: #CF222E">&#x3C;</span><span style="color: #24292F"> combinationCount) {</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #CF222E">throw</span><span style="color: #24292F"> </span><span style="color: #CF222E">new</span><span style="color: #24292F"> </span><span style="color: #8250DF">IllegalArgumentException</span><span style="color: #24292F">(</span><span style="color: #0A3069">"リストの要素数が組み合わせ個数より少ないです。"</span><span style="color: #24292F">);</span></span>
<span class="line"><span style="color: #24292F">  } </span><span style="color: #CF222E">else</span><span style="color: #24292F"> </span><span style="color: #CF222E">if</span><span style="color: #24292F"> (combinationCount </span><span style="color: #CF222E">&#x3C;=</span><span style="color: #24292F"> </span><span style="color: #0550AE">0</span><span style="color: #24292F">) {</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #CF222E">throw</span><span style="color: #24292F"> </span><span style="color: #CF222E">new</span><span style="color: #24292F"> </span><span style="color: #8250DF">IllegalArgumentException</span><span style="color: #24292F">(</span><span style="color: #0A3069">"組み合わせ個数が不正です。"</span><span style="color: #24292F">);</span></span>
<span class="line"><span style="color: #24292F">  } </span><span style="color: #CF222E">else</span><span style="color: #24292F"> </span><span style="color: #CF222E">if</span><span style="color: #24292F"> (combinationCount </span><span style="color: #CF222E">==</span><span style="color: #24292F"> </span><span style="color: #0550AE">1</span><span style="color: #24292F">) {</span></span>
<span class="line"><span style="color: #24292F">    List</span><span style="color: #953800">&#x3C;</span><span style="color: #24292F">List</span><span style="color: #953800">&#x3C;</span><span style="color: #CF222E">E</span><span style="color: #953800">>> </span><span style="color: #24292F">result</span><span style="color: #953800"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> </span><span style="color: #CF222E">new</span><span style="color: #24292F"> LinkedList&#x3C;List&#x3C;</span><span style="color: #CF222E">E</span><span style="color: #24292F">>>();</span></span>
<span class="line"><span style="color: #24292F">    parameter.</span><span style="color: #8250DF">forEach</span><span style="color: #24292F">(x </span><span style="color: #CF222E">-></span><span style="color: #24292F"> {</span></span>
<span class="line"><span style="color: #24292F">      List</span><span style="color: #953800">&#x3C;</span><span style="color: #CF222E">E</span><span style="color: #953800">> </span><span style="color: #24292F">resultWork</span><span style="color: #953800"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> </span><span style="color: #CF222E">new</span><span style="color: #24292F"> LinkedList&#x3C;</span><span style="color: #CF222E">E</span><span style="color: #24292F">>();</span></span>
<span class="line"><span style="color: #24292F">      resultWork.</span><span style="color: #8250DF">add</span><span style="color: #24292F">(x);</span></span>
<span class="line"><span style="color: #24292F">      result.</span><span style="color: #8250DF">add</span><span style="color: #24292F">(resultWork);</span></span>
<span class="line"><span style="color: #24292F">    });</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #CF222E">return</span><span style="color: #24292F"> result;</span></span>
<span class="line"><span style="color: #24292F">  } </span><span style="color: #CF222E">else</span><span style="color: #24292F"> {</span></span>
<span class="line"><span style="color: #24292F">    List</span><span style="color: #953800">&#x3C;</span><span style="color: #24292F">List</span><span style="color: #953800">&#x3C;</span><span style="color: #CF222E">E</span><span style="color: #953800">>> </span><span style="color: #24292F">result</span><span style="color: #953800"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> </span><span style="color: #CF222E">new</span><span style="color: #24292F"> LinkedList&#x3C;List&#x3C;</span><span style="color: #CF222E">E</span><span style="color: #24292F">>>();</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #CF222E">for</span><span style="color: #24292F"> (</span><span style="color: #CF222E">int</span><span style="color: #953800"> </span><span style="color: #24292F">i</span><span style="color: #953800"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> </span><span style="color: #0550AE">0</span><span style="color: #24292F">; i </span><span style="color: #CF222E">&#x3C;</span><span style="color: #24292F"> parameterSize </span><span style="color: #CF222E">-</span><span style="color: #24292F"> combinationCount </span><span style="color: #CF222E">+</span><span style="color: #24292F"> </span><span style="color: #0550AE">1</span><span style="color: #24292F">; i</span><span style="color: #CF222E">++</span><span style="color: #24292F">) {</span></span>
<span class="line"><span style="color: #24292F">      List</span><span style="color: #953800">&#x3C;</span><span style="color: #24292F">List</span><span style="color: #953800">&#x3C;</span><span style="color: #CF222E">E</span><span style="color: #953800">>> </span><span style="color: #24292F">resultWork</span><span style="color: #953800"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> </span><span style="color: #8250DF">combination</span><span style="color: #24292F">(</span></span>
<span class="line"><span style="color: #24292F">        parameter.</span><span style="color: #8250DF">subList</span><span style="color: #24292F">(</span><span style="color: #0550AE">1</span><span style="color: #24292F"> </span><span style="color: #CF222E">+</span><span style="color: #24292F"> i, parameterSize),</span></span>
<span class="line"><span style="color: #24292F">        combinationCount </span><span style="color: #CF222E">-</span><span style="color: #24292F"> </span><span style="color: #0550AE">1</span><span style="color: #24292F">);</span></span>
<span class="line"><span style="color: #24292F">      </span><span style="color: #CF222E">for</span><span style="color: #24292F"> (List</span><span style="color: #953800">&#x3C;</span><span style="color: #CF222E">E</span><span style="color: #953800">> </span><span style="color: #24292F">resultWorkForEach</span><span style="color: #953800"> </span><span style="color: #CF222E">:</span><span style="color: #24292F"> resultWork) {</span></span>
<span class="line"><span style="color: #24292F">        resultWorkForEach.</span><span style="color: #8250DF">add</span><span style="color: #24292F">(</span><span style="color: #0550AE">0</span><span style="color: #24292F">, parameter.</span><span style="color: #8250DF">get</span><span style="color: #24292F">(i));</span></span>
<span class="line"><span style="color: #24292F">      }</span></span>
<span class="line"><span style="color: #24292F">      result.</span><span style="color: #8250DF">addAll</span><span style="color: #24292F">(resultWork);</span></span>
<span class="line"><span style="color: #24292F">    }</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #CF222E">return</span><span style="color: #24292F"> result;</span></span>
<span class="line"><span style="color: #24292F">  }</span></span>
<span class="line"><span style="color: #24292F">}</span></span></code></pre>
<p>LinkedList を使っているのは先頭追加があるためです。<br>
ちょっと見た目がヘビーですが、使えます。<br>
こんな感じです。</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #CF222E">class</span><span style="color: #24292F"> </span><span style="color: #953800">Item</span><span style="color: #24292F"> {</span></span>
<span class="line"><span style="color: #24292F">  </span><span style="color: #CF222E">public</span><span style="color: #24292F"> </span><span style="color: #8250DF">Item</span><span style="color: #24292F">(</span><span style="color: #CF222E">int</span><span style="color: #24292F"> </span><span style="color: #953800">price</span><span style="color: #24292F">, String </span><span style="color: #953800">name</span><span style="color: #24292F">){</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #0550AE">this</span><span style="color: #24292F">.price </span><span style="color: #CF222E">=</span><span style="color: #24292F"> price;</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #0550AE">this</span><span style="color: #24292F">.name </span><span style="color: #CF222E">=</span><span style="color: #24292F"> name;</span></span>
<span class="line"><span style="color: #24292F">  }</span></span>
<span class="line"><span style="color: #24292F">  </span><span style="color: #CF222E">int</span><span style="color: #953800"> </span><span style="color: #24292F">price;</span></span>
<span class="line"><span style="color: #24292F">  String</span><span style="color: #953800"> </span><span style="color: #24292F">name;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292F">  @</span><span style="color: #CF222E">Override</span></span>
<span class="line"><span style="color: #24292F">  </span><span style="color: #CF222E">public</span><span style="color: #24292F"> String </span><span style="color: #8250DF">toString</span><span style="color: #24292F">() {</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #CF222E">return</span><span style="color: #24292F"> name </span><span style="color: #CF222E">+</span><span style="color: #24292F"> </span><span style="color: #0A3069">":"</span><span style="color: #24292F"> </span><span style="color: #CF222E">+</span><span style="color: #24292F"> price </span><span style="color: #CF222E">+</span><span style="color: #24292F"> </span><span style="color: #0A3069">"円"</span><span style="color: #24292F">;</span></span>
<span class="line"><span style="color: #24292F">  }</span></span>
<span class="line"><span style="color: #24292F">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #CF222E">class</span><span style="color: #24292F"> </span><span style="color: #953800">Main</span><span style="color: #24292F"> {</span></span>
<span class="line"><span style="color: #24292F">  </span><span style="color: #CF222E">public</span><span style="color: #24292F"> </span><span style="color: #CF222E">static</span><span style="color: #24292F"> </span><span style="color: #CF222E">void</span><span style="color: #24292F"> </span><span style="color: #8250DF">main</span><span style="color: #24292F">(</span><span style="color: #CF222E">String</span><span style="color: #24292F">[] </span><span style="color: #953800">args</span><span style="color: #24292F">) {</span></span>
<span class="line"><span style="color: #24292F">    List</span><span style="color: #953800">&#x3C;</span><span style="color: #CF222E">Item</span><span style="color: #953800">> </span><span style="color: #24292F">itemList</span><span style="color: #953800"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> Arrays.</span><span style="color: #8250DF">asList</span><span style="color: #24292F">(</span><span style="color: #CF222E">new</span><span style="color: #24292F"> </span><span style="color: #CF222E">Item</span><span style="color: #24292F">[]{</span></span>
<span class="line"><span style="color: #24292F">      </span><span style="color: #CF222E">new</span><span style="color: #24292F"> </span><span style="color: #8250DF">Item</span><span style="color: #24292F">(</span><span style="color: #0550AE">432</span><span style="color: #24292F">, </span><span style="color: #0A3069">"hoge"</span><span style="color: #24292F">),</span></span>
<span class="line"><span style="color: #24292F">      </span><span style="color: #CF222E">new</span><span style="color: #24292F"> </span><span style="color: #8250DF">Item</span><span style="color: #24292F">(</span><span style="color: #0550AE">531</span><span style="color: #24292F">, </span><span style="color: #0A3069">"fuga"</span><span style="color: #24292F">),</span></span>
<span class="line"><span style="color: #24292F">      </span><span style="color: #CF222E">new</span><span style="color: #24292F"> </span><span style="color: #8250DF">Item</span><span style="color: #24292F">(</span><span style="color: #0550AE">568</span><span style="color: #24292F">, </span><span style="color: #0A3069">"piyo"</span><span style="color: #24292F">),</span></span>
<span class="line"><span style="color: #24292F">      </span><span style="color: #CF222E">new</span><span style="color: #24292F"> </span><span style="color: #8250DF">Item</span><span style="color: #24292F">(</span><span style="color: #0550AE">999</span><span style="color: #24292F">, </span><span style="color: #0A3069">"meta"</span><span style="color: #24292F">)</span></span>
<span class="line"><span style="color: #24292F">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #8250DF">combination</span><span style="color: #24292F">(itemList,</span><span style="color: #0550AE">3</span><span style="color: #24292F">)</span></span>
<span class="line"><span style="color: #24292F">      .</span><span style="color: #8250DF">stream</span><span style="color: #24292F">()</span></span>
<span class="line"><span style="color: #24292F">      .</span><span style="color: #8250DF">forEach</span><span style="color: #24292F">(x</span><span style="color: #CF222E">-></span><span style="color: #24292F">{System.out.</span><span style="color: #8250DF">println</span><span style="color: #24292F">(Arrays.</span><span style="color: #8250DF">toString</span><span style="color: #24292F">(x.</span><span style="color: #8250DF">toArray</span><span style="color: #24292F">()));});</span></span>
<span class="line"><span style="color: #24292F">  }</span></span>
<span class="line"><span style="color: #24292F">}</span></span></code></pre>
<p>こうなります。</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292F">[</span><span style="color: #82071E">hoge:</span><span style="color: #0550AE">432</span><span style="color: #82071E">円</span><span style="color: #24292F">, </span><span style="color: #82071E">fuga:</span><span style="color: #0550AE">531</span><span style="color: #82071E">円</span><span style="color: #24292F">, </span><span style="color: #82071E">piyo:</span><span style="color: #0550AE">568</span><span style="color: #82071E">円</span><span style="color: #24292F">]</span></span>
<span class="line"><span style="color: #24292F">[</span><span style="color: #82071E">hoge:</span><span style="color: #0550AE">432</span><span style="color: #82071E">円</span><span style="color: #24292F">, </span><span style="color: #82071E">fuga:</span><span style="color: #0550AE">531</span><span style="color: #82071E">円</span><span style="color: #24292F">, </span><span style="color: #82071E">meta:</span><span style="color: #0550AE">999</span><span style="color: #82071E">円</span><span style="color: #24292F">]</span></span>
<span class="line"><span style="color: #24292F">[</span><span style="color: #82071E">hoge:</span><span style="color: #0550AE">432</span><span style="color: #82071E">円</span><span style="color: #24292F">, </span><span style="color: #82071E">piyo:</span><span style="color: #0550AE">568</span><span style="color: #82071E">円</span><span style="color: #24292F">, </span><span style="color: #82071E">meta:</span><span style="color: #0550AE">999</span><span style="color: #82071E">円</span><span style="color: #24292F">]</span></span>
<span class="line"><span style="color: #24292F">[</span><span style="color: #82071E">fuga:</span><span style="color: #0550AE">531</span><span style="color: #82071E">円</span><span style="color: #24292F">, </span><span style="color: #82071E">piyo:</span><span style="color: #0550AE">568</span><span style="color: #82071E">円</span><span style="color: #24292F">, </span><span style="color: #82071E">meta:</span><span style="color: #0550AE">999</span><span style="color: #82071E">円</span><span style="color: #24292F">]</span></span></code></pre>
<p>Ruby の例題と同じようにこうすると、</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #8250DF">combination</span><span style="color: #24292F">(itemList,</span><span style="color: #0550AE">2</span><span style="color: #24292F">)</span></span>
<span class="line"><span style="color: #24292F">  .</span><span style="color: #8250DF">stream</span><span style="color: #24292F">()</span></span>
<span class="line"><span style="color: #24292F">  .</span><span style="color: #8250DF">filter</span><span style="color: #24292F">(x</span><span style="color: #CF222E">-></span><span style="color: #24292F"> x.</span><span style="color: #8250DF">stream</span><span style="color: #24292F">().</span><span style="color: #8250DF">map</span><span style="color: #24292F">(y </span><span style="color: #CF222E">-></span><span style="color: #24292F"> y.price).</span><span style="color: #8250DF">reduce</span><span style="color: #24292F">((y, z)</span><span style="color: #CF222E">-></span><span style="color: #24292F"> y </span><span style="color: #CF222E">+</span><span style="color: #24292F"> z).</span><span style="color: #8250DF">get</span><span style="color: #24292F">() </span><span style="color: #CF222E">==</span><span style="color: #24292F"> </span><span style="color: #0550AE">1000</span><span style="color: #24292F">)</span></span>
<span class="line"><span style="color: #24292F">  .</span><span style="color: #8250DF">forEach</span><span style="color: #24292F">(x</span><span style="color: #CF222E">-></span><span style="color: #24292F">{System.out.</span><span style="color: #8250DF">println</span><span style="color: #24292F">(Arrays.</span><span style="color: #8250DF">toString</span><span style="color: #24292F">(x.</span><span style="color: #8250DF">toArray</span><span style="color: #24292F">()));});</span></span></code></pre>
<p>こうなります。</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292F">[</span><span style="color: #82071E">hoge:</span><span style="color: #0550AE">432</span><span style="color: #82071E">円</span><span style="color: #24292F">, </span><span style="color: #82071E">piyo:</span><span style="color: #0550AE">568</span><span style="color: #82071E">円</span><span style="color: #24292F">]</span></span></code></pre>
<p>java8 の stream なのに遅延評価が役に立たないのは、Ruby も combination を<a href="https://docs.ruby-lang.org/ja/latest/class/Enumerator=3a=3aLazy.html">Enumerator::Lazy</a>で使えないのと一緒ですね。<br>
java8 は遅延評価がデフォルトとなっているので、気軽に limit(1)などで一瞬で返ってくるつもりでいたら combination 部分が延々返ってこない…なんてことが発生しないようになのかもしれません。</p>
<p>Ruby で使えた combination が無くて困った話でした。</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[RustでFizzBuzzを書く]]></title>
            <link>https://nishidemasami.github.io/posts/rust-fizzbuzz</link>
            <guid>https://nishidemasami.github.io/posts/rust-fizzbuzz</guid>
            <pubDate>Fri, 30 Dec 2022 19:58:43 GMT</pubDate>
            <description><![CDATA[RustでFizzBuzzを書いてみたいと思うこと、ありますよね。僕はあるので自分用にメモです。]]></description>
            <content:encoded><![CDATA[<p>RustでFizzBuzzを書いてみたいと思うこと、ありますよね。<br>
僕はあるので自分用にメモです。</p>
<p>なお、この記事を書くにあたって<a target="_blank" href="https://www.amazon.co.jp/%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0Rust-%E7%AC%AC2%E7%89%88-Jim-Blandy/dp/4873119782?__mk_ja_JP=%E3%82%AB%E3%82%BF%E3%82%AB%E3%83%8A&crid=16SB3SPXD9LVL&keywords=rust&qid=1672662058&sprefix=rust+%2Caps%2C261&sr=8-4&linkCode=ll1&tag=nishidemasami-22&linkId=5f2948f4e335959907e6a8b8e22b859d&language=ja_JP&ref_=as_li_ss_tl" rel="noreferrer" >プログラミングRust 第2版</a>を参考にしました。</p>
<p>とりあえず最初に結論を書いておきます。</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #CF222E">use</span><span style="color: #24292F"> </span><span style="color: #953800">num</span><span style="color: #CF222E">::</span><span style="color: #953800">Zero</span><span style="color: #24292F">;</span></span>
<span class="line"><span style="color: #CF222E">use</span><span style="color: #24292F"> </span><span style="color: #953800">std</span><span style="color: #CF222E">::</span><span style="color: #24292F">fmt;</span></span>
<span class="line"><span style="color: #CF222E">use</span><span style="color: #24292F"> </span><span style="color: #953800">std</span><span style="color: #CF222E">::</span><span style="color: #953800">ops</span><span style="color: #CF222E">::</span><span style="color: #953800">Rem</span><span style="color: #24292F">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #CF222E">pub</span><span style="color: #24292F"> </span><span style="color: #CF222E">enum</span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #24292F"> {</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #953800">Fizz</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #953800">Buzz</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #953800">FizzBuzz</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #8250DF">Number</span><span style="color: #24292F">(</span><span style="color: #953800">String</span><span style="color: #24292F">),</span></span>
<span class="line"><span style="color: #24292F">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #CF222E">impl</span><span style="color: #24292F"> </span><span style="color: #953800">fmt</span><span style="color: #CF222E">::</span><span style="color: #953800">Display</span><span style="color: #24292F"> </span><span style="color: #CF222E">for</span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #24292F"> {</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #CF222E">fn</span><span style="color: #24292F"> </span><span style="color: #8250DF">fmt</span><span style="color: #24292F">(</span><span style="color: #CF222E">&#x26;</span><span style="color: #0550AE">self</span><span style="color: #24292F">, f</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #CF222E">&#x26;mut</span><span style="color: #24292F"> </span><span style="color: #953800">fmt</span><span style="color: #CF222E">::</span><span style="color: #953800">Formatter</span><span style="color: #24292F">) </span><span style="color: #CF222E">-></span><span style="color: #24292F"> </span><span style="color: #953800">fmt</span><span style="color: #CF222E">::</span><span style="color: #953800">Result</span><span style="color: #24292F"> {</span></span>
<span class="line"><span style="color: #24292F">        </span><span style="color: #CF222E">match</span><span style="color: #24292F"> </span><span style="color: #0550AE">self</span><span style="color: #24292F"> {</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #953800">Fizz</span><span style="color: #24292F"> </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #8250DF">write!</span><span style="color: #24292F">(f, </span><span style="color: #0A3069">"Fizz"</span><span style="color: #24292F">),</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #953800">Buzz</span><span style="color: #24292F"> </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #8250DF">write!</span><span style="color: #24292F">(f, </span><span style="color: #0A3069">"Buzz"</span><span style="color: #24292F">),</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #953800">FizzBuzz</span><span style="color: #24292F"> </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #8250DF">write!</span><span style="color: #24292F">(f, </span><span style="color: #0A3069">"FizzBuzz"</span><span style="color: #24292F">),</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #8250DF">Number</span><span style="color: #24292F">(x) </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #8250DF">write!</span><span style="color: #24292F">(f, </span><span style="color: #0A3069">"{}"</span><span style="color: #24292F">, x),</span></span>
<span class="line"><span style="color: #24292F">        }</span></span>
<span class="line"><span style="color: #24292F">    }</span></span>
<span class="line"><span style="color: #24292F">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #CF222E">impl</span><span style="color: #24292F">&#x3C;</span><span style="color: #953800">T</span><span style="color: #24292F">, </span><span style="color: #953800">U</span><span style="color: #24292F">> </span><span style="color: #953800">From</span><span style="color: #24292F">&#x3C;</span><span style="color: #CF222E">&#x26;</span><span style="color: #953800">T</span><span style="color: #24292F">> </span><span style="color: #CF222E">for</span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span></span>
<span class="line"><span style="color: #CF222E">where</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #953800">T</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #953800">From</span><span style="color: #24292F">&#x3C;</span><span style="color: #953800">u8</span><span style="color: #24292F">>,</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #CF222E">for</span><span style="color: #24292F">&#x3C;'</span><span style="color: #953800">a</span><span style="color: #24292F">> </span><span style="color: #CF222E">&#x26;</span><span style="color: #24292F">'</span><span style="color: #953800">a</span><span style="color: #24292F"> </span><span style="color: #953800">T</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #953800">Rem</span><span style="color: #24292F">&#x3C;</span><span style="color: #953800">T</span><span style="color: #24292F">, </span><span style="color: #953800">Output</span><span style="color: #24292F"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> </span><span style="color: #953800">U</span><span style="color: #24292F">> </span><span style="color: #CF222E">+</span><span style="color: #24292F"> </span><span style="color: #953800">ToString</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #953800">U</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #953800">Zero</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">{</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #CF222E">fn</span><span style="color: #24292F"> </span><span style="color: #8250DF">from</span><span style="color: #24292F">(x</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #CF222E">&#x26;</span><span style="color: #953800">T</span><span style="color: #24292F">) </span><span style="color: #CF222E">-></span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #24292F"> {</span></span>
<span class="line"><span style="color: #24292F">        </span><span style="color: #CF222E">match</span><span style="color: #24292F"> ((x </span><span style="color: #CF222E">%</span><span style="color: #24292F"> </span><span style="color: #953800">T</span><span style="color: #CF222E">::</span><span style="color: #8250DF">from</span><span style="color: #24292F">(</span><span style="color: #0550AE">3</span><span style="color: #24292F">))</span><span style="color: #CF222E">.</span><span style="color: #8250DF">is_zero</span><span style="color: #24292F">(), (x </span><span style="color: #CF222E">%</span><span style="color: #24292F"> </span><span style="color: #953800">T</span><span style="color: #CF222E">::</span><span style="color: #8250DF">from</span><span style="color: #24292F">(</span><span style="color: #0550AE">5</span><span style="color: #24292F">))</span><span style="color: #CF222E">.</span><span style="color: #8250DF">is_zero</span><span style="color: #24292F">()) {</span></span>
<span class="line"><span style="color: #24292F">            (</span><span style="color: #0550AE">true</span><span style="color: #24292F">, </span><span style="color: #0550AE">true</span><span style="color: #24292F">) </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #953800">FizzBuzz</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">            (</span><span style="color: #0550AE">true</span><span style="color: #24292F">, _) </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #953800">Fizz</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">            (_, </span><span style="color: #0550AE">true</span><span style="color: #24292F">) </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #953800">Buzz</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">            _ </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #8250DF">Number</span><span style="color: #24292F">(x</span><span style="color: #CF222E">.</span><span style="color: #8250DF">to_string</span><span style="color: #24292F">()),</span></span>
<span class="line"><span style="color: #24292F">        }</span></span>
<span class="line"><span style="color: #24292F">    }</span></span>
<span class="line"><span style="color: #24292F">}</span></span></code></pre>
<p>以上のようになると思います。</p>
<p>以下、解説です。</p>
<p>まず、愚直にFizzBuzzを書いたら以下のようになると思います。</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #CF222E">fn</span><span style="color: #24292F"> </span><span style="color: #8250DF">main</span><span style="color: #24292F">() {</span></span>
<span class="line"><span style="color: #24292F">    (</span><span style="color: #0550AE">1</span><span style="color: #CF222E">..=</span><span style="color: #0550AE">15</span><span style="color: #24292F">)</span><span style="color: #CF222E">.</span><span style="color: #8250DF">for_each</span><span style="color: #24292F">(</span><span style="color: #CF222E">|</span><span style="color: #24292F">x</span><span style="color: #CF222E">|</span><span style="color: #24292F"> {</span></span>
<span class="line"><span style="color: #24292F">        </span><span style="color: #CF222E">match</span><span style="color: #24292F"> ((x </span><span style="color: #CF222E">%</span><span style="color: #24292F"> </span><span style="color: #0550AE">3</span><span style="color: #24292F">) </span><span style="color: #CF222E">==</span><span style="color: #24292F"> </span><span style="color: #0550AE">0</span><span style="color: #24292F">, (x </span><span style="color: #CF222E">%</span><span style="color: #24292F"> </span><span style="color: #0550AE">5</span><span style="color: #24292F">) </span><span style="color: #CF222E">==</span><span style="color: #24292F"> </span><span style="color: #0550AE">0</span><span style="color: #24292F">) {</span></span>
<span class="line"><span style="color: #24292F">            (</span><span style="color: #0550AE">true</span><span style="color: #24292F">, </span><span style="color: #0550AE">true</span><span style="color: #24292F">) </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #8250DF">println!</span><span style="color: #24292F">(</span><span style="color: #0A3069">"FizzBuzz"</span><span style="color: #24292F">),</span></span>
<span class="line"><span style="color: #24292F">            (</span><span style="color: #0550AE">true</span><span style="color: #24292F">, _) </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #8250DF">println!</span><span style="color: #24292F">(</span><span style="color: #0A3069">"Fizz"</span><span style="color: #24292F">),</span></span>
<span class="line"><span style="color: #24292F">            (_, </span><span style="color: #0550AE">true</span><span style="color: #24292F">) </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #8250DF">println!</span><span style="color: #24292F">(</span><span style="color: #0A3069">"Buzz"</span><span style="color: #24292F">),</span></span>
<span class="line"><span style="color: #24292F">            _ </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #8250DF">println!</span><span style="color: #24292F">(</span><span style="color: #0A3069">"{}"</span><span style="color: #24292F">, x),</span></span>
<span class="line"><span style="color: #24292F">        }</span></span>
<span class="line"><span style="color: #24292F">    })</span></span>
<span class="line"><span style="color: #24292F">}</span></span></code></pre>
<p>しかし、Rustを使用する以上、当然以下のようなメリットを享受したいです。</p>
<ul>
<li>テスト可能</li>
<li>型安全</li>
<li>ゼロコスト抽象化</li>
</ul>
<p>そのため、まずテスト可能なようにメソッドに分けてからテストを書きます。</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #CF222E">fn</span><span style="color: #24292F"> </span><span style="color: #8250DF">fizzbuzz</span><span style="color: #24292F">(x</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #953800">u128</span><span style="color: #24292F">) </span><span style="color: #CF222E">-></span><span style="color: #24292F"> </span><span style="color: #953800">String</span><span style="color: #24292F"> {</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #CF222E">match</span><span style="color: #24292F"> ((x </span><span style="color: #CF222E">%</span><span style="color: #24292F"> </span><span style="color: #0550AE">3</span><span style="color: #24292F">) </span><span style="color: #CF222E">==</span><span style="color: #24292F"> </span><span style="color: #0550AE">0</span><span style="color: #24292F">, (x </span><span style="color: #CF222E">%</span><span style="color: #24292F"> </span><span style="color: #0550AE">5</span><span style="color: #24292F">) </span><span style="color: #CF222E">==</span><span style="color: #24292F"> </span><span style="color: #0550AE">0</span><span style="color: #24292F">) {</span></span>
<span class="line"><span style="color: #24292F">        (</span><span style="color: #0550AE">true</span><span style="color: #24292F">, </span><span style="color: #0550AE">true</span><span style="color: #24292F">) </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #0A3069">"FizzBuzz"</span><span style="color: #CF222E">.</span><span style="color: #8250DF">to_string</span><span style="color: #24292F">(),</span></span>
<span class="line"><span style="color: #24292F">        (</span><span style="color: #0550AE">true</span><span style="color: #24292F">, _) </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #0A3069">"Fizz"</span><span style="color: #CF222E">.</span><span style="color: #8250DF">to_string</span><span style="color: #24292F">(),</span></span>
<span class="line"><span style="color: #24292F">        (_, </span><span style="color: #0550AE">true</span><span style="color: #24292F">) </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #0A3069">"Buzz"</span><span style="color: #CF222E">.</span><span style="color: #8250DF">to_string</span><span style="color: #24292F">(),</span></span>
<span class="line"><span style="color: #24292F">        _ </span><span style="color: #CF222E">=></span><span style="color: #24292F"> x</span><span style="color: #CF222E">.</span><span style="color: #8250DF">to_string</span><span style="color: #24292F">(),</span></span>
<span class="line"><span style="color: #24292F">    }</span></span>
<span class="line"><span style="color: #24292F">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #CF222E">fn</span><span style="color: #24292F"> </span><span style="color: #8250DF">main</span><span style="color: #24292F">() {</span></span>
<span class="line"><span style="color: #24292F">    (</span><span style="color: #0550AE">1</span><span style="color: #CF222E">..=</span><span style="color: #0550AE">15</span><span style="color: #24292F">)</span><span style="color: #CF222E">.</span><span style="color: #8250DF">map</span><span style="color: #24292F">(fizzbuzz)</span><span style="color: #CF222E">.</span><span style="color: #8250DF">for_each</span><span style="color: #24292F">(</span><span style="color: #CF222E">|</span><span style="color: #24292F">x</span><span style="color: #CF222E">|</span><span style="color: #24292F"> </span><span style="color: #8250DF">println!</span><span style="color: #24292F">(</span><span style="color: #0A3069">"{}"</span><span style="color: #24292F">, x))</span></span>
<span class="line"><span style="color: #24292F">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292F">#[test]</span></span>
<span class="line"><span style="color: #CF222E">fn</span><span style="color: #24292F"> </span><span style="color: #8250DF">test</span><span style="color: #24292F">() {</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #CF222E">let</span><span style="color: #24292F"> test_target</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #953800">Vec</span><span style="color: #24292F">&#x3C;</span><span style="color: #953800">String</span><span style="color: #24292F">> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> (</span><span style="color: #0550AE">1</span><span style="color: #CF222E">..=</span><span style="color: #0550AE">15</span><span style="color: #24292F">)</span></span>
<span class="line"><span style="color: #24292F">        </span><span style="color: #CF222E">.</span><span style="color: #8250DF">map</span><span style="color: #24292F">(fizzbuzz)</span></span>
<span class="line"><span style="color: #24292F">        </span><span style="color: #CF222E">.</span><span style="color: #8250DF">collect</span><span style="color: #24292F">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #8250DF">assert_eq!</span><span style="color: #24292F">(</span></span>
<span class="line"><span style="color: #24292F">        test_target,</span></span>
<span class="line"><span style="color: #24292F">        </span><span style="color: #8250DF">vec!</span><span style="color: #24292F">[</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #0A3069">"1"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"2"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"Fizz"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"4"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"Buzz"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"Fizz"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"7"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"8"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"Fizz"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"Buzz"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"11"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"Fizz"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"13"</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #0A3069">"14"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"FizzBuzz"</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">        ]</span></span>
<span class="line"><span style="color: #24292F">    );</span></span>
<span class="line"><span style="color: #24292F">}</span></span></code></pre>
<p>次はこれをRustらしく、<code>enum</code>に<code>std::convert::From</code>トレイトと<code>fmt::Display</code>トレイトを実装した書き方にします。<br>
<code>std::convert::From</code>トレイトの<code>into()</code>メソッドを実装すれば<code>from()</code>メソッドが自動で実装され、<code>fmt::Display</code>トレイトの<code>fmt()</code>メソッドを実装すれば<code>to_string()</code>メソッドが自動で実装されます。</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #CF222E">use</span><span style="color: #24292F"> </span><span style="color: #953800">std</span><span style="color: #CF222E">::</span><span style="color: #24292F">fmt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #CF222E">enum</span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #24292F"> {</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #953800">Fizz</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #953800">Buzz</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #953800">FizzBuzz</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #8250DF">Number</span><span style="color: #24292F">(</span><span style="color: #953800">String</span><span style="color: #24292F">),</span></span>
<span class="line"><span style="color: #24292F">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #CF222E">impl</span><span style="color: #24292F"> </span><span style="color: #953800">From</span><span style="color: #24292F">&#x3C;</span><span style="color: #953800">u32</span><span style="color: #24292F">> </span><span style="color: #CF222E">for</span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #24292F"> {</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #CF222E">fn</span><span style="color: #24292F"> </span><span style="color: #8250DF">from</span><span style="color: #24292F">(x</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #953800">u32</span><span style="color: #24292F">) </span><span style="color: #CF222E">-></span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #24292F"> {</span></span>
<span class="line"><span style="color: #24292F">        </span><span style="color: #CF222E">match</span><span style="color: #24292F"> ((x </span><span style="color: #CF222E">%</span><span style="color: #24292F"> </span><span style="color: #0550AE">3</span><span style="color: #24292F">) </span><span style="color: #CF222E">==</span><span style="color: #24292F"> </span><span style="color: #0550AE">0</span><span style="color: #24292F">, (x </span><span style="color: #CF222E">%</span><span style="color: #24292F"> </span><span style="color: #0550AE">5</span><span style="color: #24292F">) </span><span style="color: #CF222E">==</span><span style="color: #24292F"> </span><span style="color: #0550AE">0</span><span style="color: #24292F">) {</span></span>
<span class="line"><span style="color: #24292F">            (</span><span style="color: #0550AE">true</span><span style="color: #24292F">, </span><span style="color: #0550AE">true</span><span style="color: #24292F">) </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #953800">FizzBuzz</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">            (</span><span style="color: #0550AE">true</span><span style="color: #24292F">, _) </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #953800">Fizz</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">            (_, </span><span style="color: #0550AE">true</span><span style="color: #24292F">) </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #953800">Buzz</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">            _ </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #8250DF">Number</span><span style="color: #24292F">(x</span><span style="color: #CF222E">.</span><span style="color: #8250DF">to_string</span><span style="color: #24292F">()),</span></span>
<span class="line"><span style="color: #24292F">        }</span></span>
<span class="line"><span style="color: #24292F">    }</span></span>
<span class="line"><span style="color: #24292F">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #CF222E">impl</span><span style="color: #24292F"> </span><span style="color: #953800">fmt</span><span style="color: #CF222E">::</span><span style="color: #953800">Display</span><span style="color: #24292F"> </span><span style="color: #CF222E">for</span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #24292F"> {</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #CF222E">fn</span><span style="color: #24292F"> </span><span style="color: #8250DF">fmt</span><span style="color: #24292F">(</span><span style="color: #CF222E">&#x26;</span><span style="color: #0550AE">self</span><span style="color: #24292F">, f</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #CF222E">&#x26;mut</span><span style="color: #24292F"> </span><span style="color: #953800">fmt</span><span style="color: #CF222E">::</span><span style="color: #953800">Formatter</span><span style="color: #24292F">) </span><span style="color: #CF222E">-></span><span style="color: #24292F"> </span><span style="color: #953800">fmt</span><span style="color: #CF222E">::</span><span style="color: #953800">Result</span><span style="color: #24292F"> {</span></span>
<span class="line"><span style="color: #24292F">        </span><span style="color: #CF222E">match</span><span style="color: #24292F"> </span><span style="color: #0550AE">self</span><span style="color: #24292F"> {</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #953800">Fizz</span><span style="color: #24292F"> </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #8250DF">write!</span><span style="color: #24292F">(f, </span><span style="color: #0A3069">"Fizz"</span><span style="color: #24292F">),</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #953800">Buzz</span><span style="color: #24292F"> </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #8250DF">write!</span><span style="color: #24292F">(f, </span><span style="color: #0A3069">"Buzz"</span><span style="color: #24292F">),</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #953800">FizzBuzz</span><span style="color: #24292F"> </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #8250DF">write!</span><span style="color: #24292F">(f, </span><span style="color: #0A3069">"FizzBuzz"</span><span style="color: #24292F">),</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #8250DF">Number</span><span style="color: #24292F">(x) </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #8250DF">write!</span><span style="color: #24292F">(f, </span><span style="color: #0A3069">"{}"</span><span style="color: #24292F">, x),</span></span>
<span class="line"><span style="color: #24292F">        }</span></span>
<span class="line"><span style="color: #24292F">    }</span></span>
<span class="line"><span style="color: #24292F">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6E7781">// 以下はテスト用</span></span>
<span class="line"></span>
<span class="line"><span style="color: #CF222E">fn</span><span style="color: #24292F"> </span><span style="color: #8250DF">main</span><span style="color: #24292F">() {</span></span>
<span class="line"><span style="color: #24292F">    (</span><span style="color: #0550AE">1</span><span style="color: #CF222E">..=</span><span style="color: #0550AE">15</span><span style="color: #24292F">)</span><span style="color: #CF222E">.</span><span style="color: #8250DF">map</span><span style="color: #24292F">(</span><span style="color: #CF222E">|</span><span style="color: #24292F">x</span><span style="color: #CF222E">|</span><span style="color: #24292F"> </span><span style="color: #CF222E">-></span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #24292F"> {</span></span>
<span class="line"><span style="color: #24292F">        x</span><span style="color: #CF222E">.</span><span style="color: #8250DF">into</span><span style="color: #24292F">()</span></span>
<span class="line"><span style="color: #24292F">    } )</span><span style="color: #CF222E">.</span><span style="color: #8250DF">map</span><span style="color: #24292F">(</span><span style="color: #CF222E">|</span><span style="color: #24292F">x</span><span style="color: #CF222E">|</span><span style="color: #24292F"> </span><span style="color: #CF222E">-></span><span style="color: #24292F"> </span><span style="color: #953800">String</span><span style="color: #24292F"> {</span></span>
<span class="line"><span style="color: #24292F">        x</span><span style="color: #CF222E">.</span><span style="color: #8250DF">to_string</span><span style="color: #24292F">()</span></span>
<span class="line"><span style="color: #24292F">    } )</span><span style="color: #CF222E">.</span><span style="color: #8250DF">for_each</span><span style="color: #24292F">(</span><span style="color: #CF222E">|</span><span style="color: #24292F">x</span><span style="color: #CF222E">|</span><span style="color: #24292F"> </span><span style="color: #8250DF">println!</span><span style="color: #24292F">(</span><span style="color: #0A3069">"{}"</span><span style="color: #24292F">, x))</span></span>
<span class="line"><span style="color: #24292F">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292F">#[test]</span></span>
<span class="line"><span style="color: #CF222E">fn</span><span style="color: #24292F"> </span><span style="color: #8250DF">test</span><span style="color: #24292F">() {</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #CF222E">let</span><span style="color: #24292F"> test_target</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #953800">Vec</span><span style="color: #24292F">&#x3C;</span><span style="color: #953800">String</span><span style="color: #24292F">> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> (</span><span style="color: #0550AE">1</span><span style="color: #CF222E">..=</span><span style="color: #0550AE">15</span><span style="color: #24292F">)</span></span>
<span class="line"><span style="color: #24292F">        </span><span style="color: #CF222E">.</span><span style="color: #8250DF">map</span><span style="color: #24292F">(</span><span style="color: #CF222E">|</span><span style="color: #24292F">x</span><span style="color: #CF222E">|</span><span style="color: #24292F"> </span><span style="color: #CF222E">-></span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #24292F"> {</span></span>
<span class="line"><span style="color: #24292F">            x</span><span style="color: #CF222E">.</span><span style="color: #8250DF">into</span><span style="color: #24292F">()</span></span>
<span class="line"><span style="color: #24292F">        } )</span></span>
<span class="line"><span style="color: #24292F">        </span><span style="color: #CF222E">.</span><span style="color: #8250DF">map</span><span style="color: #24292F">(</span><span style="color: #CF222E">|</span><span style="color: #24292F">x</span><span style="color: #CF222E">|</span><span style="color: #24292F"> </span><span style="color: #CF222E">-></span><span style="color: #24292F"> </span><span style="color: #953800">String</span><span style="color: #24292F"> {</span></span>
<span class="line"><span style="color: #24292F">            x</span><span style="color: #CF222E">.</span><span style="color: #8250DF">to_string</span><span style="color: #24292F">()</span></span>
<span class="line"><span style="color: #24292F">        } )</span></span>
<span class="line"><span style="color: #24292F">        </span><span style="color: #CF222E">.</span><span style="color: #8250DF">collect</span><span style="color: #24292F">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #8250DF">assert_eq!</span><span style="color: #24292F">(</span></span>
<span class="line"><span style="color: #24292F">        test_target,</span></span>
<span class="line"><span style="color: #24292F">        </span><span style="color: #8250DF">vec!</span><span style="color: #24292F">[</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #0A3069">"1"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"2"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"Fizz"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"4"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"Buzz"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"Fizz"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"7"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"8"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"Fizz"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"Buzz"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"11"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"Fizz"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"13"</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #0A3069">"14"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"FizzBuzz"</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">        ]</span></span>
<span class="line"><span style="color: #24292F">    );</span></span>
<span class="line"><span style="color: #24292F">}</span></span></code></pre>
<p>ここで、u32では4294967295が最大値なのは心もとないので拡張可能にしたいと考えると思います。<br>
u32をu128にしたところで340282366920938463463374607431768211455が最大値です。<br>
これでは十分ではないので、もっと抽象的な数値を扱えるようにします。</p>
<p>fizzbuzz関数<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span></span>を定義してみます。</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.36em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>FizzBuzz</mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo stretchy="false">(</mo><mi>x</mi><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mn>3</mn><mo>=</mo><mn>0</mn><mo>∧</mo><mi>x</mi><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mn>5</mn><mo>=</mo><mn>0</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>Fizz</mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo stretchy="false">(</mo><mi>x</mi><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mn>3</mn><mo>=</mo><mn>0</mn><mo>∧</mo><mi>x</mi><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mn>5</mn><mo mathvariant="normal">≠</mo><mn>0</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>Buzz</mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo stretchy="false">(</mo><mi>x</mi><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mn>3</mn><mo mathvariant="normal">≠</mo><mn>0</mn><mo>∧</mo><mi>x</mi><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mn>5</mn><mo>=</mo><mn>0</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo stretchy="false">(</mo><mtext>otherwize</mtext><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">f(x) =
\begin{cases}
  \text{FizzBuzz} &#x26; (x \bmod 3 = 0 \land x \bmod 5 = 0)\\
  \text{Fizz} &#x26; (x \bmod 3 = 0 \land x \bmod 5 \neq 0)\\
  \text{Buzz} &#x26; (x \bmod 3 \neq 0 \land x \bmod 5 = 0)\\
  x &#x26; (\text{otherwize})\\
\end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:5.76em;vertical-align:-2.63em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.95em;"><span style="top:-1.6em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-1.592em;"><span class="pstrut" style="height:3.15em;"></span><span style="height:0.916em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.8889em" height="0.916em" style="width:0.8889em" viewBox="0 0 888.89 916" preserveAspectRatio="xMinYMin"><path d="M384 0 H504 V916 H384z M384 0 H504 V916 H384z"></path></svg></span></span><span style="top:-3.15em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.292em;"><span class="pstrut" style="height:3.15em;"></span><span style="height:0.916em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.8889em" height="0.916em" style="width:0.8889em" viewBox="0 0 888.89 916" preserveAspectRatio="xMinYMin"><path d="M384 0 H504 V916 H384z M384 0 H504 V916 H384z"></path></svg></span></span><span style="top:-5.2em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.45em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.13em;"><span style="top:-5.13em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">FizzBuzz</span></span></span></span><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">Fizz</span></span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">Buzz</span></span></span></span><span style="top:-0.81em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.63em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.13em;"><span style="top:-5.13em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.0556em;"></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.0556em;"></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.0556em;"></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.0556em;"></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.0556em;"></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.0556em;"></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.0556em;"></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.0556em;"></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.0556em;"></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.0556em;"></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.0556em;"></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.0556em;"></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span><span style="top:-0.81em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mopen">(</span><span class="mord text"><span class="mord">otherwize</span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.63em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<p>冷静になって見てみると、<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span></span>に対する操作は「3で割る」「5で割る」「割った結果を0と比較する」しかしていないことしかわかります。<br>
型で表すと以下のようなものです。</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #953800">T</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #953800">Rem</span><span style="color: #24292F">&#x3C;</span><span style="color: #953800">T</span><span style="color: #24292F">, </span><span style="color: #953800">Output</span><span style="color: #24292F"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> </span><span style="color: #953800">U</span><span style="color: #24292F">> </span><span style="color: #CF222E">+</span><span style="color: #24292F"> </span><span style="color: #953800">From</span><span style="color: #24292F">&#x3C;</span><span style="color: #953800">u8</span><span style="color: #24292F">>,</span></span>
<span class="line"><span style="color: #953800">U</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #953800">Zero</span><span style="color: #24292F">,</span></span></code></pre>
<p>つまり、先述の<code>from</code>は以下のように書けるのです。</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #CF222E">impl</span><span style="color: #24292F">&#x3C;</span><span style="color: #953800">T</span><span style="color: #24292F">, </span><span style="color: #953800">U</span><span style="color: #24292F">> </span><span style="color: #953800">From</span><span style="color: #24292F">&#x3C;</span><span style="color: #953800">T</span><span style="color: #24292F">> </span><span style="color: #CF222E">for</span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span></span>
<span class="line"><span style="color: #CF222E">where</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #953800">T</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #953800">ToString</span><span style="color: #24292F"> </span><span style="color: #CF222E">+</span><span style="color: #24292F"> </span><span style="color: #953800">Rem</span><span style="color: #24292F">&#x3C;</span><span style="color: #953800">T</span><span style="color: #24292F">, </span><span style="color: #953800">Output</span><span style="color: #24292F"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> </span><span style="color: #953800">U</span><span style="color: #24292F">> </span><span style="color: #CF222E">+</span><span style="color: #24292F"> </span><span style="color: #953800">Clone</span><span style="color: #24292F"> </span><span style="color: #CF222E">+</span><span style="color: #24292F"> </span><span style="color: #953800">From</span><span style="color: #24292F">&#x3C;</span><span style="color: #953800">u8</span><span style="color: #24292F">>,</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #953800">U</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #953800">Zero</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">{</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #CF222E">fn</span><span style="color: #24292F"> </span><span style="color: #8250DF">from</span><span style="color: #24292F">(x</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #953800">T</span><span style="color: #24292F">) </span><span style="color: #CF222E">-></span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #24292F"> {</span></span>
<span class="line"><span style="color: #24292F">        </span><span style="color: #CF222E">match</span><span style="color: #24292F"> ((x</span><span style="color: #CF222E">.</span><span style="color: #8250DF">clone</span><span style="color: #24292F">() </span><span style="color: #CF222E">%</span><span style="color: #24292F"> </span><span style="color: #953800">T</span><span style="color: #CF222E">::</span><span style="color: #8250DF">from</span><span style="color: #24292F">(</span><span style="color: #0550AE">3</span><span style="color: #24292F">))</span><span style="color: #CF222E">.</span><span style="color: #8250DF">is_zero</span><span style="color: #24292F">(), (x</span><span style="color: #CF222E">.</span><span style="color: #8250DF">clone</span><span style="color: #24292F">() </span><span style="color: #CF222E">%</span><span style="color: #24292F"> </span><span style="color: #953800">T</span><span style="color: #CF222E">::</span><span style="color: #8250DF">from</span><span style="color: #24292F">(</span><span style="color: #0550AE">5</span><span style="color: #24292F">))</span><span style="color: #CF222E">.</span><span style="color: #8250DF">is_zero</span><span style="color: #24292F">()) {</span></span>
<span class="line"><span style="color: #24292F">            (</span><span style="color: #0550AE">true</span><span style="color: #24292F">, </span><span style="color: #0550AE">true</span><span style="color: #24292F">) </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #953800">FizzBuzz</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">            (</span><span style="color: #0550AE">true</span><span style="color: #24292F">, _) </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #953800">Fizz</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">            (_, </span><span style="color: #0550AE">true</span><span style="color: #24292F">) </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #953800">Buzz</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">            _ </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #8250DF">Number</span><span style="color: #24292F">(x</span><span style="color: #CF222E">.</span><span style="color: #8250DF">to_string</span><span style="color: #24292F">()),</span></span>
<span class="line"><span style="color: #24292F">        }</span></span>
<span class="line"><span style="color: #24292F">    }</span></span>
<span class="line"><span style="color: #24292F">}</span></span></code></pre>
<p>ただ、<code>.clone()</code>を何度もするのは躊躇われますし、所有権も必要としておらず借用で十分なので借用にすると、以下のようになります。</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #CF222E">impl</span><span style="color: #24292F">&#x3C;'</span><span style="color: #953800">a</span><span style="color: #24292F">, </span><span style="color: #953800">T</span><span style="color: #24292F">, </span><span style="color: #953800">U</span><span style="color: #24292F">> </span><span style="color: #953800">From</span><span style="color: #24292F">&#x3C;</span><span style="color: #CF222E">&#x26;</span><span style="color: #24292F">'</span><span style="color: #953800">a</span><span style="color: #24292F"> </span><span style="color: #953800">T</span><span style="color: #24292F">> </span><span style="color: #CF222E">for</span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span></span>
<span class="line"><span style="color: #CF222E">where</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #953800">T</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #953800">From</span><span style="color: #24292F">&#x3C;</span><span style="color: #953800">u8</span><span style="color: #24292F">>,</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #CF222E">&#x26;</span><span style="color: #24292F">'</span><span style="color: #953800">a</span><span style="color: #24292F"> </span><span style="color: #953800">T</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #953800">Rem</span><span style="color: #24292F">&#x3C;</span><span style="color: #953800">T</span><span style="color: #24292F">, </span><span style="color: #953800">Output</span><span style="color: #24292F"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> </span><span style="color: #953800">U</span><span style="color: #24292F">> </span><span style="color: #CF222E">+</span><span style="color: #24292F"> </span><span style="color: #953800">ToString</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #953800">U</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #953800">Zero</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">{</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #CF222E">fn</span><span style="color: #24292F"> </span><span style="color: #8250DF">from</span><span style="color: #24292F">(x</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #CF222E">&#x26;</span><span style="color: #24292F">'</span><span style="color: #953800">a</span><span style="color: #24292F"> </span><span style="color: #953800">T</span><span style="color: #24292F">) </span><span style="color: #CF222E">-></span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #24292F"> {</span></span>
<span class="line"><span style="color: #24292F">        </span><span style="color: #CF222E">match</span><span style="color: #24292F"> ((x </span><span style="color: #CF222E">%</span><span style="color: #24292F"> </span><span style="color: #953800">T</span><span style="color: #CF222E">::</span><span style="color: #8250DF">from</span><span style="color: #24292F">(</span><span style="color: #0550AE">3</span><span style="color: #24292F">))</span><span style="color: #CF222E">.</span><span style="color: #8250DF">is_zero</span><span style="color: #24292F">(), (x </span><span style="color: #CF222E">%</span><span style="color: #24292F"> </span><span style="color: #953800">T</span><span style="color: #CF222E">::</span><span style="color: #8250DF">from</span><span style="color: #24292F">(</span><span style="color: #0550AE">5</span><span style="color: #24292F">))</span><span style="color: #CF222E">.</span><span style="color: #8250DF">is_zero</span><span style="color: #24292F">()) {</span></span>
<span class="line"><span style="color: #24292F">            (</span><span style="color: #0550AE">true</span><span style="color: #24292F">, </span><span style="color: #0550AE">true</span><span style="color: #24292F">) </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #953800">FizzBuzz</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">            (</span><span style="color: #0550AE">true</span><span style="color: #24292F">, _) </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #953800">Fizz</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">            (_, </span><span style="color: #0550AE">true</span><span style="color: #24292F">) </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #953800">Buzz</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">            _ </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #8250DF">Number</span><span style="color: #24292F">(x</span><span style="color: #CF222E">.</span><span style="color: #8250DF">to_string</span><span style="color: #24292F">()),</span></span>
<span class="line"><span style="color: #24292F">        }</span></span>
<span class="line"><span style="color: #24292F">    }</span></span>
<span class="line"><span style="color: #24292F">}</span></span></code></pre>
<div class="note alert">
<p><i class="fontawesome fa fa-times-circle" style="color:#d60a34;font-size:20px;" aria-hidden="true"></i>もしここで以下のようにライフタイム<code>'a</code>の記述を書かないと…</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #CF222E">impl</span><span style="color: #24292F">&#x3C;'</span><span style="color: #953800">a</span><span style="color: #24292F">, </span><span style="color: #953800">T</span><span style="color: #24292F">, </span><span style="color: #953800">U</span><span style="color: #24292F">> </span><span style="color: #953800">From</span><span style="color: #24292F">&#x3C;</span><span style="color: #CF222E">&#x26;</span><span style="color: #24292F">'</span><span style="color: #953800">a</span><span style="color: #24292F"> </span><span style="color: #953800">T</span><span style="color: #24292F">> </span><span style="color: #CF222E">for</span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span></span>
<span class="line"><span style="color: #CF222E">where</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #953800">T</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #953800">From</span><span style="color: #24292F">&#x3C;</span><span style="color: #953800">u8</span><span style="color: #24292F">>,</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #CF222E">&#x26;</span><span style="color: #953800">T</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #953800">Rem</span><span style="color: #24292F">&#x3C;</span><span style="color: #953800">T</span><span style="color: #24292F">, </span><span style="color: #953800">Output</span><span style="color: #24292F"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> </span><span style="color: #953800">U</span><span style="color: #24292F">> </span><span style="color: #CF222E">+</span><span style="color: #24292F"> </span><span style="color: #953800">ToString</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #953800">U</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #953800">Zero</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">{</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #CF222E">fn</span><span style="color: #24292F"> </span><span style="color: #8250DF">from</span><span style="color: #24292F">(x</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #CF222E">&#x26;</span><span style="color: #24292F">'</span><span style="color: #953800">a</span><span style="color: #24292F"> </span><span style="color: #953800">T</span><span style="color: #24292F">) </span><span style="color: #CF222E">-></span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #24292F"> {</span></span>
<span class="line"><span style="color: #24292F">        </span><span style="color: #CF222E">match</span><span style="color: #24292F"> ((x </span><span style="color: #CF222E">%</span><span style="color: #24292F"> </span><span style="color: #953800">T</span><span style="color: #CF222E">::</span><span style="color: #8250DF">from</span><span style="color: #24292F">(</span><span style="color: #0550AE">3</span><span style="color: #24292F">))</span><span style="color: #CF222E">.</span><span style="color: #8250DF">is_zero</span><span style="color: #24292F">(), (x </span><span style="color: #CF222E">%</span><span style="color: #24292F"> </span><span style="color: #953800">T</span><span style="color: #CF222E">::</span><span style="color: #8250DF">from</span><span style="color: #24292F">(</span><span style="color: #0550AE">5</span><span style="color: #24292F">))</span><span style="color: #CF222E">.</span><span style="color: #8250DF">is_zero</span><span style="color: #24292F">()) {</span></span>
<span class="line"><span style="color: #24292F">            (</span><span style="color: #0550AE">true</span><span style="color: #24292F">, </span><span style="color: #0550AE">true</span><span style="color: #24292F">) </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #953800">FizzBuzz</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">            (</span><span style="color: #0550AE">true</span><span style="color: #24292F">, _) </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #953800">Fizz</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">            (_, </span><span style="color: #0550AE">true</span><span style="color: #24292F">) </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #953800">Buzz</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">            _ </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #8250DF">Number</span><span style="color: #24292F">(x</span><span style="color: #CF222E">.</span><span style="color: #8250DF">to_string</span><span style="color: #24292F">()),</span></span>
<span class="line"><span style="color: #24292F">        }</span></span>
<span class="line"><span style="color: #24292F">    }</span></span>
<span class="line"><span style="color: #24292F">}</span></span></code></pre>
<p>以下のようなエラーメッセージが出てしまいます。</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292f">error[E0637]: `&#x26;` without an explicit lifetime name cannot be used here</span></span>
<span class="line"><span style="color: #24292f">  --> src\main.rs:42:5</span></span>
<span class="line"><span style="color: #24292f">   |</span></span>
<span class="line"><span style="color: #24292f">42 |     &#x26;T: Rem&#x3C;T, Output = U> + ToString,</span></span>
<span class="line"><span style="color: #24292f">   |     ^ explicit lifetime name needed here</span></span></code></pre>
</div>
<p>さらにシンプルに書くのなら、ライフタイム<code>'a</code>は高階トレイト境界を用いて以下のような書き方をすることができます。</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #CF222E">impl</span><span style="color: #24292F">&#x3C;</span><span style="color: #953800">T</span><span style="color: #24292F">, </span><span style="color: #953800">U</span><span style="color: #24292F">> </span><span style="color: #953800">From</span><span style="color: #24292F">&#x3C;</span><span style="color: #CF222E">&#x26;</span><span style="color: #953800">T</span><span style="color: #24292F">> </span><span style="color: #CF222E">for</span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span></span>
<span class="line"><span style="color: #CF222E">where</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #953800">T</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #953800">From</span><span style="color: #24292F">&#x3C;</span><span style="color: #953800">u8</span><span style="color: #24292F">>,</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #CF222E">for</span><span style="color: #24292F">&#x3C;'</span><span style="color: #953800">a</span><span style="color: #24292F">> </span><span style="color: #CF222E">&#x26;</span><span style="color: #24292F">'</span><span style="color: #953800">a</span><span style="color: #24292F"> </span><span style="color: #953800">T</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #953800">Rem</span><span style="color: #24292F">&#x3C;</span><span style="color: #953800">T</span><span style="color: #24292F">, </span><span style="color: #953800">Output</span><span style="color: #24292F"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> </span><span style="color: #953800">U</span><span style="color: #24292F">> </span><span style="color: #CF222E">+</span><span style="color: #24292F"> </span><span style="color: #953800">ToString</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #953800">U</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #953800">Zero</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">{</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #CF222E">fn</span><span style="color: #24292F"> </span><span style="color: #8250DF">from</span><span style="color: #24292F">(x</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #CF222E">&#x26;</span><span style="color: #953800">T</span><span style="color: #24292F">) </span><span style="color: #CF222E">-></span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #24292F"> {</span></span>
<span class="line"><span style="color: #24292F">        </span><span style="color: #CF222E">match</span><span style="color: #24292F"> ((x </span><span style="color: #CF222E">%</span><span style="color: #24292F"> </span><span style="color: #953800">T</span><span style="color: #CF222E">::</span><span style="color: #8250DF">from</span><span style="color: #24292F">(</span><span style="color: #0550AE">3</span><span style="color: #24292F">))</span><span style="color: #CF222E">.</span><span style="color: #8250DF">is_zero</span><span style="color: #24292F">(), (x </span><span style="color: #CF222E">%</span><span style="color: #24292F"> </span><span style="color: #953800">T</span><span style="color: #CF222E">::</span><span style="color: #8250DF">from</span><span style="color: #24292F">(</span><span style="color: #0550AE">5</span><span style="color: #24292F">))</span><span style="color: #CF222E">.</span><span style="color: #8250DF">is_zero</span><span style="color: #24292F">()) {</span></span>
<span class="line"><span style="color: #24292F">            (</span><span style="color: #0550AE">true</span><span style="color: #24292F">, </span><span style="color: #0550AE">true</span><span style="color: #24292F">) </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #953800">FizzBuzz</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">            (</span><span style="color: #0550AE">true</span><span style="color: #24292F">, _) </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #953800">Fizz</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">            (_, </span><span style="color: #0550AE">true</span><span style="color: #24292F">) </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #953800">Buzz</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">            _ </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #8250DF">Number</span><span style="color: #24292F">(x</span><span style="color: #CF222E">.</span><span style="color: #8250DF">to_string</span><span style="color: #24292F">()),</span></span>
<span class="line"><span style="color: #24292F">        }</span></span>
<span class="line"><span style="color: #24292F">    }</span></span>
<span class="line"><span style="color: #24292F">}</span></span></code></pre>
<p>この<code>T</code>は<code>num::BigUint</code>なども満たしているので、これで<code>u128</code>でも扱えないような大きな数字も以下のように扱うことができるようになりました。</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #CF222E">use</span><span style="color: #24292F"> </span><span style="color: #953800">num</span><span style="color: #CF222E">::</span><span style="color: #953800">Zero</span><span style="color: #24292F">;</span></span>
<span class="line"><span style="color: #CF222E">use</span><span style="color: #24292F"> </span><span style="color: #953800">std</span><span style="color: #CF222E">::</span><span style="color: #24292F">fmt;</span></span>
<span class="line"><span style="color: #CF222E">use</span><span style="color: #24292F"> </span><span style="color: #953800">std</span><span style="color: #CF222E">::</span><span style="color: #953800">ops</span><span style="color: #CF222E">::</span><span style="color: #953800">Rem</span><span style="color: #24292F">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #CF222E">enum</span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #24292F"> {</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #953800">Fizz</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #953800">Buzz</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #953800">FizzBuzz</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #8250DF">Number</span><span style="color: #24292F">(</span><span style="color: #953800">String</span><span style="color: #24292F">),</span></span>
<span class="line"><span style="color: #24292F">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #CF222E">impl</span><span style="color: #24292F"> </span><span style="color: #953800">fmt</span><span style="color: #CF222E">::</span><span style="color: #953800">Display</span><span style="color: #24292F"> </span><span style="color: #CF222E">for</span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #24292F"> {</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #CF222E">fn</span><span style="color: #24292F"> </span><span style="color: #8250DF">fmt</span><span style="color: #24292F">(</span><span style="color: #CF222E">&#x26;</span><span style="color: #0550AE">self</span><span style="color: #24292F">, f</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #CF222E">&#x26;mut</span><span style="color: #24292F"> </span><span style="color: #953800">fmt</span><span style="color: #CF222E">::</span><span style="color: #953800">Formatter</span><span style="color: #24292F">) </span><span style="color: #CF222E">-></span><span style="color: #24292F"> </span><span style="color: #953800">fmt</span><span style="color: #CF222E">::</span><span style="color: #953800">Result</span><span style="color: #24292F"> {</span></span>
<span class="line"><span style="color: #24292F">        </span><span style="color: #CF222E">match</span><span style="color: #24292F"> </span><span style="color: #0550AE">self</span><span style="color: #24292F"> {</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #953800">Fizz</span><span style="color: #24292F"> </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #8250DF">write!</span><span style="color: #24292F">(f, </span><span style="color: #0A3069">"Fizz"</span><span style="color: #24292F">),</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #953800">Buzz</span><span style="color: #24292F"> </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #8250DF">write!</span><span style="color: #24292F">(f, </span><span style="color: #0A3069">"Buzz"</span><span style="color: #24292F">),</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #953800">FizzBuzz</span><span style="color: #24292F"> </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #8250DF">write!</span><span style="color: #24292F">(f, </span><span style="color: #0A3069">"FizzBuzz"</span><span style="color: #24292F">),</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #8250DF">Number</span><span style="color: #24292F">(x) </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #8250DF">write!</span><span style="color: #24292F">(f, </span><span style="color: #0A3069">"{}"</span><span style="color: #24292F">, x),</span></span>
<span class="line"><span style="color: #24292F">        }</span></span>
<span class="line"><span style="color: #24292F">    }</span></span>
<span class="line"><span style="color: #24292F">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #CF222E">impl</span><span style="color: #24292F">&#x3C;</span><span style="color: #953800">T</span><span style="color: #24292F">, </span><span style="color: #953800">U</span><span style="color: #24292F">> </span><span style="color: #953800">From</span><span style="color: #24292F">&#x3C;</span><span style="color: #CF222E">&#x26;</span><span style="color: #953800">T</span><span style="color: #24292F">> </span><span style="color: #CF222E">for</span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span></span>
<span class="line"><span style="color: #CF222E">where</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #953800">T</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #953800">From</span><span style="color: #24292F">&#x3C;</span><span style="color: #953800">u8</span><span style="color: #24292F">>,</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #CF222E">for</span><span style="color: #24292F">&#x3C;'</span><span style="color: #953800">a</span><span style="color: #24292F">> </span><span style="color: #CF222E">&#x26;</span><span style="color: #24292F">'</span><span style="color: #953800">a</span><span style="color: #24292F"> </span><span style="color: #953800">T</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #953800">Rem</span><span style="color: #24292F">&#x3C;</span><span style="color: #953800">T</span><span style="color: #24292F">, </span><span style="color: #953800">Output</span><span style="color: #24292F"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> </span><span style="color: #953800">U</span><span style="color: #24292F">> </span><span style="color: #CF222E">+</span><span style="color: #24292F"> </span><span style="color: #953800">ToString</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #953800">U</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #953800">Zero</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">{</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #CF222E">fn</span><span style="color: #24292F"> </span><span style="color: #8250DF">from</span><span style="color: #24292F">(x</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #CF222E">&#x26;</span><span style="color: #953800">T</span><span style="color: #24292F">) </span><span style="color: #CF222E">-></span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #24292F"> {</span></span>
<span class="line"><span style="color: #24292F">        </span><span style="color: #CF222E">match</span><span style="color: #24292F"> ((x </span><span style="color: #CF222E">%</span><span style="color: #24292F"> </span><span style="color: #953800">T</span><span style="color: #CF222E">::</span><span style="color: #8250DF">from</span><span style="color: #24292F">(</span><span style="color: #0550AE">3</span><span style="color: #24292F">))</span><span style="color: #CF222E">.</span><span style="color: #8250DF">is_zero</span><span style="color: #24292F">(), (x </span><span style="color: #CF222E">%</span><span style="color: #24292F"> </span><span style="color: #953800">T</span><span style="color: #CF222E">::</span><span style="color: #8250DF">from</span><span style="color: #24292F">(</span><span style="color: #0550AE">5</span><span style="color: #24292F">))</span><span style="color: #CF222E">.</span><span style="color: #8250DF">is_zero</span><span style="color: #24292F">()) {</span></span>
<span class="line"><span style="color: #24292F">            (</span><span style="color: #0550AE">true</span><span style="color: #24292F">, </span><span style="color: #0550AE">true</span><span style="color: #24292F">) </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #953800">FizzBuzz</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">            (</span><span style="color: #0550AE">true</span><span style="color: #24292F">, _) </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #953800">Fizz</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">            (_, </span><span style="color: #0550AE">true</span><span style="color: #24292F">) </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #953800">Buzz</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">            _ </span><span style="color: #CF222E">=></span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #CF222E">::</span><span style="color: #8250DF">Number</span><span style="color: #24292F">(x</span><span style="color: #CF222E">.</span><span style="color: #8250DF">to_string</span><span style="color: #24292F">()),</span></span>
<span class="line"><span style="color: #24292F">        }</span></span>
<span class="line"><span style="color: #24292F">    }</span></span>
<span class="line"><span style="color: #24292F">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6E7781">// 以下はmain用・テスト用</span></span>
<span class="line"></span>
<span class="line"><span style="color: #CF222E">use</span><span style="color: #24292F"> </span><span style="color: #953800">num</span><span style="color: #CF222E">::</span><span style="color: #24292F">{</span><span style="color: #953800">BigUint</span><span style="color: #24292F">, </span><span style="color: #953800">Num</span><span style="color: #24292F">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #CF222E">fn</span><span style="color: #24292F"> </span><span style="color: #8250DF">main</span><span style="color: #24292F">() {</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #953800">num_iter</span><span style="color: #CF222E">::</span><span style="color: #8250DF">range_inclusive</span><span style="color: #24292F">(</span></span>
<span class="line"><span style="color: #24292F">        </span><span style="color: #953800">BigUint</span><span style="color: #CF222E">::</span><span style="color: #8250DF">from_str_radix</span><span style="color: #24292F">(</span><span style="color: #0A3069">"340282366920938463463374607431768211471"</span><span style="color: #24292F">, </span><span style="color: #0550AE">10</span><span style="color: #24292F">)</span><span style="color: #CF222E">.</span><span style="color: #8250DF">unwrap</span><span style="color: #24292F">(),</span></span>
<span class="line"><span style="color: #24292F">        </span><span style="color: #953800">BigUint</span><span style="color: #CF222E">::</span><span style="color: #8250DF">from_str_radix</span><span style="color: #24292F">(</span><span style="color: #0A3069">"340282366920938463463374607431768211485"</span><span style="color: #24292F">, </span><span style="color: #0550AE">10</span><span style="color: #24292F">)</span><span style="color: #CF222E">.</span><span style="color: #8250DF">unwrap</span><span style="color: #24292F">(),</span></span>
<span class="line"><span style="color: #24292F">    )</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #CF222E">.</span><span style="color: #8250DF">map</span><span style="color: #24292F">(</span><span style="color: #CF222E">|</span><span style="color: #24292F">x</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #953800">BigUint</span><span style="color: #CF222E">|</span><span style="color: #24292F"> </span><span style="color: #CF222E">-></span><span style="color: #24292F"> </span><span style="color: #953800">String</span><span style="color: #24292F"> {</span></span>
<span class="line"><span style="color: #24292F">        </span><span style="color: #CF222E">let</span><span style="color: #24292F"> fizzbuzz</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #24292F"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> (</span><span style="color: #CF222E">&#x26;</span><span style="color: #24292F">x)</span><span style="color: #CF222E">.</span><span style="color: #8250DF">into</span><span style="color: #24292F">();</span></span>
<span class="line"><span style="color: #24292F">        fizzbuzz</span><span style="color: #CF222E">.</span><span style="color: #8250DF">to_string</span><span style="color: #24292F">()</span></span>
<span class="line"><span style="color: #24292F">    })</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #CF222E">.</span><span style="color: #8250DF">for_each</span><span style="color: #24292F">(</span><span style="color: #CF222E">|</span><span style="color: #24292F">x</span><span style="color: #CF222E">|</span><span style="color: #24292F"> </span><span style="color: #8250DF">println!</span><span style="color: #24292F">(</span><span style="color: #0A3069">"{}"</span><span style="color: #24292F">, x));</span></span>
<span class="line"><span style="color: #24292F">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292F">#[test]</span></span>
<span class="line"><span style="color: #CF222E">fn</span><span style="color: #24292F"> </span><span style="color: #8250DF">test_bigint</span><span style="color: #24292F">() {</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #CF222E">let</span><span style="color: #24292F"> test_target</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #953800">Vec</span><span style="color: #24292F">&#x3C;</span><span style="color: #953800">String</span><span style="color: #24292F">> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> </span><span style="color: #953800">num_iter</span><span style="color: #CF222E">::</span><span style="color: #8250DF">range_inclusive</span><span style="color: #24292F">(</span></span>
<span class="line"><span style="color: #24292F">        </span><span style="color: #953800">BigUint</span><span style="color: #CF222E">::</span><span style="color: #8250DF">from_str_radix</span><span style="color: #24292F">(</span><span style="color: #0A3069">"340282366920938463463374607431768211471"</span><span style="color: #24292F">, </span><span style="color: #0550AE">10</span><span style="color: #24292F">)</span><span style="color: #CF222E">.</span><span style="color: #8250DF">unwrap</span><span style="color: #24292F">(),</span></span>
<span class="line"><span style="color: #24292F">        </span><span style="color: #953800">BigUint</span><span style="color: #CF222E">::</span><span style="color: #8250DF">from_str_radix</span><span style="color: #24292F">(</span><span style="color: #0A3069">"340282366920938463463374607431768211485"</span><span style="color: #24292F">, </span><span style="color: #0550AE">10</span><span style="color: #24292F">)</span><span style="color: #CF222E">.</span><span style="color: #8250DF">unwrap</span><span style="color: #24292F">(),</span></span>
<span class="line"><span style="color: #24292F">    )</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #CF222E">.</span><span style="color: #8250DF">map</span><span style="color: #24292F">(</span><span style="color: #CF222E">|</span><span style="color: #24292F">x</span><span style="color: #CF222E">|</span><span style="color: #24292F"> {</span></span>
<span class="line"><span style="color: #24292F">        </span><span style="color: #CF222E">let</span><span style="color: #24292F"> buffer</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #24292F"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> (</span><span style="color: #CF222E">&#x26;</span><span style="color: #24292F">x)</span><span style="color: #CF222E">.</span><span style="color: #8250DF">into</span><span style="color: #24292F">();</span></span>
<span class="line"><span style="color: #24292F">        </span><span style="color: #CF222E">let</span><span style="color: #24292F"> buffer</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #953800">String</span><span style="color: #24292F"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> buffer</span><span style="color: #CF222E">.</span><span style="color: #8250DF">to_string</span><span style="color: #24292F">();</span></span>
<span class="line"><span style="color: #24292F">        buffer</span><span style="color: #CF222E">.</span><span style="color: #8250DF">to_string</span><span style="color: #24292F">()</span></span>
<span class="line"><span style="color: #24292F">    })</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #CF222E">.</span><span style="color: #8250DF">collect</span><span style="color: #24292F">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #8250DF">assert_eq!</span><span style="color: #24292F">(</span></span>
<span class="line"><span style="color: #24292F">        test_target,</span></span>
<span class="line"><span style="color: #24292F">        </span><span style="color: #8250DF">vec!</span><span style="color: #24292F">[</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #0A3069">"340282366920938463463374607431768211471"</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #0A3069">"340282366920938463463374607431768211472"</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #0A3069">"Fizz"</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #0A3069">"340282366920938463463374607431768211474"</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #0A3069">"Buzz"</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #0A3069">"Fizz"</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #0A3069">"340282366920938463463374607431768211477"</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #0A3069">"340282366920938463463374607431768211478"</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #0A3069">"Fizz"</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #0A3069">"Buzz"</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #0A3069">"340282366920938463463374607431768211481"</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #0A3069">"Fizz"</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #0A3069">"340282366920938463463374607431768211483"</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #0A3069">"340282366920938463463374607431768211484"</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #0A3069">"FizzBuzz"</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">        ]</span></span>
<span class="line"><span style="color: #24292F">    );</span></span>
<span class="line"><span style="color: #24292F">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292F">#[test]</span></span>
<span class="line"><span style="color: #CF222E">fn</span><span style="color: #24292F"> </span><span style="color: #8250DF">test</span><span style="color: #24292F">() {</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #CF222E">let</span><span style="color: #24292F"> test_target</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #953800">Vec</span><span style="color: #24292F">&#x3C;</span><span style="color: #953800">String</span><span style="color: #24292F">> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> (</span><span style="color: #0550AE">1</span><span style="color: #CF222E">..=</span><span style="color: #0550AE">15</span><span style="color: #24292F">)</span></span>
<span class="line"><span style="color: #24292F">        </span><span style="color: #CF222E">.</span><span style="color: #8250DF">map</span><span style="color: #24292F">(</span><span style="color: #CF222E">|</span><span style="color: #24292F">x</span><span style="color: #CF222E">|</span><span style="color: #24292F"> {</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #CF222E">let</span><span style="color: #24292F"> buffer</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #953800">FizzBuzz</span><span style="color: #24292F"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> (</span><span style="color: #CF222E">&#x26;</span><span style="color: #24292F">x)</span><span style="color: #CF222E">.</span><span style="color: #8250DF">into</span><span style="color: #24292F">();</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #CF222E">let</span><span style="color: #24292F"> buffer</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #953800">String</span><span style="color: #24292F"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> buffer</span><span style="color: #CF222E">.</span><span style="color: #8250DF">to_string</span><span style="color: #24292F">();</span></span>
<span class="line"><span style="color: #24292F">            buffer</span><span style="color: #CF222E">.</span><span style="color: #8250DF">to_string</span><span style="color: #24292F">()</span></span>
<span class="line"><span style="color: #24292F">        })</span></span>
<span class="line"><span style="color: #24292F">        </span><span style="color: #CF222E">.</span><span style="color: #8250DF">collect</span><span style="color: #24292F">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #8250DF">assert_eq!</span><span style="color: #24292F">(</span></span>
<span class="line"><span style="color: #24292F">        test_target,</span></span>
<span class="line"><span style="color: #24292F">        </span><span style="color: #8250DF">vec!</span><span style="color: #24292F">[</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #0A3069">"1"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"2"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"Fizz"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"4"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"Buzz"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"Fizz"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"7"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"8"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"Fizz"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"Buzz"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"11"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"Fizz"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"13"</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #0A3069">"14"</span><span style="color: #24292F">, </span><span style="color: #0A3069">"FizzBuzz"</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">        ]</span></span>
<span class="line"><span style="color: #24292F">    );</span></span>
<span class="line"><span style="color: #24292F">}</span></span></code></pre>
<p>以上です。</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Next.jsでSSG時にRemarkでMermaidをSVGとして出力する]]></title>
            <link>https://nishidemasami.github.io/posts/nextjs-mermaid</link>
            <guid>https://nishidemasami.github.io/posts/nextjs-mermaid</guid>
            <pubDate>Sun, 18 Dec 2022 14:04:03 GMT</pubDate>
            <description><![CDATA[Next.jsでSSG時にRemarkでMermaidをSVGにして出力してみたいと思うこと、ありますよね。僕はあるのですがネット上にあまり情報が無かったので自分用にメモです。]]></description>
            <content:encoded><![CDATA[<p>Next.jsでSSG時にRemarkでMermaidをSVGにして出力してみたいと思うこと、ありますよね。<br>
僕はあるのですがネット上にあまり情報が無かったので自分用にメモです。</p>
<p>今回は<code>remark-mermaidjs</code>を使って実装しました。</p>
<p>このサイトではMarkdownを<code>unified</code>で扱っているので<code>remark-mermaidjs</code>を<code>use</code>します。<br>
<code>remark-mermaidjs</code>はGoogle Chromeを使ってMermaidをSVGにしているらしく<code>executablePath</code>でGoogle Chromeのパスを指定しなければならないようです。<br>
このサイトはGitHub Actionsでビルドしているので、ubuntuのために<code>/opt/google/chrome/google-chrome</code>を指定しました。なお、ローカル環境でも自由に動かせるように<code>.env</code>にもGoogle Chromeへのパスを書くことにしました。</p>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #6E7781">// @ts-ignore</span></span>
<span class="line"><span style="color: #CF222E">import</span><span style="color: #24292F"> rehypePrism </span><span style="color: #CF222E">from</span><span style="color: #24292F"> </span><span style="color: #0A3069">'@mapbox/rehype-prism'</span><span style="color: #24292F">;</span></span>
<span class="line"><span style="color: #CF222E">import</span><span style="color: #24292F"> rehypeKatex </span><span style="color: #CF222E">from</span><span style="color: #24292F"> </span><span style="color: #0A3069">'rehype-katex'</span><span style="color: #24292F">;</span></span>
<span class="line"><span style="color: #CF222E">import</span><span style="color: #24292F"> rehypeStringify </span><span style="color: #CF222E">from</span><span style="color: #24292F"> </span><span style="color: #0A3069">'rehype-stringify'</span><span style="color: #24292F">;</span></span>
<span class="line"><span style="color: #CF222E">import</span><span style="color: #24292F"> remarkGfm </span><span style="color: #CF222E">from</span><span style="color: #24292F"> </span><span style="color: #0A3069">'remark-gfm'</span><span style="color: #24292F">;</span></span>
<span class="line"><span style="color: #CF222E">import</span><span style="color: #24292F"> remarkMath </span><span style="color: #CF222E">from</span><span style="color: #24292F"> </span><span style="color: #0A3069">'remark-math'</span><span style="color: #24292F">;</span></span>
<span class="line"><span style="color: #CF222E">import</span><span style="color: #24292F"> remarkMermaid </span><span style="color: #CF222E">from</span><span style="color: #24292F"> </span><span style="color: #0A3069">'remark-mermaidjs'</span><span style="color: #24292F">;</span></span>
<span class="line"><span style="color: #CF222E">import</span><span style="color: #24292F"> remarkParse </span><span style="color: #CF222E">from</span><span style="color: #24292F"> </span><span style="color: #0A3069">'remark-parse'</span><span style="color: #24292F">;</span></span>
<span class="line"><span style="color: #CF222E">import</span><span style="color: #24292F"> remarkRehype </span><span style="color: #CF222E">from</span><span style="color: #24292F"> </span><span style="color: #0A3069">'remark-rehype'</span><span style="color: #24292F">;</span></span>
<span class="line"><span style="color: #CF222E">import</span><span style="color: #24292F"> { unified } </span><span style="color: #CF222E">from</span><span style="color: #24292F"> </span><span style="color: #0A3069">'unified'</span><span style="color: #24292F">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #CF222E">export</span><span style="color: #24292F"> </span><span style="color: #CF222E">const</span><span style="color: #24292F"> </span><span style="color: #8250DF">markdownToHtml</span><span style="color: #24292F"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> </span><span style="color: #CF222E">async</span><span style="color: #24292F"> (</span><span style="color: #953800">markdown</span><span style="color: #CF222E">:</span><span style="color: #24292F"> </span><span style="color: #0550AE">string</span><span style="color: #24292F">) </span><span style="color: #CF222E">=></span></span>
<span class="line"><span style="color: #24292F">  (</span></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #CF222E">await</span><span style="color: #24292F"> </span><span style="color: #8250DF">unified</span><span style="color: #24292F">()</span></span>
<span class="line"><span style="color: #24292F">      .</span><span style="color: #8250DF">use</span><span style="color: #24292F">(remarkParse)</span></span>
<span class="line"><span style="color: #24292F">      .</span><span style="color: #8250DF">use</span><span style="color: #24292F">(remarkMath)</span></span>
<span class="line"><span style="color: #24292F">      .</span><span style="color: #8250DF">use</span><span style="color: #24292F">(remarkGfm)</span></span>
<span class="line"><span style="color: #24292F">      .</span><span style="color: #8250DF">use</span><span style="color: #24292F">(remarkMermaid, {</span></span>
<span class="line"><span style="color: #24292F">        launchOptions: {</span></span>
<span class="line"><span style="color: #24292F">          executablePath:</span></span>
<span class="line"><span style="color: #24292F">            process.env.GoogleChromeExecutablePath </span><span style="color: #CF222E">??</span><span style="color: #24292F"> </span><span style="color: #6E7781">// .env</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #0A3069">'/opt/google/chrome/google-chrome'</span><span style="color: #24292F">, </span><span style="color: #6E7781">// for GitHub Actions Ubuntu</span></span>
<span class="line"><span style="color: #24292F">        },</span></span>
<span class="line"><span style="color: #24292F">        svgo: </span><span style="color: #0550AE">false</span><span style="color: #24292F">,</span></span>
<span class="line"><span style="color: #24292F">      })</span></span>
<span class="line"><span style="color: #24292F">      .</span><span style="color: #8250DF">use</span><span style="color: #24292F">(remarkRehype, { allowDangerousHtml: </span><span style="color: #0550AE">true</span><span style="color: #24292F">, footnoteLabel: </span><span style="color: #0A3069">'脚注'</span><span style="color: #24292F"> })</span></span>
<span class="line"><span style="color: #24292F">      .</span><span style="color: #8250DF">use</span><span style="color: #24292F">(rehypePrism)</span></span>
<span class="line"><span style="color: #24292F">      .</span><span style="color: #8250DF">use</span><span style="color: #24292F">(rehypeKatex)</span></span>
<span class="line"><span style="color: #24292F">      .</span><span style="color: #8250DF">use</span><span style="color: #24292F">(rehypeStringify, { allowDangerousHtml: </span><span style="color: #0550AE">true</span><span style="color: #24292F"> })</span></span>
<span class="line"><span style="color: #24292F">      .</span><span style="color: #8250DF">process</span><span style="color: #24292F">(markdown)</span></span>
<span class="line"><span style="color: #24292F">  )</span></span>
<span class="line"><span style="color: #24292F">    .</span><span style="color: #8250DF">toString</span><span style="color: #24292F">()</span></span>
<span class="line"><span style="color: #24292F">    .</span><span style="color: #8250DF">replace</span><span style="color: #24292F">(</span><span style="color: #0A3069">//</span><span style="color: #CF222E">g</span><span style="color: #24292F">, process.env.baseUrl </span><span style="color: #CF222E">||</span><span style="color: #24292F"> </span><span style="color: #0A3069">''</span><span style="color: #24292F">);</span></span></code></pre>
<p>以下にサンプルを置いておきます。図がSVGになっていることがわかると思います。</p>
<h2>Flowchart</h2>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292F">```mermaid</span></span>
<span class="line"><span style="color: #24292F">flowchart LR</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292F">A[Hard] -->|Text| B(Round)</span></span>
<span class="line"><span style="color: #24292F">B --> C{Decision}</span></span>
<span class="line"><span style="color: #24292F">C -->|One| D[Result 1]</span></span>
<span class="line"><span style="color: #24292F">C -->|Two| E[Result 2]</span></span>
<span class="line"><span style="color: #24292F">```</span></span></code></pre>
<p><svg aria-roledescription="flowchart-v2" viewBox="-8 -8 520.5 132" style="max-width: 520.5px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="remark-mermaid-0"><style>#remark-mermaid-0{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#remark-mermaid-0 .error-icon{fill:#552222;}#remark-mermaid-0 .error-text{fill:#552222;stroke:#552222;}#remark-mermaid-0 .edge-thickness-normal{stroke-width:2px;}#remark-mermaid-0 .edge-thickness-thick{stroke-width:3.5px;}#remark-mermaid-0 .edge-pattern-solid{stroke-dasharray:0;}#remark-mermaid-0 .edge-pattern-dashed{stroke-dasharray:3;}#remark-mermaid-0 .edge-pattern-dotted{stroke-dasharray:2;}#remark-mermaid-0 .marker{fill:#333333;stroke:#333333;}#remark-mermaid-0 .marker.cross{stroke:#333333;}#remark-mermaid-0 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#remark-mermaid-0 .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#remark-mermaid-0 .cluster-label text{fill:#333;}#remark-mermaid-0 .cluster-label span{color:#333;}#remark-mermaid-0 .label text,#remark-mermaid-0 span{fill:#333;color:#333;}#remark-mermaid-0 .node rect,#remark-mermaid-0 .node circle,#remark-mermaid-0 .node ellipse,#remark-mermaid-0 .node polygon,#remark-mermaid-0 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#remark-mermaid-0 .node .label{text-align:center;}#remark-mermaid-0 .node.clickable{cursor:pointer;}#remark-mermaid-0 .arrowheadPath{fill:#333333;}#remark-mermaid-0 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#remark-mermaid-0 .flowchart-link{stroke:#333333;fill:none;}#remark-mermaid-0 .edgeLabel{background-color:#e8e8e8;text-align:center;}#remark-mermaid-0 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#remark-mermaid-0 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#remark-mermaid-0 .cluster text{fill:#333;}#remark-mermaid-0 .cluster span{color:#333;}#remark-mermaid-0 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#remark-mermaid-0 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#remark-mermaid-0 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="10" viewBox="0 0 10 10" class="marker flowchart" id="flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="0" viewBox="0 0 10 10" class="marker flowchart" id="flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart" id="flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart" id="flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart" id="flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart" id="flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-A LE-B" id="L-A-B-0" d="M49.6875,58L56.299479166666664,58C62.911458333333336,58,76.13541666666667,58,89.359375,58C102.58333333333333,58,115.80729166666667,58,122.41927083333333,58L129.03125,58"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-B LE-C" id="L-B-C-0" d="M191.1875,58L195.35416666666666,58C199.52083333333334,58,207.85416666666666,58,216.27083333333334,58.083333333333336C224.6875,58.166666666666664,233.1875,58.333333333333336,237.4375,58.416666666666664L241.6875,58.5"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-C LE-D" id="L-C-D-0" d="M334.3988266249212,41.85195162492119L343.77766802076763,37.62662635410099C353.15650941661414,33.40130108328079,371.91419220830704,24.950650541640396,387.98053360415355,20.725325270820196C404.046875,16.5,417.421875,16.5,424.109375,16.5L430.796875,16.5"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-C LE-E" id="L-C-E-0" d="M334.3988266249212,75.14804837507882L343.77766802076763,79.20670697923235C353.15650941661414,83.26536558338587,371.91419220830704,91.38268279169294,387.98053360415355,95.44134139584646C404.046875,99.5,417.421875,99.5,424.109375,99.5L430.796875,99.5"></path></g><g class="edgeLabels"><g transform="translate(89.359375, 58)" class="edgeLabel"><g transform="translate(-14.671875, -9)" class="label"><foreignObject height="18" width="29.34375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Text</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(390.671875, 16.5)" class="edgeLabel"><g transform="translate(-15.125, -9)" class="label"><foreignObject height="18" width="30.25"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">One</span></div></foreignObject></g></g><g transform="translate(390.671875, 99.5)" class="edgeLabel"><g transform="translate(-14.671875, -9)" class="label"><foreignObject height="18" width="29.34375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Two</span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(24.84375, 58)" id="flowchart-A-16" class="node default default"><rect height="33" width="49.6875" y="-16.5" x="-24.84375" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-17.34375, -9)" style="" class="label"><foreignObject height="18" width="34.6875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Hard</span></div></foreignObject></g></g><g transform="translate(160.109375, 58)" id="flowchart-B-17" class="node default default"><rect height="33" width="62.15625" y="-16.5" x="-31.078125" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-23.578125, -9)" style="" class="label"><foreignObject height="18" width="47.15625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Round</span></div></foreignObject></g></g><g transform="translate(295.8671875, 58)" id="flowchart-C-19" class="node default default"><polygon style="" transform="translate(-54.6796875,54.6796875)" class="label-container" points="54.6796875,0 109.359375,-54.6796875 54.6796875,-109.359375 0,-54.6796875"></polygon><g transform="translate(-30.6796875, -9)" style="" class="label"><foreignObject height="18" width="61.359375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Decision</span></div></foreignObject></g></g><g transform="translate(467.6484375, 16.5)" id="flowchart-D-21" class="node default default"><rect height="33" width="73.703125" y="-16.5" x="-36.8515625" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-29.3515625, -9)" style="" class="label"><foreignObject height="18" width="58.703125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Result 1</span></div></foreignObject></g></g><g transform="translate(467.6484375, 99.5)" id="flowchart-E-23" class="node default default"><rect height="33" width="73.703125" y="-16.5" x="-36.8515625" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-29.3515625, -9)" style="" class="label"><foreignObject height="18" width="58.703125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Result 2</span></div></foreignObject></g></g></g></g></g></svg></p>
<h2>Sequence diagram</h2>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292F">```mermaid</span></span>
<span class="line"><span style="color: #24292F">sequenceDiagram</span></span>
<span class="line"><span style="color: #24292F">Alice->>John: Hello John, how are you?</span></span>
<span class="line"><span style="color: #24292F">loop Healthcheck</span></span>
<span class="line"><span style="color: #24292F">    John->>John: Fight against hypochondria</span></span>
<span class="line"><span style="color: #24292F">end</span></span>
<span class="line"><span style="color: #24292F">Note right of John: Rational thoughts!</span></span>
<span class="line"><span style="color: #24292F">John-->>Alice: Great!</span></span>
<span class="line"><span style="color: #24292F">John->>Bob: How about you?</span></span>
<span class="line"><span style="color: #24292F">Bob-->>John: Jolly good!</span></span>
<span class="line"><span style="color: #24292F">```</span></span></code></pre>
<p><svg aria-roledescription="sequence" viewBox="-50 -10 684 561" style="max-width: 684px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="remark-mermaid-1"><style>#remark-mermaid-1{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#remark-mermaid-1 .error-icon{fill:#552222;}#remark-mermaid-1 .error-text{fill:#552222;stroke:#552222;}#remark-mermaid-1 .edge-thickness-normal{stroke-width:2px;}#remark-mermaid-1 .edge-thickness-thick{stroke-width:3.5px;}#remark-mermaid-1 .edge-pattern-solid{stroke-dasharray:0;}#remark-mermaid-1 .edge-pattern-dashed{stroke-dasharray:3;}#remark-mermaid-1 .edge-pattern-dotted{stroke-dasharray:2;}#remark-mermaid-1 .marker{fill:#333333;stroke:#333333;}#remark-mermaid-1 .marker.cross{stroke:#333333;}#remark-mermaid-1 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#remark-mermaid-1 .actor{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#remark-mermaid-1 text.actor>tspan{fill:black;stroke:none;}#remark-mermaid-1 .actor-line{stroke:grey;}#remark-mermaid-1 .messageLine0{stroke-width:1.5;stroke-dasharray:none;stroke:#333;}#remark-mermaid-1 .messageLine1{stroke-width:1.5;stroke-dasharray:2,2;stroke:#333;}#remark-mermaid-1 #arrowhead path{fill:#333;stroke:#333;}#remark-mermaid-1 .sequenceNumber{fill:white;}#remark-mermaid-1 #sequencenumber{fill:#333;}#remark-mermaid-1 #crosshead path{fill:#333;stroke:#333;}#remark-mermaid-1 .messageText{fill:#333;stroke:none;}#remark-mermaid-1 .labelBox{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#remark-mermaid-1 .labelText,#remark-mermaid-1 .labelText>tspan{fill:black;stroke:none;}#remark-mermaid-1 .loopText,#remark-mermaid-1 .loopText>tspan{fill:black;stroke:none;}#remark-mermaid-1 .loopLine{stroke-width:2px;stroke-dasharray:2,2;stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);}#remark-mermaid-1 .note{stroke:#aaaa33;fill:#fff5ad;}#remark-mermaid-1 .noteText,#remark-mermaid-1 .noteText>tspan{fill:black;stroke:none;}#remark-mermaid-1 .activation0{fill:#f4f4f4;stroke:#666;}#remark-mermaid-1 .activation1{fill:#f4f4f4;stroke:#666;}#remark-mermaid-1 .activation2{fill:#f4f4f4;stroke:#666;}#remark-mermaid-1 .actorPopupMenu{position:absolute;}#remark-mermaid-1 .actorPopupMenuPanel{position:absolute;fill:#ECECFF;box-shadow:0px 8px 16px 0px rgba(0,0,0,0.2);filter:drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));}#remark-mermaid-1 .actor-man line{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#remark-mermaid-1 .actor-man circle,#remark-mermaid-1 line{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;stroke-width:2px;}#remark-mermaid-1 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g></g><defs><symbol height="24" width="24" id="computer"><path d="M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z" transform="scale(.5)"></path></symbol></defs><defs><symbol clip-rule="evenodd" fill-rule="evenodd" id="database"><path d="M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z" transform="scale(.5)"></path></symbol></defs><defs><symbol height="24" width="24" id="clock"><path d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z" transform="scale(.5)"></path></symbol></defs><g><line stroke="#999" stroke-width="0.5px" class="200" y2="495" x2="75" y1="5" x1="75" id="actor0"></line><g id="root-0"><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="0" x="0"></rect><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="32.5" x="75"><tspan dy="0" x="75">Alice</tspan></text></g></g><g><line stroke="#999" stroke-width="0.5px" class="200" y2="495" x2="309" y1="5" x1="309" id="actor1"></line><g id="root-1"><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="0" x="234"></rect><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="32.5" x="309"><tspan dy="0" x="309">John</tspan></text></g></g><g><line stroke="#999" stroke-width="0.5px" class="200" y2="495" x2="509" y1="5" x1="509" id="actor2"></line><g id="root-2"><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="0" x="434"></rect><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="32.5" x="509"><tspan dy="0" x="509">Bob</tspan></text></g></g><defs><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="9" id="arrowhead"><path d="M 0 0 L 10 5 L 0 10 z"></path></marker></defs><defs><marker refY="5" refX="4" orient="auto" markerHeight="8" markerWidth="15" id="crosshead"><path style="stroke-dasharray: 0, 0;" d="M 1,2 L 6,7 M 6,2 L 1,7" stroke-width="1pt" stroke="#000000" fill="none"></path></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="18" id="filled-head"><path d="M 18,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="40" markerWidth="60" refY="15" refX="15" id="sequencenumber"><circle r="6" cy="15" cx="15"></circle></marker></defs><g><line class="loopLine" y2="121" x2="406.5" y1="121" x1="211.5"></line><line class="loopLine" y2="272" x2="406.5" y1="121" x1="406.5"></line><line class="loopLine" y2="272" x2="406.5" y1="272" x1="211.5"></line><line class="loopLine" y2="272" x2="211.5" y1="121" x1="211.5"></line><polygon class="labelBox" points="211.5,121 261.5,121 261.5,134 253.1,141 211.5,141"></polygon><text style="font-size: 16px; font-weight: 400;" class="labelText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="134" x="237">loop</text><text style="font-size: 16px; font-weight: 400;" class="loopText" text-anchor="middle" y="139" x="334"><tspan x="334">[Healthcheck]</tspan></text></g><g><rect class="note" ry="0" rx="0" height="37" width="150" stroke="#666" fill="#EDF2AE" y="282" x="334"></rect><text style="font-size: 16px; font-weight: 400;" dy="1em" class="noteText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="287" x="409"><tspan x="409">Rational thoughts!</tspan></text></g><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="80" x="192">Hello John, how are you?</text><line style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" y2="111" x2="309" y1="111" x1="75"></line><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="171" x="309">Fight against hypochondria</text><path style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" d="M 309,202 C 369,192 369,232 309,222"></path><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="334" x="192">Great!</text><line style="stroke-dasharray: 3, 3; fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine1" y2="363" x2="75" y1="363" x1="309"></line><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="378" x="409">How about you?</text><line style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" y2="409" x2="509" y1="409" x1="309"></line><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="424" x="409">Jolly good!</text><line style="stroke-dasharray: 3, 3; fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine1" y2="455" x2="309" y1="455" x1="509"></line><g><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="475" x="0"></rect><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="507.5" x="75"><tspan dy="0" x="75">Alice</tspan></text></g><g><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="475" x="234"></rect><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="507.5" x="309"><tspan dy="0" x="309">John</tspan></text></g><g><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="475" x="434"></rect><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="507.5" x="509"><tspan dy="0" x="509">Bob</tspan></text></g></svg></p>
<h2>Gantt chart</h2>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292F">```mermaid</span></span>
<span class="line"><span style="color: #24292F">gantt</span></span>
<span class="line"><span style="color: #24292F">    section Section</span></span>
<span class="line"><span style="color: #24292F">    Completed :done,    des1, 2014-01-06,2014-01-08</span></span>
<span class="line"><span style="color: #24292F">    Active        :active,  des2, 2014-01-07, 3d</span></span>
<span class="line"><span style="color: #24292F">    Parallel 1   :         des3, after des1, 1d</span></span>
<span class="line"><span style="color: #24292F">    Parallel 2   :         des4, after des1, 1d</span></span>
<span class="line"><span style="color: #24292F">    Parallel 3   :         des5, after des3, 1d</span></span>
<span class="line"><span style="color: #24292F">    Parallel 4   :         des6, after des4, 1d</span></span>
<span class="line"><span style="color: #24292F">```</span></span></code></pre>
<p><svg aria-roledescription="gantt" style="max-width: 784px;" viewBox="0 0 784 244" xmlns="http://www.w3.org/2000/svg" width="100%" id="remark-mermaid-2"><style>#remark-mermaid-2{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#remark-mermaid-2 .error-icon{fill:#552222;}#remark-mermaid-2 .error-text{fill:#552222;stroke:#552222;}#remark-mermaid-2 .edge-thickness-normal{stroke-width:2px;}#remark-mermaid-2 .edge-thickness-thick{stroke-width:3.5px;}#remark-mermaid-2 .edge-pattern-solid{stroke-dasharray:0;}#remark-mermaid-2 .edge-pattern-dashed{stroke-dasharray:3;}#remark-mermaid-2 .edge-pattern-dotted{stroke-dasharray:2;}#remark-mermaid-2 .marker{fill:#333333;stroke:#333333;}#remark-mermaid-2 .marker.cross{stroke:#333333;}#remark-mermaid-2 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#remark-mermaid-2 .mermaid-main-font{font-family:"trebuchet ms",verdana,arial,sans-serif;font-family:var(--mermaid-font-family);}#remark-mermaid-2 .exclude-range{fill:#eeeeee;}#remark-mermaid-2 .section{stroke:none;opacity:0.2;}#remark-mermaid-2 .section0{fill:rgba(102, 102, 255, 0.49);}#remark-mermaid-2 .section2{fill:#fff400;}#remark-mermaid-2 .section1,#remark-mermaid-2 .section3{fill:white;opacity:0.2;}#remark-mermaid-2 .sectionTitle0{fill:#333;}#remark-mermaid-2 .sectionTitle1{fill:#333;}#remark-mermaid-2 .sectionTitle2{fill:#333;}#remark-mermaid-2 .sectionTitle3{fill:#333;}#remark-mermaid-2 .sectionTitle{text-anchor:start;font-family:'trebuchet ms',verdana,arial,sans-serif;font-family:var(--mermaid-font-family);}#remark-mermaid-2 .grid .tick{stroke:lightgrey;opacity:0.8;shape-rendering:crispEdges;}#remark-mermaid-2 .grid .tick text{font-family:"trebuchet ms",verdana,arial,sans-serif;fill:#333;}#remark-mermaid-2 .grid path{stroke-width:0;}#remark-mermaid-2 .today{fill:none;stroke:red;stroke-width:2px;}#remark-mermaid-2 .task{stroke-width:2;}#remark-mermaid-2 .taskText{text-anchor:middle;font-family:'trebuchet ms',verdana,arial,sans-serif;font-family:var(--mermaid-font-family);}#remark-mermaid-2 .taskTextOutsideRight{fill:black;text-anchor:start;font-family:'trebuchet ms',verdana,arial,sans-serif;font-family:var(--mermaid-font-family);}#remark-mermaid-2 .taskTextOutsideLeft{fill:black;text-anchor:end;}#remark-mermaid-2 .task.clickable{cursor:pointer;}#remark-mermaid-2 .taskText.clickable{cursor:pointer;fill:#003163!important;font-weight:bold;}#remark-mermaid-2 .taskTextOutsideLeft.clickable{cursor:pointer;fill:#003163!important;font-weight:bold;}#remark-mermaid-2 .taskTextOutsideRight.clickable{cursor:pointer;fill:#003163!important;font-weight:bold;}#remark-mermaid-2 .taskText0,#remark-mermaid-2 .taskText1,#remark-mermaid-2 .taskText2,#remark-mermaid-2 .taskText3{fill:white;}#remark-mermaid-2 .task0,#remark-mermaid-2 .task1,#remark-mermaid-2 .task2,#remark-mermaid-2 .task3{fill:#8a90dd;stroke:#534fbc;}#remark-mermaid-2 .taskTextOutside0,#remark-mermaid-2 .taskTextOutside2{fill:black;}#remark-mermaid-2 .taskTextOutside1,#remark-mermaid-2 .taskTextOutside3{fill:black;}#remark-mermaid-2 .active0,#remark-mermaid-2 .active1,#remark-mermaid-2 .active2,#remark-mermaid-2 .active3{fill:#bfc7ff;stroke:#534fbc;}#remark-mermaid-2 .activeText0,#remark-mermaid-2 .activeText1,#remark-mermaid-2 .activeText2,#remark-mermaid-2 .activeText3{fill:black!important;}#remark-mermaid-2 .done0,#remark-mermaid-2 .done1,#remark-mermaid-2 .done2,#remark-mermaid-2 .done3{stroke:grey;fill:lightgrey;stroke-width:2;}#remark-mermaid-2 .doneText0,#remark-mermaid-2 .doneText1,#remark-mermaid-2 .doneText2,#remark-mermaid-2 .doneText3{fill:black!important;}#remark-mermaid-2 .crit0,#remark-mermaid-2 .crit1,#remark-mermaid-2 .crit2,#remark-mermaid-2 .crit3{stroke:#ff8888;fill:red;stroke-width:2;}#remark-mermaid-2 .activeCrit0,#remark-mermaid-2 .activeCrit1,#remark-mermaid-2 .activeCrit2,#remark-mermaid-2 .activeCrit3{stroke:#ff8888;fill:#bfc7ff;stroke-width:2;}#remark-mermaid-2 .doneCrit0,#remark-mermaid-2 .doneCrit1,#remark-mermaid-2 .doneCrit2,#remark-mermaid-2 .doneCrit3{stroke:#ff8888;fill:lightgrey;stroke-width:2;cursor:pointer;shape-rendering:crispEdges;}#remark-mermaid-2 .milestone{transform:rotate(45deg) scale(0.8,0.8);}#remark-mermaid-2 .milestoneText{font-style:italic;}#remark-mermaid-2 .doneCritText0,#remark-mermaid-2 .doneCritText1,#remark-mermaid-2 .doneCritText2,#remark-mermaid-2 .doneCritText3{fill:black!important;}#remark-mermaid-2 .activeCritText0,#remark-mermaid-2 .activeCritText1,#remark-mermaid-2 .activeCritText2,#remark-mermaid-2 .activeCritText3{fill:black!important;}#remark-mermaid-2 .titleText{text-anchor:middle;font-size:18px;fill:#333;font-family:'trebuchet ms',verdana,arial,sans-serif;font-family:var(--mermaid-font-family);}#remark-mermaid-2 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g></g><g></g><g text-anchor="middle" font-family="sans-serif" font-size="10" fill="none" transform="translate(75, 194)" class="grid"><path d="M0.5,-159V0.5H634.5V-159" stroke="currentColor" class="domain"></path><g transform="translate(0.5,0)" opacity="1" class="tick"><line y2="-159" stroke="currentColor"></line><text style="text-anchor: middle;" font-size="10" stroke="none" dy="1em" y="3" fill="#000">2014-01-06</text></g><g transform="translate(79.5,0)" opacity="1" class="tick"><line y2="-159" stroke="currentColor"></line><text style="text-anchor: middle;" font-size="10" stroke="none" dy="1em" y="3" fill="#000">2014-01-06</text></g><g transform="translate(159.5,0)" opacity="1" class="tick"><line y2="-159" stroke="currentColor"></line><text style="text-anchor: middle;" font-size="10" stroke="none" dy="1em" y="3" fill="#000">2014-01-07</text></g><g transform="translate(238.5,0)" opacity="1" class="tick"><line y2="-159" stroke="currentColor"></line><text style="text-anchor: middle;" font-size="10" stroke="none" dy="1em" y="3" fill="#000">2014-01-07</text></g><g transform="translate(317.5,0)" opacity="1" class="tick"><line y2="-159" stroke="currentColor"></line><text style="text-anchor: middle;" font-size="10" stroke="none" dy="1em" y="3" fill="#000">2014-01-08</text></g><g transform="translate(396.5,0)" opacity="1" class="tick"><line y2="-159" stroke="currentColor"></line><text style="text-anchor: middle;" font-size="10" stroke="none" dy="1em" y="3" fill="#000">2014-01-08</text></g><g transform="translate(476.5,0)" opacity="1" class="tick"><line y2="-159" stroke="currentColor"></line><text style="text-anchor: middle;" font-size="10" stroke="none" dy="1em" y="3" fill="#000">2014-01-09</text></g><g transform="translate(555.5,0)" opacity="1" class="tick"><line y2="-159" stroke="currentColor"></line><text style="text-anchor: middle;" font-size="10" stroke="none" dy="1em" y="3" fill="#000">2014-01-09</text></g><g transform="translate(634.5,0)" opacity="1" class="tick"><line y2="-159" stroke="currentColor"></line><text style="text-anchor: middle;" font-size="10" stroke="none" dy="1em" y="3" fill="#000">2014-01-10</text></g></g><g><rect class="section section0" height="24" width="746.5" y="48" x="0"></rect><rect class="section section0" height="24" width="746.5" y="72" x="0"></rect><rect class="section section0" height="24" width="746.5" y="96" x="0"></rect><rect class="section section0" height="24" width="746.5" y="120" x="0"></rect><rect class="section section0" height="24" width="746.5" y="144" x="0"></rect><rect class="section section0" height="24" width="746.5" y="168" x="0"></rect></g><g><rect class="task done0" transform-origin="233.5px 60px" height="20" width="317" y="50" x="75" ry="3" rx="3" id="des1"></rect><rect class="task active0" transform-origin="471.5px 84px" height="20" width="475" y="74" x="234" ry="3" rx="3" id="des2"></rect><rect class="task task0" transform-origin="471.5px 108px" height="20" width="159" y="98" x="392" ry="3" rx="3" id="des3"></rect><rect class="task task0" transform-origin="471.5px 132px" height="20" width="159" y="122" x="392" ry="3" rx="3" id="des4"></rect><rect class="task task0" transform-origin="630px 156px" height="20" width="158" y="146" x="551" ry="3" rx="3" id="des5"></rect><rect class="task task0" transform-origin="630px 180px" height="20" width="158" y="170" x="551" ry="3" rx="3" id="des6"></rect><text class="taskText taskText0 doneText0 width-53.203125" y="63.5" x="233.5" font-size="11" id="des1-text">Completed </text><text class="taskText taskText0 activeText0 width-29.96875" y="87.5" x="471.5" font-size="11" id="des2-text">Active        </text><text class="taskText taskText0 width-45.859375" y="111.5" x="471.5" font-size="11" id="des3-text">Parallel 1   </text><text class="taskText taskText0 width-45.859375" y="135.5" x="471.5" font-size="11" id="des4-text">Parallel 2   </text><text class="taskText taskText0 width-45.859375" y="159.5" x="630" font-size="11" id="des5-text">Parallel 3   </text><text class="taskText taskText0 width-45.859375" y="183.5" x="630" font-size="11" id="des6-text">Parallel 4   </text></g><g><text class="sectionTitle sectionTitle0" font-size="11" y="122" x="10" dy="0em"><tspan x="10" alignment-baseline="central">Section</tspan></text></g><g class="today"><line class="today" y2="219" y1="25" x2="520897" x1="520897"></line></g><text class="titleText" y="25" x="392"></text></svg></p>
<h2>Class diagram</h2>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292F">```mermaid</span></span>
<span class="line"><span style="color: #24292F">classDiagram</span></span>
<span class="line"><span style="color: #24292F">Class01 &#x3C;|-- AveryLongClass : Cool</span></span>
<span class="line"><span style="color: #24292F">&#x3C;&#x3C;Interface>> Class01</span></span>
<span class="line"><span style="color: #24292F">Class09 --> C2 : Where am I?</span></span>
<span class="line"><span style="color: #24292F">Class09 --* C3</span></span>
<span class="line"><span style="color: #24292F">Class09 --|> Class07</span></span>
<span class="line"><span style="color: #24292F">Class07 : equals()</span></span>
<span class="line"><span style="color: #24292F">Class07 : Object[] elementData</span></span>
<span class="line"><span style="color: #24292F">Class01 : size()</span></span>
<span class="line"><span style="color: #24292F">Class01 : int chimp</span></span>
<span class="line"><span style="color: #24292F">Class01 : int gorilla</span></span>
<span class="line"><span style="color: #24292F">class Class10 {</span></span>
<span class="line"><span style="color: #24292F">  &#x3C;&#x3C;service>></span></span>
<span class="line"><span style="color: #24292F">  int id</span></span>
<span class="line"><span style="color: #24292F">  size()</span></span>
<span class="line"><span style="color: #24292F">}</span></span>
<span class="line"><span style="color: #24292F">```</span></span></code></pre>
<p><svg aria-roledescription="classDiagram" viewBox="0 0 542.875 330" style="max-width: 542.875px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="remark-mermaid-3"><style>#remark-mermaid-3{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#remark-mermaid-3 .error-icon{fill:#552222;}#remark-mermaid-3 .error-text{fill:#552222;stroke:#552222;}#remark-mermaid-3 .edge-thickness-normal{stroke-width:2px;}#remark-mermaid-3 .edge-thickness-thick{stroke-width:3.5px;}#remark-mermaid-3 .edge-pattern-solid{stroke-dasharray:0;}#remark-mermaid-3 .edge-pattern-dashed{stroke-dasharray:3;}#remark-mermaid-3 .edge-pattern-dotted{stroke-dasharray:2;}#remark-mermaid-3 .marker{fill:#333333;stroke:#333333;}#remark-mermaid-3 .marker.cross{stroke:#333333;}#remark-mermaid-3 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#remark-mermaid-3 g.classGroup text{fill:#9370DB;fill:#131300;stroke:none;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:10px;}#remark-mermaid-3 g.classGroup text .title{font-weight:bolder;}#remark-mermaid-3 .nodeLabel,#remark-mermaid-3 .edgeLabel{color:#131300;}#remark-mermaid-3 .edgeLabel .label rect{fill:#ECECFF;}#remark-mermaid-3 .label text{fill:#131300;}#remark-mermaid-3 .edgeLabel .label span{background:#ECECFF;}#remark-mermaid-3 .classTitle{font-weight:bolder;}#remark-mermaid-3 .node rect,#remark-mermaid-3 .node circle,#remark-mermaid-3 .node ellipse,#remark-mermaid-3 .node polygon,#remark-mermaid-3 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#remark-mermaid-3 .divider{stroke:#9370DB;stroke:1;}#remark-mermaid-3 g.clickable{cursor:pointer;}#remark-mermaid-3 g.classGroup rect{fill:#ECECFF;stroke:#9370DB;}#remark-mermaid-3 g.classGroup line{stroke:#9370DB;stroke-width:1;}#remark-mermaid-3 .classLabel .box{stroke:none;stroke-width:0;fill:#ECECFF;opacity:0.5;}#remark-mermaid-3 .classLabel .label{fill:#9370DB;font-size:10px;}#remark-mermaid-3 .relation{stroke:#333333;stroke-width:1;fill:none;}#remark-mermaid-3 .dashed-line{stroke-dasharray:3;}#remark-mermaid-3 .dotted-line{stroke-dasharray:1 2;}#remark-mermaid-3 #compositionStart,#remark-mermaid-3 .composition{fill:#333333!important;stroke:#333333!important;stroke-width:1;}#remark-mermaid-3 #compositionEnd,#remark-mermaid-3 .composition{fill:#333333!important;stroke:#333333!important;stroke-width:1;}#remark-mermaid-3 #dependencyStart,#remark-mermaid-3 .dependency{fill:#333333!important;stroke:#333333!important;stroke-width:1;}#remark-mermaid-3 #dependencyStart,#remark-mermaid-3 .dependency{fill:#333333!important;stroke:#333333!important;stroke-width:1;}#remark-mermaid-3 #extensionStart,#remark-mermaid-3 .extension{fill:#ECECFF!important;stroke:#333333!important;stroke-width:1;}#remark-mermaid-3 #extensionEnd,#remark-mermaid-3 .extension{fill:#ECECFF!important;stroke:#333333!important;stroke-width:1;}#remark-mermaid-3 #aggregationStart,#remark-mermaid-3 .aggregation{fill:#ECECFF!important;stroke:#333333!important;stroke-width:1;}#remark-mermaid-3 #aggregationEnd,#remark-mermaid-3 .aggregation{fill:#ECECFF!important;stroke:#333333!important;stroke-width:1;}#remark-mermaid-3 #lollipopStart,#remark-mermaid-3 .lollipop{fill:#ECECFF!important;stroke:#333333!important;stroke-width:1;}#remark-mermaid-3 #lollipopEnd,#remark-mermaid-3 .lollipop{fill:#ECECFF!important;stroke:#333333!important;stroke-width:1;}#remark-mermaid-3 .edgeTerminals{font-size:11px;}#remark-mermaid-3 .classTitleText{text-anchor:middle;font-size:18px;fill:#333;}#remark-mermaid-3 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="0" class="marker aggregation classDiagram" id="classDiagram-aggregationStart"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="19" class="marker aggregation classDiagram" id="classDiagram-aggregationEnd"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="0" class="marker extension classDiagram" id="classDiagram-extensionStart"><path d="M 1,7 L18,13 V 1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="19" class="marker extension classDiagram" id="classDiagram-extensionEnd"><path d="M 1,1 V 13 L18,7 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="0" class="marker composition classDiagram" id="classDiagram-compositionStart"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="19" class="marker composition classDiagram" id="classDiagram-compositionEnd"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="0" class="marker dependency classDiagram" id="classDiagram-dependencyStart"><path d="M 5,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="19" class="marker dependency classDiagram" id="classDiagram-dependencyEnd"><path d="M 18,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="0" class="marker lollipop classDiagram" id="classDiagram-lollipopStart"><circle r="6" cy="7" cx="6" fill="white" stroke="black"></circle></marker></defs><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-start="url(#classDiagram-extensionStart)" style="fill:none" class="edge-pattern-solid relation" id="id1" d="M78.3359375,153L78.3359375,158.66666666666666C78.3359375,164.33333333333334,78.3359375,175.66666666666666,78.3359375,190.66666666666666C78.3359375,205.66666666666666,78.3359375,224.33333333333334,78.3359375,233.66666666666666L78.3359375,243"></path><path marker-end="url(#classDiagram-dependencyEnd)" style="fill:none" class="edge-pattern-solid relation" id="id2" d="M278.9838248239437,109L268.5529269366197,122C258.1220290492958,135,237.2602332746479,161,226.82933538732394,183.33333333333334C216.3984375,205.66666666666666,216.3984375,224.33333333333334,216.3984375,233.66666666666666L216.3984375,243"></path><path marker-end="url(#classDiagram-compositionEnd)" style="fill:none" class="edge-pattern-solid relation" id="id3" d="M301.8515625,109L301.8515625,122C301.8515625,135,301.8515625,161,301.8515625,183.33333333333334C301.8515625,205.66666666666666,301.8515625,224.33333333333334,301.8515625,233.66666666666666L301.8515625,243"></path><path marker-end="url(#classDiagram-extensionEnd)" style="fill:none" class="edge-pattern-solid relation" id="id4" d="M339.6015625,107.2356608478803L358.3723958333333,120.5297173732336C377.1432291666667,133.82377389858686,414.6848958333333,160.41188694929343,433.4557291666667,179.3726101413134C452.2265625,198.33333333333334,452.2265625,209.66666666666666,452.2265625,215.33333333333334L452.2265625,221"></path></g><g class="edgeLabels"><g transform="translate(78.3359375, 187)" class="edgeLabel"><g transform="translate(-16.453125, -9)" class="label"><foreignObject height="18" width="32.90625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><span class="edgeLabel">Cool</span></span></div></foreignObject></g></g><g transform="translate(216.3984375, 187)" class="edgeLabel"><g transform="translate(-45.796875, -9)" class="label"><foreignObject height="18" width="91.59375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><span class="edgeLabel">Where am I?</span></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(78.3359375, 80.5)" id="classid-Class01-0" class="node default"><rect height="145" width="95.0625" y="-72.5" x="-47.53125" class="outer title-state"></rect><line y2="-20.5" y1="-20.5" x2="47.53125" x1="-47.53125" class="divider"></line><line y2="39.5" y1="39.5" x2="47.53125" x1="-47.53125" class="divider"></line><g class="label"><foreignObject transform="translate( -40.03125, -65)" height="18" width="80.0625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">«Interface»</span></div></foreignObject><foreignObject transform="translate( -30.25, -43)" height="18" width="60.5" class="classTitle"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Class01</span></div></foreignObject><foreignObject transform="translate( -40.03125, -9)" height="18" width="64.03125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">int chimp</span></div></foreignObject><foreignObject transform="translate( -40.03125, 13)" height="18" width="64.03125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">int gorilla</span></div></foreignObject><foreignObject transform="translate( -40.03125, 47)" height="18" width="39.109375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">size()</span></div></foreignObject></g></g><g transform="translate(78.3359375, 271.5)" id="classid-AveryLongClass-1" class="node default"><rect height="57" width="140.671875" y="-28.5" x="-70.3359375" class="outer title-state"></rect><line y2="1.5" y1="1.5" x2="70.3359375" x1="-70.3359375" class="divider"></line><line y2="17.5" y1="17.5" x2="70.3359375" x1="-70.3359375" class="divider"></line><g class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"></span></div></foreignObject><foreignObject transform="translate( -62.8359375, -21)" height="18" width="125.671875" class="classTitle"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">AveryLongClass</span></div></foreignObject></g></g><g transform="translate(301.8515625, 80.5)" id="classid-Class09-2" class="node default"><rect height="57" width="75.5" y="-28.5" x="-37.75" class="outer title-state"></rect><line y2="1.5" y1="1.5" x2="37.75" x1="-37.75" class="divider"></line><line y2="17.5" y1="17.5" x2="37.75" x1="-37.75" class="divider"></line><g class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"></span></div></foreignObject><foreignObject transform="translate( -30.25, -21)" height="18" width="60.5" class="classTitle"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Class09</span></div></foreignObject></g></g><g transform="translate(216.3984375, 271.5)" id="classid-C2-3" class="node default"><rect height="57" width="35.453125" y="-28.5" x="-17.7265625" class="outer title-state"></rect><line y2="1.5" y1="1.5" x2="17.7265625" x1="-17.7265625" class="divider"></line><line y2="17.5" y1="17.5" x2="17.7265625" x1="-17.7265625" class="divider"></line><g class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"></span></div></foreignObject><foreignObject transform="translate( -10.2265625, -21)" height="18" width="20.453125" class="classTitle"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">C2</span></div></foreignObject></g></g><g transform="translate(301.8515625, 271.5)" id="classid-C3-4" class="node default"><rect height="57" width="35.453125" y="-28.5" x="-17.7265625" class="outer title-state"></rect><line y2="1.5" y1="1.5" x2="17.7265625" x1="-17.7265625" class="divider"></line><line y2="17.5" y1="17.5" x2="17.7265625" x1="-17.7265625" class="divider"></line><g class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"></span></div></foreignObject><foreignObject transform="translate( -10.2265625, -21)" height="18" width="20.453125" class="classTitle"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">C3</span></div></foreignObject></g></g><g transform="translate(452.2265625, 271.5)" id="classid-Class07-5" class="node default"><rect height="101" width="165.296875" y="-50.5" x="-82.6484375" class="outer title-state"></rect><line y2="-20.5" y1="-20.5" x2="82.6484375" x1="-82.6484375" class="divider"></line><line y2="17.5" y1="17.5" x2="82.6484375" x1="-82.6484375" class="divider"></line><g class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"></span></div></foreignObject><foreignObject transform="translate( -30.25, -43)" height="18" width="60.5" class="classTitle"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Class07</span></div></foreignObject><foreignObject transform="translate( -75.1484375, -9)" height="18" width="150.296875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Object[] elementData</span></div></foreignObject><foreignObject transform="translate( -75.1484375, 25)" height="18" width="57.8125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">equals()</span></div></foreignObject></g></g><g transform="translate(431.34375, 80.5)" id="classid-Class10-6" class="node default"><rect height="123" width="83.484375" y="-61.5" x="-41.7421875" class="outer title-state"></rect><line y2="-9.5" y1="-9.5" x2="41.7421875" x1="-41.7421875" class="divider"></line><line y2="28.5" y1="28.5" x2="41.7421875" x1="-41.7421875" class="divider"></line><g class="label"><foreignObject transform="translate( -34.2421875, -54)" height="18" width="68.484375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">«service»</span></div></foreignObject><foreignObject transform="translate( -30.25, -32)" height="18" width="60.5" class="classTitle"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Class10</span></div></foreignObject><foreignObject transform="translate( -34.2421875, 2)" height="18" width="33.796875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">int id</span></div></foreignObject><foreignObject transform="translate( -34.2421875, 36)" height="18" width="39.109375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">size()</span></div></foreignObject></g></g></g></g></g></svg></p>
<h2>Git graph</h2>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292F">```mermaid</span></span>
<span class="line"><span style="color: #24292F">gitGraph</span></span>
<span class="line"><span style="color: #24292F">    commit</span></span>
<span class="line"><span style="color: #24292F">    commit</span></span>
<span class="line"><span style="color: #24292F">    branch develop</span></span>
<span class="line"><span style="color: #24292F">    commit</span></span>
<span class="line"><span style="color: #24292F">    commit</span></span>
<span class="line"><span style="color: #24292F">    commit</span></span>
<span class="line"><span style="color: #24292F">    checkout main</span></span>
<span class="line"><span style="color: #24292F">    commit</span></span>
<span class="line"><span style="color: #24292F">    commit</span></span>
<span class="line"><span style="color: #24292F">```</span></span></code></pre>
<p><svg aria-roledescription="gitGraph" viewBox="-117.1484375 -18 475.1484375 173.9670867919922" height="173.9670867919922" xmlns="http://www.w3.org/2000/svg" width="475.1484375" id="remark-mermaid-4"><style>#remark-mermaid-4{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#remark-mermaid-4 .error-icon{fill:#552222;}#remark-mermaid-4 .error-text{fill:#552222;stroke:#552222;}#remark-mermaid-4 .edge-thickness-normal{stroke-width:2px;}#remark-mermaid-4 .edge-thickness-thick{stroke-width:3.5px;}#remark-mermaid-4 .edge-pattern-solid{stroke-dasharray:0;}#remark-mermaid-4 .edge-pattern-dashed{stroke-dasharray:3;}#remark-mermaid-4 .edge-pattern-dotted{stroke-dasharray:2;}#remark-mermaid-4 .marker{fill:#333333;stroke:#333333;}#remark-mermaid-4 .marker.cross{stroke:#333333;}#remark-mermaid-4 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#remark-mermaid-4 .commit-id,#remark-mermaid-4 .commit-msg,#remark-mermaid-4 .branch-label{fill:lightgrey;color:lightgrey;font-family:'trebuchet ms',verdana,arial,sans-serif;font-family:var(--mermaid-font-family);}#remark-mermaid-4 .branch-label0{fill:#ffffff;}#remark-mermaid-4 .commit0{stroke:hsl(240, 100%, 46.2745098039%);fill:hsl(240, 100%, 46.2745098039%);}#remark-mermaid-4 .commit-highlight0{stroke:hsl(60, 100%, 3.7254901961%);fill:hsl(60, 100%, 3.7254901961%);}#remark-mermaid-4 .label0{fill:hsl(240, 100%, 46.2745098039%);}#remark-mermaid-4 .arrow0{stroke:hsl(240, 100%, 46.2745098039%);}#remark-mermaid-4 .branch-label1{fill:black;}#remark-mermaid-4 .commit1{stroke:hsl(60, 100%, 43.5294117647%);fill:hsl(60, 100%, 43.5294117647%);}#remark-mermaid-4 .commit-highlight1{stroke:rgb(0, 0, 160.5);fill:rgb(0, 0, 160.5);}#remark-mermaid-4 .label1{fill:hsl(60, 100%, 43.5294117647%);}#remark-mermaid-4 .arrow1{stroke:hsl(60, 100%, 43.5294117647%);}#remark-mermaid-4 .branch-label2{fill:black;}#remark-mermaid-4 .commit2{stroke:hsl(80, 100%, 46.2745098039%);fill:hsl(80, 100%, 46.2745098039%);}#remark-mermaid-4 .commit-highlight2{stroke:rgb(48.8333333334, 0, 146.5000000001);fill:rgb(48.8333333334, 0, 146.5000000001);}#remark-mermaid-4 .label2{fill:hsl(80, 100%, 46.2745098039%);}#remark-mermaid-4 .arrow2{stroke:hsl(80, 100%, 46.2745098039%);}#remark-mermaid-4 .branch-label3{fill:#ffffff;}#remark-mermaid-4 .commit3{stroke:hsl(210, 100%, 46.2745098039%);fill:hsl(210, 100%, 46.2745098039%);}#remark-mermaid-4 .commit-highlight3{stroke:rgb(146.5000000001, 73.2500000001, 0);fill:rgb(146.5000000001, 73.2500000001, 0);}#remark-mermaid-4 .label3{fill:hsl(210, 100%, 46.2745098039%);}#remark-mermaid-4 .arrow3{stroke:hsl(210, 100%, 46.2745098039%);}#remark-mermaid-4 .branch-label4{fill:black;}#remark-mermaid-4 .commit4{stroke:hsl(180, 100%, 46.2745098039%);fill:hsl(180, 100%, 46.2745098039%);}#remark-mermaid-4 .commit-highlight4{stroke:rgb(146.5000000001, 0, 0);fill:rgb(146.5000000001, 0, 0);}#remark-mermaid-4 .label4{fill:hsl(180, 100%, 46.2745098039%);}#remark-mermaid-4 .arrow4{stroke:hsl(180, 100%, 46.2745098039%);}#remark-mermaid-4 .branch-label5{fill:black;}#remark-mermaid-4 .commit5{stroke:hsl(150, 100%, 46.2745098039%);fill:hsl(150, 100%, 46.2745098039%);}#remark-mermaid-4 .commit-highlight5{stroke:rgb(146.5000000001, 0, 73.2500000001);fill:rgb(146.5000000001, 0, 73.2500000001);}#remark-mermaid-4 .label5{fill:hsl(150, 100%, 46.2745098039%);}#remark-mermaid-4 .arrow5{stroke:hsl(150, 100%, 46.2745098039%);}#remark-mermaid-4 .branch-label6{fill:black;}#remark-mermaid-4 .commit6{stroke:hsl(300, 100%, 46.2745098039%);fill:hsl(300, 100%, 46.2745098039%);}#remark-mermaid-4 .commit-highlight6{stroke:rgb(0, 146.5000000001, 0);fill:rgb(0, 146.5000000001, 0);}#remark-mermaid-4 .label6{fill:hsl(300, 100%, 46.2745098039%);}#remark-mermaid-4 .arrow6{stroke:hsl(300, 100%, 46.2745098039%);}#remark-mermaid-4 .branch-label7{fill:black;}#remark-mermaid-4 .commit7{stroke:hsl(0, 100%, 46.2745098039%);fill:hsl(0, 100%, 46.2745098039%);}#remark-mermaid-4 .commit-highlight7{stroke:rgb(0, 146.5000000001, 146.5000000001);fill:rgb(0, 146.5000000001, 146.5000000001);}#remark-mermaid-4 .label7{fill:hsl(0, 100%, 46.2745098039%);}#remark-mermaid-4 .arrow7{stroke:hsl(0, 100%, 46.2745098039%);}#remark-mermaid-4 .branch{stroke-width:1;stroke:#333333;stroke-dasharray:2;}#remark-mermaid-4 .commit-label{font-size:10px;fill:#000021;}#remark-mermaid-4 .commit-label-bkg{font-size:10px;fill:#ffffde;opacity:0.5;}#remark-mermaid-4 .tag-label{font-size:10px;fill:#131300;}#remark-mermaid-4 .tag-label-bkg{fill:#ECECFF;stroke:hsl(240, 60%, 86.2745098039%);}#remark-mermaid-4 .tag-hole{fill:#333;}#remark-mermaid-4 .commit-merge{stroke:#ECECFF;fill:#ECECFF;}#remark-mermaid-4 .commit-reverse{stroke:#ECECFF;fill:#ECECFF;stroke-width:3;}#remark-mermaid-4 .commit-highlight-inner{stroke:#ECECFF;fill:#ECECFF;}#remark-mermaid-4 .arrow{stroke-width:8;stroke-linecap:round;fill:none;}#remark-mermaid-4 .gitTitleText{text-anchor:middle;font-size:18px;fill:#333;}:root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g></g><g class="commit-bullets"></g><g class="commit-labels"></g><g><line class="branch branch0" y2="0" x2="350" y1="0" x1="0"></line><rect transform="translate(-19, -8.5)" height="21" width="52.6875" y="-0.5" x="-68.6875" ry="4" rx="4" class="branchLabelBkg label0"></rect><g class="branchLabel"><g transform="translate(-78.6875, -9.5)" class="label branch-label0"><text><tspan class="row" x="0" dy="1em" xml:space="preserve">main</tspan></text></g></g><line class="branch branch1" y2="90" x2="350" y1="90" x1="0"></line><rect transform="translate(-19, 81.5)" height="21" width="74.1484375" y="-0.5" x="-90.1484375" ry="4" rx="4" class="branchLabelBkg label1"></rect><g class="branchLabel"><g transform="translate(-100.1484375, 80.5)" class="label branch-label1"><text><tspan class="row" x="0" dy="1em" xml:space="preserve">develop</tspan></text></g></g></g><g class="commit-arrows"><path class="arrow arrow0" d="M 10 0 L 10 0  10 0 L 60 0"></path><path class="arrow arrow1" d="M 60 0 L 60 70 A 20 20, 0, 0, 0, 80 90 L 110 90"></path><path class="arrow arrow1" d="M 110 90 L 110 90  110 90 L 160 90"></path><path class="arrow arrow1" d="M 160 90 L 160 90  160 90 L 210 90"></path><path class="arrow arrow0" d="M 60 0 L 60 0  60 0 L 260 0"></path><path class="arrow arrow0" d="M 260 0 L 260 0  260 0 L 310 0"></path></g><g class="commit-bullets"><circle class="commit 0-d7098e7 commit0" r="10" cy="0" cx="10"></circle><circle class="commit 1-03dcd3a commit0" r="10" cy="0" cx="60"></circle><circle class="commit 2-c6543b2 commit1" r="10" cy="90" cx="110"></circle><circle class="commit 3-26ea892 commit1" r="10" cy="90" cx="160"></circle><circle class="commit 4-1b05acd commit1" r="10" cy="90" cx="210"></circle><circle class="commit 5-37ed1c3 commit0" r="10" cy="0" cx="260"></circle><circle class="commit 6-3235418 commit0" r="10" cy="0" cx="310"></circle></g><g class="commit-labels"><g transform="translate(-29.639082031250002, 26.40865234375) rotate(-45, 0, 0)"><rect height="15" width="52.2607421875" y="13.5" x="-16.13037109375" class="commit-label-bkg"></rect><text class="commit-label" y="25" x="-14.13037109375">0-d7098e7</text></g><g transform="translate(-29.425703125000002, 26.217734375) rotate(-45, 50, 0)"><rect height="15" width="51.69921875" y="13.5" x="34.150390625" class="commit-label-bkg"></rect><text class="commit-label" y="25" x="36.150390625">1-03dcd3a</text></g><g transform="translate(-29.425703125000002, 26.217734375) rotate(-45, 100, 90)"><rect height="15" width="51.69921875" y="103.5" x="84.150390625" class="commit-label-bkg"></rect><text class="commit-label" y="115" x="86.150390625">2-c6543b2</text></g><g transform="translate(-29.639082031250002, 26.40865234375) rotate(-45, 150, 90)"><rect height="15" width="52.2607421875" y="103.5" x="133.86962890625" class="commit-label-bkg"></rect><text class="commit-label" y="115" x="135.86962890625">3-26ea892</text></g><g transform="translate(-29.2609375, 26.0703125) rotate(-45, 200, 90)"><rect height="15" width="51.265625" y="103.5" x="184.3671875" class="commit-label-bkg"></rect><text class="commit-label" y="115" x="186.3671875">4-1b05acd</text></g><g transform="translate(-29.425703125000002, 26.217734375) rotate(-45, 250, 0)"><rect height="15" width="51.69921875" y="13.5" x="234.150390625" class="commit-label-bkg"></rect><text class="commit-label" y="25" x="236.150390625">5-37ed1c3</text></g><g transform="translate(-29.639082031250002, 26.40865234375) rotate(-45, 300, 0)"><rect height="15" width="52.2607421875" y="13.5" x="283.86962890625" class="commit-label-bkg"></rect><text class="commit-label" y="25" x="285.86962890625">6-3235418</text></g></g></svg></p>
<h2>State diagram</h2>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292F">```mermaid</span></span>
<span class="line"><span style="color: #24292F">stateDiagram-v2</span></span>
<span class="line"><span style="color: #24292F">[*] --> Still</span></span>
<span class="line"><span style="color: #24292F">Still --> [*]</span></span>
<span class="line"><span style="color: #24292F">Still --> Moving</span></span>
<span class="line"><span style="color: #24292F">Moving --> Still</span></span>
<span class="line"><span style="color: #24292F">Moving --> Crash</span></span>
<span class="line"><span style="color: #24292F">Crash --> [*]</span></span>
<span class="line"><span style="color: #24292F">```</span></span></code></pre>
<p><svg aria-roledescription="stateDiagram" viewBox="-23.75390625 0 117.578125 343" style="max-width: 117.578125px;" class="statediagram" xmlns="http://www.w3.org/2000/svg" width="100%" id="remark-mermaid-5"><style>#remark-mermaid-5{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#remark-mermaid-5 .error-icon{fill:#552222;}#remark-mermaid-5 .error-text{fill:#552222;stroke:#552222;}#remark-mermaid-5 .edge-thickness-normal{stroke-width:2px;}#remark-mermaid-5 .edge-thickness-thick{stroke-width:3.5px;}#remark-mermaid-5 .edge-pattern-solid{stroke-dasharray:0;}#remark-mermaid-5 .edge-pattern-dashed{stroke-dasharray:3;}#remark-mermaid-5 .edge-pattern-dotted{stroke-dasharray:2;}#remark-mermaid-5 .marker{fill:#333333;stroke:#333333;}#remark-mermaid-5 .marker.cross{stroke:#333333;}#remark-mermaid-5 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#remark-mermaid-5 defs #statediagram-barbEnd{fill:#333333;stroke:#333333;}#remark-mermaid-5 g.stateGroup text{fill:#9370DB;stroke:none;font-size:10px;}#remark-mermaid-5 g.stateGroup text{fill:#333;stroke:none;font-size:10px;}#remark-mermaid-5 g.stateGroup .state-title{font-weight:bolder;fill:#131300;}#remark-mermaid-5 g.stateGroup rect{fill:#ECECFF;stroke:#9370DB;}#remark-mermaid-5 g.stateGroup line{stroke:#333333;stroke-width:1;}#remark-mermaid-5 .transition{stroke:#333333;stroke-width:1;fill:none;}#remark-mermaid-5 .stateGroup .composit{fill:white;border-bottom:1px;}#remark-mermaid-5 .stateGroup .alt-composit{fill:#e0e0e0;border-bottom:1px;}#remark-mermaid-5 .state-note{stroke:#aaaa33;fill:#fff5ad;}#remark-mermaid-5 .state-note text{fill:black;stroke:none;font-size:10px;}#remark-mermaid-5 .stateLabel .box{stroke:none;stroke-width:0;fill:#ECECFF;opacity:0.5;}#remark-mermaid-5 .edgeLabel .label rect{fill:#ECECFF;opacity:0.5;}#remark-mermaid-5 .edgeLabel .label text{fill:#333;}#remark-mermaid-5 .label div .edgeLabel{color:#333;}#remark-mermaid-5 .stateLabel text{fill:#131300;font-size:10px;font-weight:bold;}#remark-mermaid-5 .node circle.state-start{fill:#333333;stroke:#333333;}#remark-mermaid-5 .node .fork-join{fill:#333333;stroke:#333333;}#remark-mermaid-5 .node circle.state-end{fill:#9370DB;stroke:white;stroke-width:1.5;}#remark-mermaid-5 .end-state-inner{fill:white;stroke-width:1.5;}#remark-mermaid-5 .node rect{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#remark-mermaid-5 .node polygon{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#remark-mermaid-5 #statediagram-barbEnd{fill:#333333;}#remark-mermaid-5 .statediagram-cluster rect{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#remark-mermaid-5 .cluster-label,#remark-mermaid-5 .nodeLabel{color:#131300;}#remark-mermaid-5 .statediagram-cluster rect.outer{rx:5px;ry:5px;}#remark-mermaid-5 .statediagram-state .divider{stroke:#9370DB;}#remark-mermaid-5 .statediagram-state .title-state{rx:5px;ry:5px;}#remark-mermaid-5 .statediagram-cluster.statediagram-cluster .inner{fill:white;}#remark-mermaid-5 .statediagram-cluster.statediagram-cluster-alt .inner{fill:#f0f0f0;}#remark-mermaid-5 .statediagram-cluster .inner{rx:0;ry:0;}#remark-mermaid-5 .statediagram-state rect.basic{rx:5px;ry:5px;}#remark-mermaid-5 .statediagram-state rect.divider{stroke-dasharray:10,10;fill:#f0f0f0;}#remark-mermaid-5 .note-edge{stroke-dasharray:5;}#remark-mermaid-5 .statediagram-note rect{fill:#fff5ad;stroke:#aaaa33;stroke-width:1px;rx:0;ry:0;}#remark-mermaid-5 .statediagram-note rect{fill:#fff5ad;stroke:#aaaa33;stroke-width:1px;rx:0;ry:0;}#remark-mermaid-5 .statediagram-note text{fill:black;}#remark-mermaid-5 .statediagram-note .nodeLabel{color:black;}#remark-mermaid-5 .statediagram .edgeLabel{color:red;}#remark-mermaid-5 #dependencyStart,#remark-mermaid-5 #dependencyEnd{fill:#333333;stroke:#333333;stroke-width:1;}#remark-mermaid-5 .statediagramTitleText{text-anchor:middle;font-size:18px;fill:#333;}#remark-mermaid-5 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><defs><marker orient="auto" markerUnits="strokeWidth" markerHeight="14" markerWidth="20" refY="7" refX="19" id="statediagram-barbEnd"><path d="M 19,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#statediagram-barbEnd)" style="fill:none" class="edge-thickness-normal transition" id="edge0" d="M28.390625,22L28.390625,26.166666666666668C28.390625,30.333333333333332,28.390625,38.666666666666664,28.390625,47C28.390625,55.333333333333336,28.390625,63.666666666666664,28.390625,67.83333333333333L28.390625,72"></path><path marker-end="url(#statediagram-barbEnd)" style="fill:none" class="edge-thickness-normal transition" id="edge1" d="M10.839184864457831,105L6.407003012048193,109.16666666666667C1.974821159638554,113.33333333333333,-6.889542545180723,121.66666666666667,-11.32172439759036,132.75C-15.75390625,143.83333333333334,-15.75390625,157.66666666666666,-15.75390625,171.5C-15.75390625,185.33333333333334,-15.75390625,199.16666666666666,-15.75390625,213C-15.75390625,226.83333333333334,-15.75390625,240.66666666666666,-15.75390625,254.5C-15.75390625,268.3333333333333,-15.75390625,282.1666666666667,-10.914408359770716,293.6188746577537C-6.074910469541433,305.07108264884073,3.604085310917134,314.1421652976814,8.443583201146417,318.67770662210177L13.283081091375701,323.21324794652213"></path><path marker-end="url(#statediagram-barbEnd)" style="fill:none" class="edge-thickness-normal transition" id="edge2" d="M28.390625,105L28.390625,109.16666666666667C28.390625,113.33333333333333,28.390625,121.66666666666667,30.81477472389558,130C33.23892444779116,138.33333333333334,38.08722389558233,146.66666666666666,40.511373619477915,150.83333333333334L42.9355233433735,155"></path><path marker-end="url(#statediagram-barbEnd)" style="fill:none" class="edge-thickness-normal transition" id="edge3" d="M56.511059864457835,155L57.51507592871486,150.83333333333334C58.51909199297189,146.66666666666666,60.52712412148594,138.33333333333334,58.102974397590366,130C55.67882467369478,121.66666666666667,48.822493097389554,113.33333333333333,45.39432730923695,109.16666666666667L41.96616152108434,105"></path><path marker-end="url(#statediagram-barbEnd)" style="fill:none" class="edge-thickness-normal transition" id="edge4" d="M52.53515625,188L52.53515625,192.16666666666666C52.53515625,196.33333333333334,52.53515625,204.66666666666666,52.53515625,213C52.53515625,221.33333333333334,52.53515625,229.66666666666666,52.53515625,233.83333333333334L52.53515625,238"></path><path marker-end="url(#statediagram-barbEnd)" style="fill:none" class="edge-thickness-normal transition" id="edge5" d="M52.53515625,271L52.53515625,275.1666666666667C52.53515625,279.3333333333333,52.53515625,287.6666666666667,47.69565835977071,296.3688746577537C42.856160469541436,305.07108264884073,33.177164689082865,314.1421652976814,28.337666798853586,318.67770662210177L23.4981689086243,323.21324794652213"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"></rect><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"></rect><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"></rect><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"></rect><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"></rect><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"></rect><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(28.390625, 15)" id="state-root_start-0" class="node default"><circle height="14" width="14" r="7" class="state-start"></circle></g><g transform="translate(28.390625, 88.5)" id="state-Still-3" class="node statediagram-state"><rect height="33" width="40.78125" y="-16.5" x="-20.390625" style="" class="basic label-container"></rect><g transform="translate(-12.890625, -9)" style="" class="label"><foreignObject height="18" width="25.78125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Still</span></div></foreignObject></g></g><g transform="translate(18.390625, 328)" id="state-root_end-5" class="node default"><circle height="14" width="14" r="7" class="state-start"></circle><circle height="10" width="10" r="5" class="state-end"></circle></g><g transform="translate(52.53515625, 171.5)" id="state-Moving-4" class="node statediagram-state"><rect height="33" width="66.578125" y="-16.5" x="-33.2890625" style="" class="basic label-container"></rect><g transform="translate(-25.7890625, -9)" style="" class="label"><foreignObject height="18" width="51.578125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Moving</span></div></foreignObject></g></g><g transform="translate(52.53515625, 254.5)" id="state-Crash-5" class="node statediagram-state"><rect height="33" width="57.6875" y="-16.5" x="-28.84375" style="" class="basic label-container"></rect><g transform="translate(-21.34375, -9)" style="" class="label"><foreignObject height="18" width="42.6875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Crash</span></div></foreignObject></g></g></g></g></g></svg></p>
<h2>Pie chart</h2>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292F">```mermaid</span></span>
<span class="line"><span style="color: #24292F">pie</span></span>
<span class="line"><span style="color: #24292F">"Dogs" : 386</span></span>
<span class="line"><span style="color: #24292F">"Cats" : 85.9</span></span>
<span class="line"><span style="color: #24292F">"Rats" : 15</span></span>
<span class="line"><span style="color: #24292F">```</span></span></code></pre>
<p><svg aria-roledescription="pie" viewBox="0 0 784 450" style="max-width: 784px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="remark-mermaid-6"><style>#remark-mermaid-6{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#remark-mermaid-6 .error-icon{fill:#552222;}#remark-mermaid-6 .error-text{fill:#552222;stroke:#552222;}#remark-mermaid-6 .edge-thickness-normal{stroke-width:2px;}#remark-mermaid-6 .edge-thickness-thick{stroke-width:3.5px;}#remark-mermaid-6 .edge-pattern-solid{stroke-dasharray:0;}#remark-mermaid-6 .edge-pattern-dashed{stroke-dasharray:3;}#remark-mermaid-6 .edge-pattern-dotted{stroke-dasharray:2;}#remark-mermaid-6 .marker{fill:#333333;stroke:#333333;}#remark-mermaid-6 .marker.cross{stroke:#333333;}#remark-mermaid-6 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#remark-mermaid-6 .pieCircle{stroke:black;stroke-width:2px;opacity:0.7;}#remark-mermaid-6 .pieTitleText{text-anchor:middle;font-size:25px;fill:black;font-family:"trebuchet ms",verdana,arial,sans-serif;}#remark-mermaid-6 .slice{font-family:"trebuchet ms",verdana,arial,sans-serif;fill:#333;font-size:17px;}#remark-mermaid-6 .legend text{fill:black;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:17px;}#remark-mermaid-6 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g></g><g transform="translate(392,225)"><path class="pieCircle" fill="#ECECFF" d="M1.1327982892113017e-14,-185A185,185,0,1,1,-178.3598684934556,-49.11982604811652L0,0Z"></path><path class="pieCircle" fill="#ffffde" d="M-178.3598684934556,-49.11982604811652A185,185,0,0,1,-35.586694333855405,-181.54500044448687L0,0Z"></path><path class="pieCircle" fill="hsl(80, 100%, 56.2745098039%)" d="M-35.586694333855405,-181.54500044448687A185,185,0,0,1,-1.982969563208622e-13,-185L0,0Z"></path><text style="text-anchor: middle;" class="slice" transform="translate(56.05558868335347,73.58003110465974)">79%</text><text style="text-anchor: middle;" class="slice" transform="translate(-62.90347693069599,-67.81889552351467)">18%</text><text style="text-anchor: middle;" class="slice" transform="translate(-8.938504613258397,-92.0671121263112)">3%</text><text class="pieTitleText" y="-200" x="0"></text><g transform="translate(216,-33)" class="legend"><rect style="fill: rgb(236, 236, 255); stroke: rgb(236, 236, 255);" height="18" width="18"></rect><text y="14" x="22">Dogs</text></g><g transform="translate(216,-11)" class="legend"><rect style="fill: rgb(255, 255, 222); stroke: rgb(255, 255, 222);" height="18" width="18"></rect><text y="14" x="22">Cats</text></g><g transform="translate(216,11)" class="legend"><rect style="fill: rgb(181, 255, 32); stroke: rgb(181, 255, 32);" height="18" width="18"></rect><text y="14" x="22">Rats</text></g></g></svg></p>
<h2>Entity Relationship Diagram</h2>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292F">```mermaid</span></span>
<span class="line"><span style="color: #24292F">erDiagram</span></span>
<span class="line"><span style="color: #24292F">    CUSTOMER ||--o{ ORDER : places</span></span>
<span class="line"><span style="color: #24292F">    ORDER ||--|{ LINE-ITEM : contains</span></span>
<span class="line"><span style="color: #24292F">    CUSTOMER }|..|{ DELIVERY-ADDRESS : uses</span></span>
<span class="line"><span style="color: #24292F">```</span></span></code></pre>
<p><svg aria-roledescription="er" viewBox="0 0 390.046875 465" style="max-width: 390.046875px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="remark-mermaid-7"><style>#remark-mermaid-7{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#remark-mermaid-7 .error-icon{fill:#552222;}#remark-mermaid-7 .error-text{fill:#552222;stroke:#552222;}#remark-mermaid-7 .edge-thickness-normal{stroke-width:2px;}#remark-mermaid-7 .edge-thickness-thick{stroke-width:3.5px;}#remark-mermaid-7 .edge-pattern-solid{stroke-dasharray:0;}#remark-mermaid-7 .edge-pattern-dashed{stroke-dasharray:3;}#remark-mermaid-7 .edge-pattern-dotted{stroke-dasharray:2;}#remark-mermaid-7 .marker{fill:#333333;stroke:#333333;}#remark-mermaid-7 .marker.cross{stroke:#333333;}#remark-mermaid-7 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#remark-mermaid-7 .entityBox{fill:#ECECFF;stroke:#9370DB;}#remark-mermaid-7 .attributeBoxOdd{fill:#ffffff;stroke:#9370DB;}#remark-mermaid-7 .attributeBoxEven{fill:#f2f2f2;stroke:#9370DB;}#remark-mermaid-7 .relationshipLabelBox{fill:hsl(80, 100%, 96.2745098039%);opacity:0.7;background-color:hsl(80, 100%, 96.2745098039%);}#remark-mermaid-7 .relationshipLabelBox rect{opacity:0.5;}#remark-mermaid-7 .relationshipLine{stroke:#333333;}#remark-mermaid-7 .entityTitleText{text-anchor:middle;font-size:18px;fill:#333;}#remark-mermaid-7 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g></g><defs><marker orient="auto" markerHeight="18" markerWidth="18" refY="9" refX="0" id="ONLY_ONE_START"><path d="M9,0 L9,18 M15,0 L15,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="18" refY="9" refX="18" id="ONLY_ONE_END"><path d="M3,0 L3,18 M9,0 L9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="30" refY="9" refX="0" id="ZERO_OR_ONE_START"><circle r="6" cy="9" cx="21" fill="white" stroke="gray"></circle><path d="M9,0 L9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="30" refY="9" refX="30" id="ZERO_OR_ONE_END"><circle r="6" cy="9" cx="9" fill="white" stroke="gray"></circle><path d="M21,0 L21,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="45" refY="18" refX="18" id="ONE_OR_MORE_START"><path d="M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="45" refY="18" refX="27" id="ONE_OR_MORE_END"><path d="M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="57" refY="18" refX="18" id="ZERO_OR_MORE_START"><circle r="6" cy="18" cx="48" fill="white" stroke="gray"></circle><path d="M0,18 Q18,0 36,18 Q18,36 0,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="57" refY="18" refX="39" id="ZERO_OR_MORE_END"><circle r="6" cy="18" cx="9" fill="white" stroke="gray"></circle><path d="M21,18 Q39,0 57,18 Q39,36 21,18" fill="none" stroke="gray"></path></marker></defs><path style="stroke: gray; fill: none;" marker-start="url(#ONLY_ONE_START)" marker-end="url(#ZERO_OR_MORE_END)" d="M134.29241071428572,95L123.57700892857144,103.33333333333333C112.86160714285715,111.66666666666667,91.43080357142857,128.33333333333334,80.71540178571429,145C70,161.66666666666666,70,178.33333333333334,70,186.66666666666666L70,195" class="er relationshipLine"></path><path style="stroke: gray; fill: none;" marker-start="url(#ONLY_ONE_START)" marker-end="url(#ONE_OR_MORE_END)" d="M70,270L70,278.3333333333333C70,286.6666666666667,70,303.3333333333333,70,320C70,336.6666666666667,70,353.3333333333333,70,361.6666666666667L70,370" class="er relationshipLine"></path><path style="stroke: gray; fill: none;" marker-start="url(#ONE_OR_MORE_START)" marker-end="url(#ONE_OR_MORE_END)" stroke-dasharray="8 8" d="M230.73102678571428,95L241.44642857142856,103.33333333333333C252.16183035714286,111.66666666666667,273.5926339285714,128.33333333333334,284.3080357142857,145C295.0234375,161.66666666666666,295.0234375,178.33333333333334,295.0234375,186.66666666666666L295.0234375,195" class="er relationshipLine"></path><g transform="translate(132.51171875,20 )" id="entity-CUSTOMER-fa28297b-aaa4-4b15-bcb3-0d8831160acb"><rect height="75" width="100" y="0" x="0" class="er entityBox"></rect><text style="dominant-baseline: middle; text-anchor: middle; font-size: 12px;" transform="translate(50,37.5)" y="0" x="0" id="text-entity-CUSTOMER-fa28297b-aaa4-4b15-bcb3-0d8831160acb" class="er entityLabel">CUSTOMER</text></g><g transform="translate(20,195 )" id="entity-ORDER-4399ceac-c1b2-41ac-ba5d-7c1f3f4b4908"><rect height="75" width="100" y="0" x="0" class="er entityBox"></rect><text style="dominant-baseline: middle; text-anchor: middle; font-size: 12px;" transform="translate(50,37.5)" y="0" x="0" id="text-entity-ORDER-4399ceac-c1b2-41ac-ba5d-7c1f3f4b4908" class="er entityLabel">ORDER</text></g><g transform="translate(20,370 )" id="entity-LINEITEM-cf839d3c-2a1f-4c65-9d3d-238ca75f9d6c"><rect height="75" width="100" y="0" x="0" class="er entityBox"></rect><text style="dominant-baseline: middle; text-anchor: middle; font-size: 12px;" transform="translate(50,37.5)" y="0" x="0" id="text-entity-LINEITEM-cf839d3c-2a1f-4c65-9d3d-238ca75f9d6c" class="er entityLabel">LINE-ITEM</text></g><g transform="translate(220,195 )" id="entity-DELIVERYADDRESS-a9380512-833f-4ccf-a7bf-f49b81b819a0"><rect height="75" width="150.046875" y="0" x="0" class="er entityBox"></rect><text style="dominant-baseline: middle; text-anchor: middle; font-size: 12px;" transform="translate(75.0234375,37.5)" y="0" x="0" id="text-entity-DELIVERYADDRESS-a9380512-833f-4ccf-a7bf-f49b81b819a0" class="er entityLabel">DELIVERY-ADDRESS</text></g><rect height="14" width="34.6875" y="129.34690856933594" x="69.82301330566406" class="er relationshipLabelBox"></rect><text style="text-anchor: middle; dominant-baseline: middle; font-size: 12px;" y="136.34690856933594" x="87.16676330566406" id="rel1" class="er relationshipLabel">places</text><rect height="14" width="44.703125" y="313" x="47.6484375" class="er relationshipLabelBox"></rect><text style="text-anchor: middle; dominant-baseline: middle; font-size: 12px;" y="320" x="70" id="rel2" class="er relationshipLabel">contains</text><rect height="14" width="25.359375" y="129.34703063964844" x="265.1768798828125" class="er relationshipLabelBox"></rect><text style="text-anchor: middle; dominant-baseline: middle; font-size: 12px;" y="136.34703063964844" x="277.8565673828125" id="rel3" class="er relationshipLabel">uses</text></svg></p>
<h2>User Journey diagram</h2>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292F">```mermaid</span></span>
<span class="line"><span style="color: #24292F">journey</span></span>
<span class="line"><span style="color: #24292F">  title My working day</span></span>
<span class="line"><span style="color: #24292F">  section Go to work</span></span>
<span class="line"><span style="color: #24292F">    Make tea: 5: Me</span></span>
<span class="line"><span style="color: #24292F">    Go upstairs: 3: Me</span></span>
<span class="line"><span style="color: #24292F">    Do work: 1: Me, Cat</span></span>
<span class="line"><span style="color: #24292F">  section Go home</span></span>
<span class="line"><span style="color: #24292F">    Go downstairs: 5: Me</span></span>
<span class="line"><span style="color: #24292F">    Sit down: 3: Me</span></span>
<span class="line"><span style="color: #24292F">```</span></span></code></pre>
<p><svg aria-labelledby="chart-title-remark-mermaid-8" aria-roledescription="journey" height="565" preserveAspectRatio="xMinYMin meet" viewBox="0 -25 1300 540" style="max-width: 1300px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="remark-mermaid-8"><title id="chart-title-remark-mermaid-8">My working day</title><style>#remark-mermaid-8{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#remark-mermaid-8 .error-icon{fill:#552222;}#remark-mermaid-8 .error-text{fill:#552222;stroke:#552222;}#remark-mermaid-8 .edge-thickness-normal{stroke-width:2px;}#remark-mermaid-8 .edge-thickness-thick{stroke-width:3.5px;}#remark-mermaid-8 .edge-pattern-solid{stroke-dasharray:0;}#remark-mermaid-8 .edge-pattern-dashed{stroke-dasharray:3;}#remark-mermaid-8 .edge-pattern-dotted{stroke-dasharray:2;}#remark-mermaid-8 .marker{fill:#333333;stroke:#333333;}#remark-mermaid-8 .marker.cross{stroke:#333333;}#remark-mermaid-8 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#remark-mermaid-8 .label{font-family:'trebuchet ms',verdana,arial,sans-serif;font-family:var(--mermaid-font-family);color:#333;}#remark-mermaid-8 .mouth{stroke:#666;}#remark-mermaid-8 line{stroke:#333;}#remark-mermaid-8 .legend{fill:#333;}#remark-mermaid-8 .label text{fill:#333;}#remark-mermaid-8 .label{color:#333;}#remark-mermaid-8 .face{fill:#FFF8DC;stroke:#999;}#remark-mermaid-8 .node rect,#remark-mermaid-8 .node circle,#remark-mermaid-8 .node ellipse,#remark-mermaid-8 .node polygon,#remark-mermaid-8 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#remark-mermaid-8 .node .label{text-align:center;}#remark-mermaid-8 .node.clickable{cursor:pointer;}#remark-mermaid-8 .arrowheadPath{fill:#333333;}#remark-mermaid-8 .edgePath .path{stroke:#333333;stroke-width:1.5px;}#remark-mermaid-8 .flowchart-link{stroke:#333333;fill:none;}#remark-mermaid-8 .edgeLabel{background-color:#e8e8e8;text-align:center;}#remark-mermaid-8 .edgeLabel rect{opacity:0.5;}#remark-mermaid-8 .cluster text{fill:#333;}#remark-mermaid-8 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:'trebuchet ms',verdana,arial,sans-serif;font-family:var(--mermaid-font-family);font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#remark-mermaid-8 .task-type-0,#remark-mermaid-8 .section-type-0{fill:#ECECFF;}#remark-mermaid-8 .task-type-1,#remark-mermaid-8 .section-type-1{fill:#ffffde;}#remark-mermaid-8 .task-type-2,#remark-mermaid-8 .section-type-2{fill:hsl(304, 100%, 96.2745098039%);}#remark-mermaid-8 .task-type-3,#remark-mermaid-8 .section-type-3{fill:hsl(124, 100%, 93.5294117647%);}#remark-mermaid-8 .task-type-4,#remark-mermaid-8 .section-type-4{fill:hsl(176, 100%, 96.2745098039%);}#remark-mermaid-8 .task-type-5,#remark-mermaid-8 .section-type-5{fill:hsl(-4, 100%, 93.5294117647%);}#remark-mermaid-8 .task-type-6,#remark-mermaid-8 .section-type-6{fill:hsl(8, 100%, 96.2745098039%);}#remark-mermaid-8 .task-type-7,#remark-mermaid-8 .section-type-7{fill:hsl(188, 100%, 93.5294117647%);}#remark-mermaid-8 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g></g><defs><marker orient="auto" markerHeight="4" markerWidth="6" refY="2" refX="5" id="arrowhead"><path d="M 0,0 V 4 L6,2 Z"></path></marker></defs><circle r="7" stroke="#000" fill="#8FBC8F" class="actor-0" cy="60" cx="20"></circle><text class="legend" y="67" x="40"><tspan x="50">Cat</tspan></text><circle r="7" stroke="#000" fill="#7CFC00" class="actor-1" cy="80" cx="20"></circle><text class="legend" y="87" x="40"><tspan x="50">Me</tspan></text><g><rect class="journey-section section-type-0" ry="3" rx="3" height="50" width="150" fill="#191970" y="50" x="150"></rect><switch><foreignObject height="50" width="150" y="50" x="150"><div style="display: table; height: 100%; width: 100%;" xmlns="http://www.w3.org/1999/xhtml" class="journey-section section-type-0"><div style="display: table-cell; text-align: center; vertical-align: middle;" class="label">Go to work</div></div></foreignObject><text style="text-anchor: middle; font-size: 14px; font-family: &#x22;Open Sans&#x22;, sans-serif;" class="journey-section section-type-0" alignment-baseline="central" dominant-baseline="central" y="75" x="225"><tspan dy="0" x="225">Go to work</tspan></text></switch></g><g><line stroke="#666" stroke-dasharray="4 2" stroke-width="1px" class="task-line" y2="450" x2="225" y1="110" x1="225" id="task0"></line><circle overflow="visible" stroke-width="2" r="15" class="face" cy="300" cx="225"></circle><g><circle stroke="#666" fill="#666" stroke-width="2" r="1.5" cy="295" cx="220"></circle><circle stroke="#666" fill="#666" stroke-width="2" r="1.5" cy="295" cx="230"></circle><path transform="translate(225,302)" d="M7.5,0A7.5,7.5,0,1,1,-7.5,9.18485099360515e-16L-6.8181818181818175,8.349864539641044e-16A6.8181818181818175,6.8181818181818175,0,1,0,6.8181818181818175,0Z" class="mouth"></path></g><rect class="task task-type-0" ry="3" rx="3" height="50" width="150" fill="#191970" y="110" x="150"></rect><circle r="7" stroke="#000" fill="#7CFC00" class="actor-1" cy="110" cx="164"><title>Me</title></circle><switch><foreignObject height="50" width="150" y="110" x="150"><div style="display: table; height: 100%; width: 100%;" xmlns="http://www.w3.org/1999/xhtml" class="task"><div style="display: table-cell; text-align: center; vertical-align: middle;" class="label">Make tea</div></div></foreignObject><text style="text-anchor: middle; font-size: 14px; font-family: &#x22;Open Sans&#x22;, sans-serif;" class="task" alignment-baseline="central" dominant-baseline="central" y="135" x="225"><tspan dy="0" x="225">Make tea</tspan></text></switch></g><g><line stroke="#666" stroke-dasharray="4 2" stroke-width="1px" class="task-line" y2="450" x2="425" y1="110" x1="425" id="task1"></line><circle overflow="visible" stroke-width="2" r="15" class="face" cy="360" cx="425"></circle><g><circle stroke="#666" fill="#666" stroke-width="2" r="1.5" cy="355" cx="420"></circle><circle stroke="#666" fill="#666" stroke-width="2" r="1.5" cy="355" cx="430"></circle><line stroke-width="1px" y2="367" x2="430" y1="367" x1="420" stroke="#666" class="mouth"></line></g><rect class="task task-type-0" ry="3" rx="3" height="50" width="150" fill="#191970" y="110" x="350"></rect><circle r="7" stroke="#000" fill="#7CFC00" class="actor-1" cy="110" cx="364"><title>Me</title></circle><switch><foreignObject height="50" width="150" y="110" x="350"><div style="display: table; height: 100%; width: 100%;" xmlns="http://www.w3.org/1999/xhtml" class="task"><div style="display: table-cell; text-align: center; vertical-align: middle;" class="label">Go upstairs</div></div></foreignObject><text style="text-anchor: middle; font-size: 14px; font-family: &#x22;Open Sans&#x22;, sans-serif;" class="task" alignment-baseline="central" dominant-baseline="central" y="135" x="425"><tspan dy="0" x="425">Go upstairs</tspan></text></switch></g><g><line stroke="#666" stroke-dasharray="4 2" stroke-width="1px" class="task-line" y2="450" x2="625" y1="110" x1="625" id="task2"></line><circle overflow="visible" stroke-width="2" r="15" class="face" cy="420" cx="625"></circle><g><circle stroke="#666" fill="#666" stroke-width="2" r="1.5" cy="415" cx="620"></circle><circle stroke="#666" fill="#666" stroke-width="2" r="1.5" cy="415" cx="630"></circle><path transform="translate(625,427)" d="M-7.5,9.18485099360515e-16A7.5,7.5,0,1,1,7.5,-1.83697019872103e-15L6.8181818181818175,-1.6699729079282088e-15A6.8181818181818175,6.8181818181818175,0,1,0,-6.8181818181818175,8.349864539641044e-16Z" class="mouth"></path></g><rect class="task task-type-0" ry="3" rx="3" height="50" width="150" fill="#191970" y="110" x="550"></rect><circle r="7" stroke="#000" fill="#7CFC00" class="actor-1" cy="110" cx="564"><title>Me</title></circle><circle r="7" stroke="#000" fill="#8FBC8F" class="actor-0" cy="110" cx="574"><title>Cat</title></circle><switch><foreignObject height="50" width="150" y="110" x="550"><div style="display: table; height: 100%; width: 100%;" xmlns="http://www.w3.org/1999/xhtml" class="task"><div style="display: table-cell; text-align: center; vertical-align: middle;" class="label">Do work</div></div></foreignObject><text style="text-anchor: middle; font-size: 14px; font-family: &#x22;Open Sans&#x22;, sans-serif;" class="task" alignment-baseline="central" dominant-baseline="central" y="135" x="625"><tspan dy="0" x="625">Do work</tspan></text></switch></g><g><rect class="journey-section section-type-1" ry="3" rx="3" height="50" width="150" fill="#8B008B" y="50" x="750"></rect><switch><foreignObject height="50" width="150" y="50" x="750"><div style="display: table; height: 100%; width: 100%;" xmlns="http://www.w3.org/1999/xhtml" class="journey-section section-type-1"><div style="display: table-cell; text-align: center; vertical-align: middle;" class="label">Go home</div></div></foreignObject><text style="text-anchor: middle; font-size: 14px; font-family: &#x22;Open Sans&#x22;, sans-serif;" class="journey-section section-type-1" alignment-baseline="central" dominant-baseline="central" y="75" x="825"><tspan dy="0" x="825">Go home</tspan></text></switch></g><g><line stroke="#666" stroke-dasharray="4 2" stroke-width="1px" class="task-line" y2="450" x2="825" y1="110" x1="825" id="task3"></line><circle overflow="visible" stroke-width="2" r="15" class="face" cy="300" cx="825"></circle><g><circle stroke="#666" fill="#666" stroke-width="2" r="1.5" cy="295" cx="820"></circle><circle stroke="#666" fill="#666" stroke-width="2" r="1.5" cy="295" cx="830"></circle><path transform="translate(825,302)" d="M7.5,0A7.5,7.5,0,1,1,-7.5,9.18485099360515e-16L-6.8181818181818175,8.349864539641044e-16A6.8181818181818175,6.8181818181818175,0,1,0,6.8181818181818175,0Z" class="mouth"></path></g><rect class="task task-type-1" ry="3" rx="3" height="50" width="150" fill="#8B008B" y="110" x="750"></rect><circle r="7" stroke="#000" fill="#7CFC00" class="actor-1" cy="110" cx="764"><title>Me</title></circle><switch><foreignObject height="50" width="150" y="110" x="750"><div style="display: table; height: 100%; width: 100%;" xmlns="http://www.w3.org/1999/xhtml" class="task"><div style="display: table-cell; text-align: center; vertical-align: middle;" class="label">Go downstairs</div></div></foreignObject><text style="text-anchor: middle; font-size: 14px; font-family: &#x22;Open Sans&#x22;, sans-serif;" class="task" alignment-baseline="central" dominant-baseline="central" y="135" x="825"><tspan dy="0" x="825">Go downstairs</tspan></text></switch></g><g><line stroke="#666" stroke-dasharray="4 2" stroke-width="1px" class="task-line" y2="450" x2="1025" y1="110" x1="1025" id="task4"></line><circle overflow="visible" stroke-width="2" r="15" class="face" cy="360" cx="1025"></circle><g><circle stroke="#666" fill="#666" stroke-width="2" r="1.5" cy="355" cx="1020"></circle><circle stroke="#666" fill="#666" stroke-width="2" r="1.5" cy="355" cx="1030"></circle><line stroke-width="1px" y2="367" x2="1030" y1="367" x1="1020" stroke="#666" class="mouth"></line></g><rect class="task task-type-1" ry="3" rx="3" height="50" width="150" fill="#8B008B" y="110" x="950"></rect><circle r="7" stroke="#000" fill="#7CFC00" class="actor-1" cy="110" cx="964"><title>Me</title></circle><switch><foreignObject height="50" width="150" y="110" x="950"><div style="display: table; height: 100%; width: 100%;" xmlns="http://www.w3.org/1999/xhtml" class="task"><div style="display: table-cell; text-align: center; vertical-align: middle;" class="label">Sit down</div></div></foreignObject><text style="text-anchor: middle; font-size: 14px; font-family: &#x22;Open Sans&#x22;, sans-serif;" class="task" alignment-baseline="central" dominant-baseline="central" y="135" x="1025"><tspan dy="0" x="1025">Sit down</tspan></text></switch></g><text y="25" font-weight="bold" font-size="4ex" x="150">My working day</text><line marker-end="url(#arrowhead)" stroke="black" stroke-width="4" y2="200" x2="1146" y1="200" x1="150"></line></svg></p>
<h2>C4 diagram</h2>
<pre class="shiki" style="background-color: #ffffff"><code><span class="line"><span style="color: #24292F">```mermaid</span></span>
<span class="line"><span style="color: #24292F">C4Context</span></span>
<span class="line"><span style="color: #24292F">title System Context diagram for Internet Banking System</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292F">Person(customerA, "Banking Customer A", "A customer of the bank, with personal bank accounts.")</span></span>
<span class="line"><span style="color: #24292F">Person(customerB, "Banking Customer B")</span></span>
<span class="line"><span style="color: #24292F">Person_Ext(customerC, "Banking Customer C")</span></span>
<span class="line"><span style="color: #24292F">System(SystemAA, "Internet Banking System", "Allows customers to view information about their bank accounts, and make payments.")</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292F">Person(customerD, "Banking Customer D", "A customer of the bank, &#x3C;br/> with personal bank accounts.")</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292F">Enterprise_Boundary(b1, "BankBoundary") {</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292F">  SystemDb_Ext(SystemE, "Mainframe Banking System", "Stores all of the core banking information about customers, accounts, transactions, etc.")</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292F">  System_Boundary(b2, "BankBoundary2") {</span></span>
<span class="line"><span style="color: #24292F">    System(SystemA, "Banking System A")</span></span>
<span class="line"><span style="color: #24292F">    System(SystemB, "Banking System B", "A system of the bank, with personal bank accounts.")</span></span>
<span class="line"><span style="color: #24292F">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292F">  System_Ext(SystemC, "E-mail system", "The internal Microsoft Exchange e-mail system.")</span></span>
<span class="line"><span style="color: #24292F">  SystemDb(SystemD, "Banking System D Database", "A system of the bank, with personal bank accounts.")</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292F">  Boundary(b3, "BankBoundary3", "boundary") {</span></span>
<span class="line"><span style="color: #24292F">    SystemQueue(SystemF, "Banking System F Queue", "A system of the bank, with personal bank accounts.")</span></span>
<span class="line"><span style="color: #24292F">    SystemQueue_Ext(SystemG, "Banking System G Queue", "A system of the bank, with personal bank accounts.")</span></span>
<span class="line"><span style="color: #24292F">  }</span></span>
<span class="line"><span style="color: #24292F">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292F">BiRel(customerA, SystemAA, "Uses")</span></span>
<span class="line"><span style="color: #24292F">BiRel(SystemAA, SystemE, "Uses")</span></span>
<span class="line"><span style="color: #24292F">Rel(SystemAA, SystemC, "Sends e-mails", "SMTP")</span></span>
<span class="line"><span style="color: #24292F">Rel(SystemC, customerA, "Sends e-mails to")</span></span>
<span class="line"><span style="color: #24292F">```</span></span></code></pre>
<p><svg aria-labelledby="chart-title-remark-mermaid-9" aria-roledescription="c4" viewBox="0 -70 1326 2346" style="max-width: 1326px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="remark-mermaid-9"><title id="chart-title-remark-mermaid-9">My working day</title><style>#remark-mermaid-9{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#remark-mermaid-9 .error-icon{fill:#552222;}#remark-mermaid-9 .error-text{fill:#552222;stroke:#552222;}#remark-mermaid-9 .edge-thickness-normal{stroke-width:2px;}#remark-mermaid-9 .edge-thickness-thick{stroke-width:3.5px;}#remark-mermaid-9 .edge-pattern-solid{stroke-dasharray:0;}#remark-mermaid-9 .edge-pattern-dashed{stroke-dasharray:3;}#remark-mermaid-9 .edge-pattern-dotted{stroke-dasharray:2;}#remark-mermaid-9 .marker{fill:#333333;stroke:#333333;}#remark-mermaid-9 .marker.cross{stroke:#333333;}#remark-mermaid-9 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#remark-mermaid-9 .person{stroke:calculated;fill:calculated;}#remark-mermaid-9 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g></g><defs><symbol height="24" width="24" id="computer"><path d="M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z" transform="scale(.5)"></path></symbol></defs><defs><symbol clip-rule="evenodd" fill-rule="evenodd" id="database"><path d="M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z" transform="scale(.5)"></path></symbol></defs><defs><symbol height="24" width="24" id="clock"><path d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z" transform="scale(.5)"></path></symbol></defs><g class="person-man"><rect ry="2.5" rx="2.5" height="134" width="352" stroke="#666" fill="#08427B" y="166" x="150"></rect><text y="186" x="293.5" textLength="65" lengthAdjust="spacing" font-style="italic" font-size="12" font-family="&#x22;Open Sans&#x22;, sans-serif" fill="#FFFFFF">&#x3C;&#x3C;person>></text><image xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=" y="196" x="302" height="48" width="48"></image><text style="text-anchor: middle; font-size: 16px; font-weight: bold; font-family: &#x22;Open Sans&#x22;, sans-serif;" fill="#FFFFFF" dominant-baseline="middle" y="252" x="326"><tspan alignment-baseline="mathematical" dy="0">Banking Customer A</tspan></text><text style="text-anchor: middle; font-size: 14px; font-weight: normal; font-family: &#x22;Open Sans&#x22;, sans-serif;" fill="#FFFFFF" dominant-baseline="middle" y="289" x="326"><tspan alignment-baseline="mathematical" dy="0">A customer of the bank, with personal bank accounts.</tspan></text></g><g class="person-man"><rect ry="2.5" rx="2.5" height="103" width="216" stroke="#666" fill="#08427B" y="400" x="150"></rect><text y="420" x="225.5" textLength="65" lengthAdjust="spacing" font-style="italic" font-size="12" font-family="&#x22;Open Sans&#x22;, sans-serif" fill="#FFFFFF">&#x3C;&#x3C;person>></text><image xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=" y="430" x="234" height="48" width="48"></image><text style="text-anchor: middle; font-size: 16px; font-weight: bold; font-family: &#x22;Open Sans&#x22;, sans-serif;" fill="#FFFFFF" dominant-baseline="middle" y="486" x="258"><tspan alignment-baseline="mathematical" dy="0">Banking Customer B</tspan></text></g><g class="person-man"><rect ry="2.5" rx="2.5" height="103" width="216" stroke="#666" fill="#686868" y="400" x="466"></rect><text y="420" x="517" textLength="114" lengthAdjust="spacing" font-style="italic" font-size="12" font-family="&#x22;Open Sans&#x22;, sans-serif" fill="#FFFFFF">&#x3C;&#x3C;external_person>></text><image xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=" y="430" x="550" height="48" width="48"></image><text style="text-anchor: middle; font-size: 16px; font-weight: bold; font-family: &#x22;Open Sans&#x22;, sans-serif;" fill="#FFFFFF" dominant-baseline="middle" y="486" x="574"><tspan alignment-baseline="mathematical" dy="0">Banking Customer C</tspan></text></g><g class="person-man"><rect ry="2.5" rx="2.5" height="86" width="551" stroke="#666" fill="#1168BD" y="603" x="150"></rect><text y="623" x="392.5" textLength="66" lengthAdjust="spacing" font-style="italic" font-size="12" font-family="&#x22;Open Sans&#x22;, sans-serif" fill="#FFFFFF">&#x3C;&#x3C;system>></text><text style="text-anchor: middle; font-size: 16px; font-weight: bold; font-family: &#x22;Open Sans&#x22;, sans-serif;" fill="#FFFFFF" dominant-baseline="middle" y="641" x="425.5"><tspan alignment-baseline="mathematical" dy="0">Internet Banking System</tspan></text><text style="text-anchor: middle; font-size: 14px; font-weight: normal; font-family: &#x22;Open Sans&#x22;, sans-serif;" fill="#FFFFFF" dominant-baseline="middle" y="678" x="425.5"><tspan alignment-baseline="mathematical" dy="0">Allows customers to view information about their bank accounts, and make payments.</tspan></text></g><g class="person-man"><rect ry="2.5" rx="2.5" height="145" width="216" stroke="#666" fill="#08427B" y="789" x="150"></rect><text y="809" x="225.5" textLength="65" lengthAdjust="spacing" font-style="italic" font-size="12" font-family="&#x22;Open Sans&#x22;, sans-serif" fill="#FFFFFF">&#x3C;&#x3C;person>></text><image xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=" y="819" x="234" height="48" width="48"></image><text style="text-anchor: middle; font-size: 16px; font-weight: bold; font-family: &#x22;Open Sans&#x22;, sans-serif;" fill="#FFFFFF" dominant-baseline="middle" y="875" x="258"><tspan alignment-baseline="mathematical" dy="0">Banking Customer D</tspan></text><text style="text-anchor: middle; font-size: 14px; font-weight: normal; font-family: &#x22;Open Sans&#x22;, sans-serif;" fill="#FFFFFF" dominant-baseline="middle" y="912" x="258"><tspan alignment-baseline="mathematical" dy="-7">A customer of the bank, </tspan></text><text style="text-anchor: middle; font-size: 14px; font-weight: normal; font-family: &#x22;Open Sans&#x22;, sans-serif;" fill="#FFFFFF" dominant-baseline="middle" y="912" x="258"><tspan alignment-baseline="mathematical" dy="7"> with personal bank accounts.</tspan></text></g><g class="person-man"><path d="M200,1140c0,-10 279.5,-10 279.5,-10c0,0 279.5,0 279.5,10l0,86c0,10 -279.5,10 -279.5,10c0,0 -279.5,0 -279.5,-10l0,-86" stroke="#8A8A8A" stroke-width="0.5" fill="#999999"></path><path d="M200,1140c0,10 279.5,10 279.5,10c0,0 279.5,0 279.5,-10" stroke="#8A8A8A" stroke-width="0.5" fill="none"></path><text y="1160" x="412" textLength="135" lengthAdjust="spacing" font-style="italic" font-size="12" font-family="&#x22;Open Sans&#x22;, sans-serif" fill="#FFFFFF">&#x3C;&#x3C;external_system_db>></text><text style="text-anchor: middle; font-size: 16px; font-weight: bold; font-family: &#x22;Open Sans&#x22;, sans-serif;" fill="#FFFFFF" dominant-baseline="middle" y="1178" x="479.5"><tspan alignment-baseline="mathematical" dy="0">Mainframe Banking System</tspan></text><text style="text-anchor: middle; font-size: 14px; font-weight: normal; font-family: &#x22;Open Sans&#x22;, sans-serif;" fill="#FFFFFF" dominant-baseline="middle" y="1215" x="479.5"><tspan alignment-baseline="mathematical" dy="0">Stores all of the core banking information about customers, accounts, transactions, etc.</tspan></text></g><g class="person-man"><rect ry="2.5" rx="2.5" height="86" width="315" stroke="#666" fill="#999999" y="1326" x="200"></rect><text y="1346" x="300" textLength="115" lengthAdjust="spacing" font-style="italic" font-size="12" font-family="&#x22;Open Sans&#x22;, sans-serif" fill="#FFFFFF">&#x3C;&#x3C;external_system>></text><text style="text-anchor: middle; font-size: 16px; font-weight: bold; font-family: &#x22;Open Sans&#x22;, sans-serif;" fill="#FFFFFF" dominant-baseline="middle" y="1364" x="357.5"><tspan alignment-baseline="mathematical" dy="0">E-mail system</tspan></text><text style="text-anchor: middle; font-size: 14px; font-weight: normal; font-family: &#x22;Open Sans&#x22;, sans-serif;" fill="#FFFFFF" dominant-baseline="middle" y="1401" x="357.5"><tspan alignment-baseline="mathematical" dy="0">The internal Microsoft Exchange e-mail system.</tspan></text></g><g class="person-man"><path d="M200,1512c0,-10 169,-10 169,-10c0,0 169,0 169,10l0,86c0,10 -169,10 -169,10c0,0 -169,0 -169,-10l0,-86" stroke="#3C7FC0" stroke-width="0.5" fill="#1168BD"></path><path d="M200,1512c0,10 169,10 169,10c0,0 169,0 169,-10" stroke="#3C7FC0" stroke-width="0.5" fill="none"></path><text y="1532" x="326" textLength="86" lengthAdjust="spacing" font-style="italic" font-size="12" font-family="&#x22;Open Sans&#x22;, sans-serif" fill="#FFFFFF">&#x3C;&#x3C;system_db>></text><text style="text-anchor: middle; font-size: 16px; font-weight: bold; font-family: &#x22;Open Sans&#x22;, sans-serif;" fill="#FFFFFF" dominant-baseline="middle" y="1550" x="369"><tspan alignment-baseline="mathematical" dy="0">Banking System D Database</tspan></text><text style="text-anchor: middle; font-size: 14px; font-weight: normal; font-family: &#x22;Open Sans&#x22;, sans-serif;" fill="#FFFFFF" dominant-baseline="middle" y="1587" x="369"><tspan alignment-baseline="mathematical" dy="0">A system of the bank, with personal bank accounts.</tspan></text></g><g class="person-man"><rect ry="2.5" rx="2.5" height="60" width="216" stroke="#666" fill="#1168BD" y="1804" x="250"></rect><text y="1824" x="325" textLength="66" lengthAdjust="spacing" font-style="italic" font-size="12" font-family="&#x22;Open Sans&#x22;, sans-serif" fill="#FFFFFF">&#x3C;&#x3C;system>></text><text style="text-anchor: middle; font-size: 16px; font-weight: bold; font-family: &#x22;Open Sans&#x22;, sans-serif;" fill="#FFFFFF" dominant-baseline="middle" y="1842" x="358"><tspan alignment-baseline="mathematical" dy="0">Banking System A</tspan></text></g><g class="person-man"><rect ry="2.5" rx="2.5" height="86" width="338" stroke="#666" fill="#1168BD" y="1964" x="250"></rect><text y="1984" x="386" textLength="66" lengthAdjust="spacing" font-style="italic" font-size="12" font-family="&#x22;Open Sans&#x22;, sans-serif" fill="#FFFFFF">&#x3C;&#x3C;system>></text><text style="text-anchor: middle; font-size: 16px; font-weight: bold; font-family: &#x22;Open Sans&#x22;, sans-serif;" fill="#FFFFFF" dominant-baseline="middle" y="2002" x="419"><tspan alignment-baseline="mathematical" dy="0">Banking System B</tspan></text><text style="text-anchor: middle; font-size: 14px; font-weight: normal; font-family: &#x22;Open Sans&#x22;, sans-serif;" fill="#FFFFFF" dominant-baseline="middle" y="2039" x="419"><tspan alignment-baseline="mathematical" dy="0">A system of the bank, with personal bank accounts.</tspan></text></g><g><rect stroke-dasharray="7.0 7.0" stroke-width="1" ry="2.5" rx="2.5" height="396" width="438" stroke="#444444" fill="none" y="1704" x="200"></rect><text style="text-anchor: middle; font-size: 16px; font-weight: bold; font-family: &#x22;Open Sans&#x22;, sans-serif;" fill="#444444" dominant-baseline="middle" y="1712" x="419"><tspan alignment-baseline="mathematical" dy="0">BankBoundary2</tspan></text><text style="text-anchor: middle; font-size: 14px; font-weight: normal; font-family: &#x22;Open Sans&#x22;, sans-serif;" fill="#444444" dominant-baseline="middle" y="1734" x="419"><tspan alignment-baseline="mathematical" dy="0">[ENTERPRISE]</tspan></text></g><g class="person-man"><path d="M738,1804l338,0c5,0 5,43 5,43c0,0 0,43 -5,43l-338,0c-5,0 -5,-43 -5,-43c0,0 0,-43 5,-43" stroke="#3C7FC0" stroke-width="0.5" fill="#1168BD"></path><path d="M1076,1804c-5,0 -5,43 -5,43c0,43 5,43 5,43" stroke="#3C7FC0" stroke-width="0.5" fill="none"></path><text y="1824" x="854" textLength="106" lengthAdjust="spacing" font-style="italic" font-size="12" font-family="&#x22;Open Sans&#x22;, sans-serif" fill="#FFFFFF">&#x3C;&#x3C;system_queue>></text><text style="text-anchor: middle; font-size: 16px; font-weight: bold; font-family: &#x22;Open Sans&#x22;, sans-serif;" fill="#FFFFFF" dominant-baseline="middle" y="1842" x="907"><tspan alignment-baseline="mathematical" dy="0">Banking System F Queue</tspan></text><text style="text-anchor: middle; font-size: 14px; font-weight: normal; font-family: &#x22;Open Sans&#x22;, sans-serif;" fill="#FFFFFF" dominant-baseline="middle" y="1879" x="907"><tspan alignment-baseline="mathematical" dy="0">A system of the bank, with personal bank accounts.</tspan></text></g><g class="person-man"><path d="M738,1990l338,0c5,0 5,43 5,43c0,0 0,43 -5,43l-338,0c-5,0 -5,-43 -5,-43c0,0 0,-43 5,-43" stroke="#8A8A8A" stroke-width="0.5" fill="#999999"></path><path d="M1076,1990c-5,0 -5,43 -5,43c0,43 5,43 5,43" stroke="#8A8A8A" stroke-width="0.5" fill="none"></path><text y="2010" x="829.5" textLength="155" lengthAdjust="spacing" font-style="italic" font-size="12" font-family="&#x22;Open Sans&#x22;, sans-serif" fill="#FFFFFF">&#x3C;&#x3C;external_system_queue>></text><text style="text-anchor: middle; font-size: 16px; font-weight: bold; font-family: &#x22;Open Sans&#x22;, sans-serif;" fill="#FFFFFF" dominant-baseline="middle" y="2028" x="907"><tspan alignment-baseline="mathematical" dy="0">Banking System G Queue</tspan></text><text style="text-anchor: middle; font-size: 14px; font-weight: normal; font-family: &#x22;Open Sans&#x22;, sans-serif;" fill="#FFFFFF" dominant-baseline="middle" y="2065" x="907"><tspan alignment-baseline="mathematical" dy="0">A system of the bank, with personal bank accounts.</tspan></text></g><g><rect stroke-dasharray="7.0 7.0" stroke-width="1" ry="2.5" rx="2.5" height="422" width="438" stroke="#444444" fill="none" y="1704" x="688"></rect><text style="text-anchor: middle; font-size: 16px; font-weight: bold; font-family: &#x22;Open Sans&#x22;, sans-serif;" fill="#444444" dominant-baseline="middle" y="1712" x="907"><tspan alignment-baseline="mathematical" dy="0">BankBoundary3</tspan></text><text style="text-anchor: middle; font-size: 14px; font-weight: normal; font-family: &#x22;Open Sans&#x22;, sans-serif;" fill="#444444" dominant-baseline="middle" y="1734" x="907"><tspan alignment-baseline="mathematical" dy="0">[boundary]</tspan></text></g><g><rect stroke-dasharray="7.0 7.0" stroke-width="1" ry="2.5" rx="2.5" height="1136" width="1026" stroke="#444444" fill="none" y="1040" x="150"></rect><text style="text-anchor: middle; font-size: 16px; font-weight: bold; font-family: &#x22;Open Sans&#x22;, sans-serif;" fill="#444444" dominant-baseline="middle" y="1048" x="663"><tspan alignment-baseline="mathematical" dy="0">BankBoundary</tspan></text><text style="text-anchor: middle; font-size: 14px; font-weight: normal; font-family: &#x22;Open Sans&#x22;, sans-serif;" fill="#444444" dominant-baseline="middle" y="1070" x="663"><tspan alignment-baseline="mathematical" dy="0">[ENTERPRISE]</tspan></text></g><defs><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="9" id="arrowhead"><path d="M 0 0 L 10 5 L 0 10 z"></path></marker></defs><defs><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="1" id="arrowend"><path d="M 10 0 L 0 5 L 10 10 z"></path></marker></defs><defs><marker refY="4" refX="16" orient="auto" markerHeight="8" markerWidth="15" id="crosshead"><path style="stroke-dasharray: 0, 0;" d="M 9,2 V 6 L16,4 Z" stroke-width="1px" stroke="#000000" fill="black"></path><path style="stroke-dasharray: 0, 0;" d="M 0,1 L 6,7 M 6,1 L 0,7" stroke-width="1px" stroke="#000000" fill="none"></path></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="18" id="filled-head"><path d="M 18,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><g><line style="fill: none;" marker-start="url(#arrowend)" marker-end="url(#arrowhead)" stroke="#444444" stroke-width="1" y2="603" x2="445.95405405405404" y1="300" x1="364.4552083333333"></line><text style="text-anchor: middle; font-size: 12px; font-weight: normal; font-family: &#x22;Open Sans&#x22;, sans-serif;" fill="#444444" dominant-baseline="middle" y="451.5" x="418.7046311936937"><tspan alignment-baseline="mathematical" dy="0">Uses</tspan></text><path marker-start="url(#arrowend)" marker-end="url(#arrowhead)" d="M449.9284482758621,689 Q462.22847183442695,914.5 499.12854251012146,1140" stroke="#444444" stroke-width="1" fill="none"></path><text style="text-anchor: middle; font-size: 12px; font-weight: normal; font-family: &#x22;Open Sans&#x22;, sans-serif;" fill="#444444" dominant-baseline="middle" y="914.5" x="488.0284953929918"><tspan alignment-baseline="mathematical" dy="0">Uses</tspan></text><path marker-end="url(#arrowhead)" d="M437.1481723237598,689 Q420.8010189487022,1007.5 371.7595588235294,1326" stroke="#444444" stroke-width="1" fill="none"></path><text style="text-anchor: middle; font-size: 12px; font-weight: normal; font-family: &#x22;Open Sans&#x22;, sans-serif;" fill="#444444" dominant-baseline="middle" y="1007.5" x="442.45386557364463"><tspan alignment-baseline="mathematical" dy="0">Sends e-mails</tspan></text><text style="text-anchor: middle; font-size: 12px; font-weight: normal; font-family: &#x22;Open Sans&#x22;, sans-serif;" font-style="italic" fill="#444444" dominant-baseline="middle" y="1024.5" x="442.45386557364463"><tspan alignment-baseline="mathematical" dy="0">[SMTP]</tspan></text><path marker-end="url(#arrowhead)" d="M362.4569990850869,1326 Q356.23188065213606,813 337.55652535328346,300" stroke="#444444" stroke-width="1" fill="none"></path><text style="text-anchor: middle; font-size: 12px; font-weight: normal; font-family: &#x22;Open Sans&#x22;, sans-serif;" fill="#444444" dominant-baseline="middle" y="813" x="395.0067622191852"><tspan alignment-baseline="mathematical" dy="0">Sends e-mails to</tspan></text></g><text y="20" x="413">System Context diagram for Internet Banking System</text></svg></p>
<p>Mermaid記法なら簡単にグラフを書けて便利なので、どんどん使っていきたいと思います。</p>]]></content:encoded>
        </item>
    </channel>
</rss>